<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Children in Poverty • hercacstables</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Children in Poverty">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">hercacstables</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.0.0.9000</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/hercacstables.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/children_in_poverty.html">Children in Poverty</a></li>
    <li><a class="dropdown-item" href="../articles/determine_geographies.html">determine_geographies</a></li>
    <li><a class="dropdown-item" href="../articles/determine-demographies.html">determine-demographies</a></li>
    <li><a class="dropdown-item" href="../articles/determine-measurement.html">determine-measurement</a></li>
    <li><a class="dropdown-item" href="../articles/determine-timeframes.html">determine-timeframes</a></li>
    <li><a class="dropdown-item" href="../articles/plumbing-and-owner-occupancy.html">Plumbing and Owner-occupancy</a></li>
    <li><a class="dropdown-item" href="../articles/Population-changes-in-school-districts.html">Population changes in school districts</a></li>
    <li><a class="dropdown-item" href="../articles/race_ethnicity_categories.html">Race/Ethnicity Categories in ACS Tables</a></li>
    <li><a class="dropdown-item" href="../articles/set-up-your-api-key.html">Set up your API key</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Children in Poverty</h1>
            
      

      <div class="d-none name"><code>children_in_poverty.Rmd</code></div>
    </div>

    
    
<p>The two tracts are from the northern part of Nashua, NH. Here’s a
map:</p>
<p><img src="children_in_poverty_files/figure-html/map-of-nashville-blocks-1.png" width="576"></p>
<div class="section level2">
<h2 id="families-by-standard-of-living">Families by standard of living<a class="anchor" aria-label="anchor" href="#families-by-standard-of-living"></a>
</h2>
<p>The American Community Survey has a <a href="https://api.census.gov/data/2021/acs/acs5/groups/B17026.html" class="external-link">table</a>
that categorizes families according to the ratio between their income
and the <a href="https://www.census.gov/data/tables/time-series/demo/income-poverty/historical-poverty-thresholds.html" class="external-link">Federal
poverty level in their community</a>. Nowadays, the Federal poverty
level <a href="https://www.latimes.com/opinion/story/2021-09-24/federal-poverty-level-us-families" class="external-link">does
not</a> actually represent an income threshold where families really
start struggling. It is actually more of a measure of where you are in
real danger of <a href="https://www.ers.usda.gov/data-products/ag-and-food-statistics-charting-the-essentials/food-security-and-nutrition-assistance/" class="external-link">starving
to death</a>. For that reason, Higher Expectations for Racine County
uses <strong>three times the Federal poverty level</strong> as its
threshold for a <a href="https://selfsufficiencystandard.org/wisconsin/" class="external-link">family-sustaining
income</a>. The <code>hercacstables</code> package provides a table,
<code>STANDARD_OF_LIVING_METADATA</code>, that describes this
classification.</p>
<table class="table">
<caption>Income ratios from ACS table B17026, classified into standards
of living</caption>
<colgroup>
<col width="16%">
<col width="27%">
<col width="31%">
<col width="25%">
</colgroup>
<thead><tr class="header">
<th align="left">Variable</th>
<th align="right">Least Poverty Ratio</th>
<th align="right">Greatest Poverty Ratio</th>
<th align="left">Standard of Living</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">B17026_001E</td>
<td align="right">-999.00</td>
<td align="right">999.00</td>
<td align="left">Everyone</td>
</tr>
<tr class="even">
<td align="left">B17026_002E</td>
<td align="right">-999.00</td>
<td align="right">0.50</td>
<td align="left">Unsustainable</td>
</tr>
<tr class="odd">
<td align="left">B17026_003E</td>
<td align="right">0.50</td>
<td align="right">0.74</td>
<td align="left">Unsustainable</td>
</tr>
<tr class="even">
<td align="left">B17026_004E</td>
<td align="right">0.75</td>
<td align="right">0.99</td>
<td align="left">Unsustainable</td>
</tr>
<tr class="odd">
<td align="left">B17026_005E</td>
<td align="right">1.00</td>
<td align="right">1.24</td>
<td align="left">Unsustainable</td>
</tr>
<tr class="even">
<td align="left">B17026_006E</td>
<td align="right">1.25</td>
<td align="right">1.49</td>
<td align="left">Unsustainable</td>
</tr>
<tr class="odd">
<td align="left">B17026_007E</td>
<td align="right">1.50</td>
<td align="right">1.74</td>
<td align="left">Unsustainable</td>
</tr>
<tr class="even">
<td align="left">B17026_008E</td>
<td align="right">1.75</td>
<td align="right">1.84</td>
<td align="left">Unsustainable</td>
</tr>
<tr class="odd">
<td align="left">B17026_009E</td>
<td align="right">1.85</td>
<td align="right">1.99</td>
<td align="left">Unsustainable</td>
</tr>
<tr class="even">
<td align="left">B17026_010E</td>
<td align="right">2.00</td>
<td align="right">2.99</td>
<td align="left">Unsustainable</td>
</tr>
<tr class="odd">
<td align="left">B17026_011E</td>
<td align="right">3.00</td>
<td align="right">3.99</td>
<td align="left">Family-sustaining</td>
</tr>
<tr class="even">
<td align="left">B17026_012E</td>
<td align="right">4.00</td>
<td align="right">4.99</td>
<td align="left">Family-sustaining</td>
</tr>
<tr class="odd">
<td align="left">B17026_013E</td>
<td align="right">5.00</td>
<td align="right">999.00</td>
<td align="left">Family-sustaining</td>
</tr>
</tbody>
</table>
<p>We use that table and the Census API look up how many families in
each tract are in each Census income bracket.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">RAW_STANDARD_OF_LIVING</span> <span class="op">&lt;-</span> <span class="fu">hercacstables</span><span class="fu">::</span><span class="va"><a href="../reference/STANDARD_OF_LIVING_METADATA.html">STANDARD_OF_LIVING_METADATA</a></span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span></span>
<span>        <span class="st">"Variable"</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">hercacstables</span><span class="fu">::</span><span class="fu"><a href="../reference/fetch_data.html">fetch_data</a></span><span class="op">(</span></span>
<span>        year <span class="op">=</span> <span class="fl">2021L</span>,</span>
<span>        for_geo <span class="op">=</span> <span class="st">"tract"</span>,</span>
<span>        for_items <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"010400"</span>, <span class="st">"010500"</span><span class="op">)</span>,</span>
<span>        survey_type <span class="op">=</span> <span class="st">"acs"</span>,</span>
<span>        table_or_survey_code <span class="op">=</span> <span class="st">"acs5"</span>,</span>
<span>        state <span class="op">=</span> <span class="fl">33L</span>,</span>
<span>        county <span class="op">=</span> <span class="st">"011"</span>,</span>
<span>        use_key <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<p>Then, we aggregate to get counts of families experiencing
“Unsustainable” and “Sustainable” standards of living.</p>
<table class="table">
<colgroup>
<col width="9%">
<col width="24%">
<col width="18%">
<col width="12%">
<col width="35%">
</colgroup>
<thead><tr class="header">
<th align="left">tract</th>
<th align="right">Family-sustaining</th>
<th align="right">Unsustainable</th>
<th align="right">Everyone</th>
<th align="right">Percent Family-sustaining</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">010400</td>
<td align="right">957</td>
<td align="right">224</td>
<td align="right">1181</td>
<td align="right">81%</td>
</tr>
<tr class="even">
<td align="left">010500</td>
<td align="right">337</td>
<td align="right">633</td>
<td align="right">970</td>
<td align="right">35%</td>
</tr>
</tbody>
</table>
<p>You can see that the economic situations in the two tracts are very
different.</p>
</div>
<div class="section level2">
<h2 id="families-by-children-present">Families by children present<a class="anchor" aria-label="anchor" href="#families-by-children-present"></a>
</h2>
<p>We need to go from counts of families to counts of children, so we
will next look up how many families in each tract have children. The
census has a <a href="https://api.census.gov/data/2022/acs/acs1/groups/B11003.html" class="external-link">table</a>
for this that reports how many families have no kids, kids under 6, kids
6-17, or both. The <code>hercacstables</code> package has a table,
<code>FAMILIES_WITH_CHILDREN_METADATA</code>, that describes the
relationship between the ACS variables and the presence/absence of
children.</p>
<table style="width:100%;" class="table">
<colgroup>
<col width="14%">
<col width="46%">
<col width="20%">
<col width="17%">
</colgroup>
<thead><tr class="header">
<th align="left">Variable</th>
<th align="left">Adults</th>
<th align="left">Children under 6</th>
<th align="left">Children 6-17</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">B11003_004E</td>
<td align="left">Married Couple</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">B11003_005E</td>
<td align="left">Married Couple</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">B11003_006E</td>
<td align="left">Married Couple</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">B11003_007E</td>
<td align="left">Married Couple</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">B11003_011E</td>
<td align="left">Male householder, no spouse present</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">B11003_012E</td>
<td align="left">Male householder, no spouse present</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">B11003_013E</td>
<td align="left">Male householder, no spouse present</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">B11003_014E</td>
<td align="left">Male householder, no spouse present</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
</tr>
<tr class="odd">
<td align="left">B11003_017E</td>
<td align="left">Female householder, no spouse present</td>
<td align="left">TRUE</td>
<td align="left">FALSE</td>
</tr>
<tr class="even">
<td align="left">B11003_018E</td>
<td align="left">Female householder, no spouse present</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">B11003_019E</td>
<td align="left">Female householder, no spouse present</td>
<td align="left">FALSE</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">B11003_020E</td>
<td align="left">Female householder, no spouse present</td>
<td align="left">FALSE</td>
<td align="left">FALSE</td>
</tr>
</tbody>
</table>
<p>We can use this table to query the API to get the number of families
with children in each of the census tracts that we are interested in.
Notice that the only difference between this query and the previous one
is which variables we are asking for. The whole point of the
<code>hercacstables</code> package is to help you not repeat yourself
when you are asking for many different pieces of census information
about the same place.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">RAW_FAMILIES_WITH_CHILDREN</span> <span class="op">&lt;-</span> <span class="fu">hercacstables</span><span class="fu">::</span><span class="va"><a href="../reference/FAMILIES_WITH_CHILDREN_METADATA.html">FAMILIES_WITH_CHILDREN_METADATA</a></span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span></span>
<span>        <span class="st">"Variable"</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">hercacstables</span><span class="fu">::</span><span class="fu"><a href="../reference/fetch_data.html">fetch_data</a></span><span class="op">(</span></span>
<span>        year <span class="op">=</span> <span class="fl">2021L</span>,</span>
<span>        for_geo <span class="op">=</span> <span class="st">"tract"</span>,</span>
<span>        for_items <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"010400"</span>, <span class="st">"010500"</span><span class="op">)</span>,</span>
<span>        survey_type <span class="op">=</span> <span class="st">"acs"</span>,</span>
<span>        table_or_survey_code <span class="op">=</span> <span class="st">"acs5"</span>,</span>
<span>        state <span class="op">=</span> <span class="fl">33L</span>,</span>
<span>        county <span class="op">=</span> <span class="st">"011"</span>,</span>
<span>        use_key <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<p>We will aggregate the families into “Children Present” and “No
Children.”</p>
<table class="table">
<thead><tr class="header">
<th align="left">tract</th>
<th align="right">Children Present</th>
<th align="right">No Children</th>
<th align="right">Total</th>
<th align="right">Percent with Children</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">010400</td>
<td align="right">460</td>
<td align="right">721</td>
<td align="right">1181</td>
<td align="right">39%</td>
</tr>
<tr class="even">
<td align="left">010500</td>
<td align="right">470</td>
<td align="right">500</td>
<td align="right">970</td>
<td align="right">48%</td>
</tr>
</tbody>
</table>
<p>Once again, we see a pretty substantial difference between the two
tracts. Reassuringly, the total number of families is the same in both
sets of data.</p>
</div>
<div class="section level2">
<h2 id="children-per-family-by-poverty-level">Children per family by poverty level<a class="anchor" aria-label="anchor" href="#children-per-family-by-poverty-level"></a>
</h2>
<p>The last set of raw data that we need is the number of children
living in poverty. “But, wait!” you say, “Isn’t that everything we
needed in the first place?” That would be true, except that the best we
can get from the ACS is a <a href="https://api.census.gov/data/2022/acs/acs1/groups/B05010.html" class="external-link">table</a>
that has detailed information about parents’ birth origins but only
distinguishes three income tiers: less than the Federal poverty level,
1x-2x, and more than 2x the Federal poverty level. The
<code>hercacstables</code> package’s table
<code>CHILDREN_IN_POVERTY_METADATA</code> describes how the variables in
that table map to parental place of birth and kid poverty.</p>
<table class="table">
<colgroup>
<col width="10%">
<col width="17%">
<col width="20%">
<col width="16%">
<col width="17%">
<col width="18%">
</colgroup>
<thead><tr class="header">
<th align="left">Variable</th>
<th align="right">Least Poverty Ratio</th>
<th align="right">Greatest Poverty Ratio</th>
<th align="left">Standard of Living</th>
<th align="right">Native-Born Parents</th>
<th align="right">Foreign-Born Parents</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">B05010_004E</td>
<td align="right">-999</td>
<td align="right">1.00</td>
<td align="left">Unsustainable</td>
<td align="right">2</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">B05010_005E</td>
<td align="right">-999</td>
<td align="right">1.00</td>
<td align="left">Unsustainable</td>
<td align="right">0</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">B05010_006E</td>
<td align="right">-999</td>
<td align="right">1.00</td>
<td align="left">Unsustainable</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">B05010_008E</td>
<td align="right">-999</td>
<td align="right">1.00</td>
<td align="left">Unsustainable</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">B05010_009E</td>
<td align="right">-999</td>
<td align="right">1.00</td>
<td align="left">Unsustainable</td>
<td align="right">0</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">B05010_012E</td>
<td align="right">1</td>
<td align="right">1.99</td>
<td align="left">Unsustainable</td>
<td align="right">2</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">B05010_013E</td>
<td align="right">1</td>
<td align="right">1.99</td>
<td align="left">Unsustainable</td>
<td align="right">0</td>
<td align="right">2</td>
</tr>
<tr class="even">
<td align="left">B05010_014E</td>
<td align="right">1</td>
<td align="right">1.99</td>
<td align="left">Unsustainable</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">B05010_016E</td>
<td align="right">1</td>
<td align="right">1.99</td>
<td align="left">Unsustainable</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">B05010_017E</td>
<td align="right">1</td>
<td align="right">1.99</td>
<td align="left">Unsustainable</td>
<td align="right">0</td>
<td align="right">1</td>
</tr>
<tr class="odd">
<td align="left">B05010_020E</td>
<td align="right">2</td>
<td align="right">999.00</td>
<td align="left">Mixed</td>
<td align="right">2</td>
<td align="right">0</td>
</tr>
<tr class="even">
<td align="left">B05010_021E</td>
<td align="right">2</td>
<td align="right">999.00</td>
<td align="left">Mixed</td>
<td align="right">0</td>
<td align="right">2</td>
</tr>
<tr class="odd">
<td align="left">B05010_022E</td>
<td align="right">2</td>
<td align="right">999.00</td>
<td align="left">Mixed</td>
<td align="right">1</td>
<td align="right">1</td>
</tr>
<tr class="even">
<td align="left">B05010_024E</td>
<td align="right">2</td>
<td align="right">999.00</td>
<td align="left">Mixed</td>
<td align="right">1</td>
<td align="right">0</td>
</tr>
<tr class="odd">
<td align="left">B05010_025E</td>
<td align="right">2</td>
<td align="right">999.00</td>
<td align="left">Mixed</td>
<td align="right">0</td>
<td align="right">1</td>
</tr>
</tbody>
</table>
<p>Here’s the query to get those data:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">RAW_CHILDREN_IN_POVERTY</span> <span class="op">&lt;-</span> <span class="fu">hercacstables</span><span class="fu">::</span><span class="va"><a href="../reference/CHILDREN_IN_POVERTY_METADATA.html">CHILDREN_IN_POVERTY_METADATA</a></span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/pull.html" class="external-link">pull</a></span><span class="op">(</span></span>
<span>        <span class="st">"Variable"</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">hercacstables</span><span class="fu">::</span><span class="fu"><a href="../reference/fetch_data.html">fetch_data</a></span><span class="op">(</span></span>
<span>        year <span class="op">=</span> <span class="fl">2021L</span>,</span>
<span>        for_geo <span class="op">=</span> <span class="st">"tract"</span>,</span>
<span>        for_items <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"010400"</span>, <span class="st">"010500"</span><span class="op">)</span>,</span>
<span>        survey_type <span class="op">=</span> <span class="st">"acs"</span>,</span>
<span>        table_or_survey_code <span class="op">=</span> <span class="st">"acs5"</span>,</span>
<span>        state <span class="op">=</span> <span class="fl">33L</span>,</span>
<span>        county <span class="op">=</span> <span class="st">"011"</span>,</span>
<span>        use_key <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<p>We want <strong>3x</strong> the poverty level, so we will lump the
“less than 1x” and “1x-2x” tiers into “Unsustainable,” leaving us with
the “2x+” tier that mixes both the “2x-3x” tier that we are calling
“Unsustainable” and the “3x+” tier that we are calling
“Sustainable.”</p>
<table class="table">
<thead><tr class="header">
<th align="left">tract</th>
<th align="right">Mixed</th>
<th align="right">Unsustainable</th>
<th align="right">Children</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">010400</td>
<td align="right">1037</td>
<td align="right">126</td>
<td align="right">1163</td>
</tr>
<tr class="even">
<td align="left">010500</td>
<td align="right">401</td>
<td align="right">322</td>
<td align="right">723</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="join-the-three-datasets">Join the three datasets<a class="anchor" aria-label="anchor" href="#join-the-three-datasets"></a>
</h2>
<p>Each of the three queries resulted in a data frame where rows
correspond to census tracts, so we can join the three results by the
“tract” column. We can also remove some of the duplicate columns to end
up with just the tract, the number of kids, the number of families, and
the percentages of families with children and with sustainable standards
of living.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">CHILDREN_BY_TRACT</span> <span class="op">&lt;-</span> <span class="va">CHILDREN_IN_POVERTY</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">inner_join</a></span><span class="op">(</span></span>
<span>        <span class="va">FAMILIES_WITH_CHILDREN</span>,</span>
<span>        by <span class="op">=</span> <span class="st">"tract"</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">inner_join</a></span><span class="op">(</span></span>
<span>        <span class="va">STANDARD_OF_LIVING</span>,</span>
<span>        by <span class="op">=</span> <span class="st">"tract"</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span></span>
<span>        <span class="st">"tract"</span>,</span>
<span>        <span class="st">"Children"</span>,</span>
<span>        <span class="st">"Mixed"</span>,</span>
<span>        <span class="st">"Observed Unsustainable"</span> <span class="op">=</span> <span class="st">"Unsustainable.x"</span>,</span>
<span>        <span class="st">"Families"</span> <span class="op">=</span> <span class="st">"Total"</span>,</span>
<span>        <span class="fu">tidyselect</span><span class="fu">::</span><span class="fu"><a href="https://tidyselect.r-lib.org/reference/starts_with.html" class="external-link">starts_with</a></span><span class="op">(</span><span class="st">"Percent"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<p>This is what that table looks like:</p>
<table class="table">
<colgroup>
<col width="6%">
<col width="8%">
<col width="5%">
<col width="22%">
<col width="8%">
<col width="21%">
<col width="25%">
</colgroup>
<thead><tr class="header">
<th align="left">tract</th>
<th align="right">Children</th>
<th align="right">Mixed</th>
<th align="right">Observed Unsustainable</th>
<th align="right">Families</th>
<th align="right">Percent with Children</th>
<th align="right">Percent Family-sustaining</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">010400</td>
<td align="right">1163</td>
<td align="right">1037</td>
<td align="right">126</td>
<td align="right">1181</td>
<td align="right">39%</td>
<td align="right">81%</td>
</tr>
<tr class="even">
<td align="left">010500</td>
<td align="right">723</td>
<td align="right">401</td>
<td align="right">322</td>
<td align="right">970</td>
<td align="right">48%</td>
<td align="right">35%</td>
</tr>
</tbody>
</table>
<p>You can see that, in this case, we did not actually need to pull the
number of families with children. If we were doing an even nerdier dive,
though, we could use the fraction of families with children to look at
poverty across demographics like race or ethnicity.</p>
<p>In this case, though, we just need to multiply the total number of
children by the percentage of families that have an sustainable standard
of living.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">SUSTAINABLE_KIDS</span> <span class="op">&lt;-</span> <span class="va">CHILDREN_BY_TRACT</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>        `Expected Unsustainable` <span class="op">=</span> <span class="va">.data</span><span class="op">$</span><span class="va">Children</span> <span class="op">*</span> <span class="op">(</span><span class="fl">1</span> <span class="op">-</span> <span class="va">.data</span><span class="op">$</span><span class="va">`Percent Family-sustaining`</span><span class="op">)</span>,</span>
<span>        `Extra Unsustainable` <span class="op">=</span> <span class="va">.data</span><span class="op">$</span><span class="va">`Expected Unsustainable`</span> <span class="op">-</span> <span class="va">.data</span><span class="op">$</span><span class="va">`Observed Unsustainable`</span>,</span>
<span>        `Sustainable Kids` <span class="op">=</span> <span class="va">.data</span><span class="op">$</span><span class="va">Mixed</span> <span class="op">-</span> <span class="va">.data</span><span class="op">$</span><span class="va">`Extra Unsustainable`</span>,</span>
<span>        `Percent kids in Sustainable` <span class="op">=</span> <span class="va">.data</span><span class="op">$</span><span class="va">`Sustainable Kids`</span> <span class="op">/</span> <span class="va">.data</span><span class="op">$</span><span class="va">Children</span>,</span>
<span>        `Expected Sustainable` <span class="op">=</span> <span class="va">.data</span><span class="op">$</span><span class="va">Children</span> <span class="op">*</span> <span class="va">.data</span><span class="op">$</span><span class="va">`Percent Family-sustaining`</span></span>
<span>    <span class="op">)</span></span>
<span></span>
<span><span class="va">SUSTAINABLE_KIDS</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span></span>
<span>        <span class="st">"tract"</span>,</span>
<span>        <span class="st">"Children"</span>,</span>
<span>        <span class="st">"Percent Family-sustaining"</span>,</span>
<span>        <span class="st">"Expected Sustainable"</span>,</span>
<span>        <span class="st">"Expected Unsustainable"</span>,</span>
<span>        <span class="st">"Mixed"</span>,</span>
<span>        <span class="st">"Observed Unsustainable"</span>,</span>
<span>        <span class="st">"Extra Unsustainable"</span>,</span>
<span>        <span class="st">"Sustainable Kids"</span>,</span>
<span>        <span class="st">"Percent kids in Sustainable"</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="3%">
<col width="5%">
<col width="14%">
<col width="11%">
<col width="12%">
<col width="3%">
<col width="12%">
<col width="11%">
<col width="9%">
<col width="15%">
</colgroup>
<thead><tr class="header">
<th align="left">tract</th>
<th align="right">Children</th>
<th align="right">Percent Family-sustaining</th>
<th align="right">Expected Sustainable</th>
<th align="right">Expected Unsustainable</th>
<th align="right">Mixed</th>
<th align="right">Observed Unsustainable</th>
<th align="right">Extra Unsustainable</th>
<th align="right">Sustainable Kids</th>
<th align="right">Percent kids in Sustainable</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">010400</td>
<td align="right">1163</td>
<td align="right">0.8103302</td>
<td align="right">942.4141</td>
<td align="right">220.5859</td>
<td align="right">1037</td>
<td align="right">126</td>
<td align="right">94.58594</td>
<td align="right">942.4141</td>
<td align="right">0.8103302</td>
</tr>
<tr class="even">
<td align="left">010500</td>
<td align="right">723</td>
<td align="right">0.3474227</td>
<td align="right">251.1866</td>
<td align="right">471.8134</td>
<td align="right">401</td>
<td align="right">322</td>
<td align="right">149.81340</td>
<td align="right">251.1866</td>
<td align="right">0.3474227</td>
</tr>
</tbody>
</table>
</div>
  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Higher Expectations for Racine County, Ben Taft.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.1.1.</p>
</div>

    </footer>
</div>





  </body>
</html>
