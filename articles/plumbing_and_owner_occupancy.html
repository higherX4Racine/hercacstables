<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<title>Plumbing and Owner-occupancy • hercacstables</title>
<script src="../deps/jquery-3.6.0/jquery-3.6.0.min.js"></script><meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
<link href="../deps/bootstrap-5.3.1/bootstrap.min.css" rel="stylesheet">
<script src="../deps/bootstrap-5.3.1/bootstrap.bundle.min.js"></script><link href="../deps/font-awesome-6.5.2/css/all.min.css" rel="stylesheet">
<link href="../deps/font-awesome-6.5.2/css/v4-shims.min.css" rel="stylesheet">
<script src="../deps/headroom-0.11.0/headroom.min.js"></script><script src="../deps/headroom-0.11.0/jQuery.headroom.min.js"></script><script src="../deps/bootstrap-toc-1.0.1/bootstrap-toc.min.js"></script><script src="../deps/clipboard.js-2.0.11/clipboard.min.js"></script><script src="../deps/search-1.0.0/autocomplete.jquery.min.js"></script><script src="../deps/search-1.0.0/fuse.min.js"></script><script src="../deps/search-1.0.0/mark.min.js"></script><!-- pkgdown --><script src="../pkgdown.js"></script><meta property="og:title" content="Plumbing and Owner-occupancy">
</head>
<body>
    <a href="#main" class="visually-hidden-focusable">Skip to contents</a>


    <nav class="navbar navbar-expand-lg fixed-top bg-light" data-bs-theme="light" aria-label="Site navigation"><div class="container">

    <a class="navbar-brand me-2" href="../index.html">hercacstables</a>

    <small class="nav-text text-muted me-auto" data-bs-toggle="tooltip" data-bs-placement="bottom" title="">0.1.0.1</small>


    <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbar" aria-controls="navbar" aria-expanded="false" aria-label="Toggle navigation">
      <span class="navbar-toggler-icon"></span>
    </button>

    <div id="navbar" class="collapse navbar-collapse ms-3">
      <ul class="navbar-nav me-auto">
<li class="nav-item"><a class="nav-link" href="../articles/hercacstables.html">Get started</a></li>
<li class="nav-item"><a class="nav-link" href="../reference/index.html">Reference</a></li>
<li class="active nav-item dropdown">
  <button class="nav-link dropdown-toggle" type="button" id="dropdown-articles" data-bs-toggle="dropdown" aria-expanded="false" aria-haspopup="true">Articles</button>
  <ul class="dropdown-menu" aria-labelledby="dropdown-articles">
<li><a class="dropdown-item" href="../articles/set_up_your_api_key.html">Set up your API key</a></li>
    <li><a class="dropdown-item" href="../articles/race_ethnicity_categories.html">Race/Ethnicity Categories in ACS Tables</a></li>
    <li><a class="dropdown-item" href="../articles/reusability.html">Reusability</a></li>
    <li><hr class="dropdown-divider"></li>
    <li><a class="dropdown-item" href="../articles/index.html">More articles...</a></li>
  </ul>
</li>
      </ul>
<ul class="navbar-nav">
<li class="nav-item"><form class="form-inline" role="search">
 <input class="form-control" type="search" name="search-input" id="search-input" autocomplete="off" aria-label="Search site" placeholder="Search for" data-search-index="../search.json">
</form></li>
<li class="nav-item"><a class="external-link nav-link" href="https://github.com/higherX4Racine/hercacstables" aria-label="GitHub"><span class="fa fab fa-github fa-lg"></span></a></li>
      </ul>
</div>


  </div>
</nav><div class="container template-article">




<div class="row">
  <main id="main" class="col-md-9"><div class="page-header">

      <h1>Plumbing and Owner-occupancy</h1>
            
      

      <div class="d-none name"><code>plumbing_and_owner_occupancy.Rmd</code></div>
    </div>

    
    
<p>Let’s say that you are a data intern for a <a href="https://cityofracine.org/WasteWater/Commission/" class="external-link">wastewater
agency</a> in the southeastern part of Wisconsin. Your mentors have
asked you to find insights from the American Community Survey.</p>
<div class="section level2">
<h2 id="specifying-your-community">Specifying your community<a class="anchor" aria-label="anchor" href="#specifying-your-community"></a>
</h2>
<p>They tell you that the wastewater commission’s area of responsibility
is essentially identical to the local school district’s, <a href="https://www.rusd.org" class="external-link">Racine Unified</a>.</p>
<p>You look for geographical levels related to schools in
<code><a href="../reference/METADATA_FOR_ACS_GEOGRAPHIES.html">hercacstables::METADATA_FOR_ACS_GEOGRAPHIES</a></code>.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">SCHOOL_GEOGRAPHIES</span> <span class="op">&lt;-</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span><span class="fu">hercacstables</span><span class="fu">::</span><span class="va"><a href="../reference/METADATA_FOR_ACS_GEOGRAPHIES.html">METADATA_FOR_ACS_GEOGRAPHIES</a></span>,</span>
<span>                                    <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"school"</span>, <span class="va">.data</span><span class="op">$</span><span class="va">`Geographic Level`</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p>This table tells us two things. First, the geographic level that you
should examine is “school district (unified)”. Second, you also need to
specify the state when you’re fetching data about it. With
<code><a href="../reference/fetch_data.html">hercacstables::fetch_data()</a></code>, and tools from the <a href="https://www.tidyverse.org" title="The tidyverse" class="external-link">tidyverse</a>,
you can find the FIPS codes for unified school districts in Wisconsin
that have the word “Racine” in them.</p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">RACINE_DISTRICTS</span> <span class="op">&lt;-</span> <span class="st">"NAME"</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">hercacstables</span><span class="fu">::</span><span class="fu"><a href="../reference/fetch_data.html">fetch_data</a></span><span class="op">(</span></span>
<span>        variables <span class="op">=</span> <span class="va">_</span>,</span>
<span>        year <span class="op">=</span> <span class="fl">2020</span>,                           <span class="co"># the most recent decennial</span></span>
<span>        for_geo <span class="op">=</span> <span class="st">"school district (unified)"</span>, <span class="co"># see above</span></span>
<span>        for_items <span class="op">=</span> <span class="st">"*"</span>,                       <span class="co"># this wildcard gets every item</span></span>
<span>        survey_type <span class="op">=</span> <span class="st">"dec"</span>,                   <span class="co"># not actually the ACS *flex*</span></span>
<span>        table_or_survey_code <span class="op">=</span> <span class="st">"pl"</span>,           <span class="co"># this data set is similar to ACS</span></span>
<span>        state <span class="op">=</span> <span class="fl">55L</span>                            <span class="co"># the Badger State</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>        <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_detect.html" class="external-link">str_detect</a></span><span class="op">(</span><span class="va">.data</span><span class="op">$</span><span class="va">NAME</span>, <span class="st">"Racine"</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<table style="width:100%;" class="table">
<colgroup>
<col width="47%">
<col width="8%">
<col width="36%">
<col width="7%">
</colgroup>
<thead><tr class="header">
<th align="left">NAME</th>
<th align="left">state</th>
<th align="left">school district (unified)</th>
<th align="right">Year</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">Racine School District, Wisconsin</td>
<td align="left">55</td>
<td align="left">12360</td>
<td align="right">2020</td>
</tr></tbody>
</table>
</div>
<div class="section level2">
<h2 id="finding-relevant-data">Finding relevant data<a class="anchor" aria-label="anchor" href="#finding-relevant-data"></a>
</h2>
<p>The first thing that you could do is to check for data related to
plumbing. If you were doing this without R, you might visit <a href="https://data.census.gov" class="external-link">data.census.gov</a> and search for “ACS
plumbing”.</p>
<div class="section level3">
<h3 id="groups-with-relevant-data">Groups with relevant data<a class="anchor" aria-label="anchor" href="#groups-with-relevant-data"></a>
</h3>
<p>With <code>hercacstables</code>, you would search within its glossary
about ACS groups:</p>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">PLUMBING_GROUPS</span> <span class="op">&lt;-</span> <span class="fu">hercacstables</span><span class="fu">::</span><span class="va"><a href="../reference/METADATA_FOR_ACS_GROUPS.html">METADATA_FOR_ACS_GROUPS</a></span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>        <span class="fu"><a href="https://rdrr.io/r/base/grep.html" class="external-link">grepl</a></span><span class="op">(</span><span class="st">"plumbing"</span>,         <span class="co"># search for the term "plumbing"</span></span>
<span>              <span class="va">.data</span><span class="op">$</span><span class="va">Description</span>,  <span class="co"># within the "Description" column</span></span>
<span>              ignore.case <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span> <span class="co"># ignore capitalization</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="6%">
<col width="21%">
<col width="62%">
<col width="4%">
<col width="4%">
</colgroup>
<thead><tr class="header">
<th align="left">Group</th>
<th align="left">Universe</th>
<th align="left">Description</th>
<th align="left">ACS1</th>
<th align="left">ACS5</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">B25016</td>
<td align="left">Occupied housing units</td>
<td align="left">Tenure by Plumbing Facilities by Occupants per
Room</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">B25047</td>
<td align="left">Housing units</td>
<td align="left">Plumbing Facilities for All Housing Units</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">B25048</td>
<td align="left">Occupied housing units</td>
<td align="left">Plumbing Facilities for Occupied Housing Units</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">B25049</td>
<td align="left">Occupied housing units</td>
<td align="left">Tenure by Plumbing Facilities</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
</tr>
<tr class="odd">
<td align="left">B25050</td>
<td align="left">Occupied housing units</td>
<td align="left">Plumbing Facilities by Occupants per Room by Year
Structure Built</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
</tr>
<tr class="even">
<td align="left">B99259</td>
<td align="left">Housing units</td>
<td align="left">Allocation of Plumbing Facilities</td>
<td align="left">TRUE</td>
<td align="left">TRUE</td>
</tr>
</tbody>
</table>
<p>It appears that the keyword “plumbing” appears in 6 different ACS
groups.</p>
</div>
</div>
<div class="section level2">
<h2 id="specific-variables-about-plumbing">Specific variables about plumbing<a class="anchor" aria-label="anchor" href="#specific-variables-about-plumbing"></a>
</h2>
<p>Let’s say that “Tenure<a class="footnote-ref" tabindex="0" data-bs-toggle="popover" data-bs-content="&lt;p&gt; Whether the occupants rent or own, not if they can’t be
fired.&lt;/p&gt;"><sup>1</sup></a> by plumbing facilities” jumps out to you as
potentially interesting.</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">GROUP</span> <span class="op">&lt;-</span> <span class="st">"B25049"</span></span></code></pre></div>
<p>There <code>hercacstables</code> also provides glossary about
variables. You can search it to see details about each variable in group
B25049.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">PLUMBING_VARIABLES</span> <span class="op">&lt;-</span> <span class="fu">hercacstables</span><span class="fu">::</span><span class="va"><a href="../reference/METADATA_FOR_ACS_VARIABLES.html">METADATA_FOR_ACS_VARIABLES</a></span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>        <span class="va">.data</span><span class="op">$</span><span class="va">Dataset</span> <span class="op">==</span> <span class="st">"ACS5"</span>, <span class="co"># use the 1-year dataset only</span></span>
<span>        <span class="va">.data</span><span class="op">$</span><span class="va">Group</span> <span class="op">==</span> <span class="va">GROUP</span>     <span class="co"># pull all of the variables for this group</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="8%">
<col width="7%">
<col width="6%">
<col width="13%">
<col width="64%">
</colgroup>
<thead><tr class="header">
<th align="left">Dataset</th>
<th align="left">Group</th>
<th align="right">Index</th>
<th align="left">Variable</th>
<th align="left">Details</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">ACS5</td>
<td align="left">B25049</td>
<td align="right">1</td>
<td align="left">B25049_001E</td>
<td align="left"></td>
</tr>
<tr class="even">
<td align="left">ACS5</td>
<td align="left">B25049</td>
<td align="right">2</td>
<td align="left">B25049_002E</td>
<td align="left">Owner occupied</td>
</tr>
<tr class="odd">
<td align="left">ACS5</td>
<td align="left">B25049</td>
<td align="right">3</td>
<td align="left">B25049_003E</td>
<td align="left">Owner occupied , Complete plumbing facilities</td>
</tr>
<tr class="even">
<td align="left">ACS5</td>
<td align="left">B25049</td>
<td align="right">4</td>
<td align="left">B25049_004E</td>
<td align="left">Owner occupied , Lacking plumbing facilities</td>
</tr>
<tr class="odd">
<td align="left">ACS5</td>
<td align="left">B25049</td>
<td align="right">5</td>
<td align="left">B25049_005E</td>
<td align="left">Renter occupied</td>
</tr>
<tr class="even">
<td align="left">ACS5</td>
<td align="left">B25049</td>
<td align="right">6</td>
<td align="left">B25049_006E</td>
<td align="left">Renter occupied , Complete plumbing facilities</td>
</tr>
<tr class="odd">
<td align="left">ACS5</td>
<td align="left">B25049</td>
<td align="right">7</td>
<td align="left">B25049_007E</td>
<td align="left">Renter occupied , Lacking plumbing facilities</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="unpacking-variable-details">Unpacking variable details<a class="anchor" aria-label="anchor" href="#unpacking-variable-details"></a>
</h2>
<p>You can see that group B25049 reports the number of households that
have, or do not have, plumbing facilities. It further breaks those
households down into renters and owner-occupants. The raw glossary from
the Census, and in
<code><a href="../reference/METADATA_FOR_ACS_VARIABLES.html">hercacstables::METADATA_FOR_ACS_VARIABLES</a></code>, packs all of
that information into the “Details” column.</p>
<p>It would be more useful if we actually had separate columns for the
types of tenure and plumbing facilities. You can use
<code><a href="../reference/unpack_group_details.html">hercacstables::unpack_group_details()</a></code> to do this, in
combination with tools from the <a href="https://www.tidyverse.org" title="The tidyverse" class="external-link">tidyverse</a>.</p>
<p>You might also decide that you don’t the rows that report the total
number of households (row 1) and subtotals by tenure (2 and 5). You’ll
have that data anyway from 3, 4, 6, and 7.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">PLUMBING_VARIABLES</span> <span class="op">&lt;-</span> <span class="va">GROUP</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">hercacstables</span><span class="fu">::</span><span class="fu"><a href="../reference/unpack_group_details.html">unpack_group_details</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>        <span class="va">.data</span><span class="op">$</span><span class="va">Dataset</span> <span class="op">==</span> <span class="st">"ACS5"</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/rename.html" class="external-link">rename</a></span><span class="op">(</span></span>
<span>        Tenure <span class="op">=</span> <span class="st">"A"</span>,</span>
<span>        Plumbing <span class="op">=</span> <span class="st">"B"</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/filter.html" class="external-link">filter</a></span><span class="op">(</span></span>
<span>        <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">if_all</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Tenure"</span>, <span class="st">"Plumbing"</span><span class="op">)</span>,</span>
<span>                      \<span class="op">(</span><span class="va">.</span><span class="op">)</span> <span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/nchar.html" class="external-link">nchar</a></span><span class="op">(</span><span class="va">.</span><span class="op">)</span> <span class="op">&gt;</span> <span class="fl">0</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="10%">
<col width="8%">
<col width="7%">
<col width="15%">
<col width="20%">
<col width="37%">
</colgroup>
<thead><tr class="header">
<th align="left">Dataset</th>
<th align="left">Group</th>
<th align="right">Index</th>
<th align="left">Variable</th>
<th align="left">Tenure</th>
<th align="left">Plumbing</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">ACS5</td>
<td align="left">B25049</td>
<td align="right">3</td>
<td align="left">B25049_003E</td>
<td align="left">Owner occupied</td>
<td align="left">Complete plumbing facilities</td>
</tr>
<tr class="even">
<td align="left">ACS5</td>
<td align="left">B25049</td>
<td align="right">4</td>
<td align="left">B25049_004E</td>
<td align="left">Owner occupied</td>
<td align="left">Lacking plumbing facilities</td>
</tr>
<tr class="odd">
<td align="left">ACS5</td>
<td align="left">B25049</td>
<td align="right">6</td>
<td align="left">B25049_006E</td>
<td align="left">Renter occupied</td>
<td align="left">Complete plumbing facilities</td>
</tr>
<tr class="even">
<td align="left">ACS5</td>
<td align="left">B25049</td>
<td align="right">7</td>
<td align="left">B25049_007E</td>
<td align="left">Renter occupied</td>
<td align="left">Lacking plumbing facilities</td>
</tr>
</tbody>
</table>
</div>
<div class="section level2">
<h2 id="fetch-data">Fetch data<a class="anchor" aria-label="anchor" href="#fetch-data"></a>
</h2>
<p>You are finally ready to pull a some census data about plumbing! For
starters, you could compare the local area to the whole county, the
state, its census region, and the whole country. Once again, we’ll use
<code><a href="../reference/fetch_data.html">hercacstables::fetch_data()</a></code> and the <a href="https://www.tidyverse.org" title="The tidyverse" class="external-link">tidyverse</a>.</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">YEAR</span> <span class="op">&lt;-</span> <span class="fu">hercacstables</span><span class="fu">::</span><span class="fu"><a href="../reference/most_recent_vintage.html">most_recent_vintage</a></span><span class="op">(</span><span class="st">"acs"</span>, <span class="st">"acs5"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">RAW_PLUMBING</span> <span class="op">&lt;-</span> <span class="fu">tibble</span><span class="fu">::</span><span class="fu"><a href="https://tibble.tidyverse.org/reference/tribble.html" class="external-link">tribble</a></span><span class="op">(</span></span>
<span>    <span class="op">~</span> <span class="va">geo</span>,                       <span class="op">~</span> <span class="va">items</span>, <span class="op">~</span> <span class="va">other</span>,</span>
<span>    <span class="st">"us"</span>,                        <span class="st">"1"</span>,     <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    <span class="st">"region"</span>,                    <span class="st">"2"</span>,     <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    <span class="st">"state"</span>,                     <span class="st">"55"</span>,    <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span><span class="op">)</span>,</span>
<span>    <span class="st">"county"</span>,                    <span class="st">"101"</span>,   <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>state <span class="op">=</span> <span class="fl">55</span><span class="op">)</span>,</span>
<span>    <span class="st">"school district (unified)"</span>, <span class="st">"12360"</span>, <span class="fu"><a href="https://rdrr.io/r/base/list.html" class="external-link">list</a></span><span class="op">(</span>state <span class="op">=</span> <span class="fl">55</span><span class="op">)</span></span>
<span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/pmap.html" class="external-link">pmap</a></span><span class="op">(</span></span>
<span>        \<span class="op">(</span><span class="va">geo</span>, <span class="va">items</span>, <span class="va">other</span><span class="op">)</span> <span class="fu">rlang</span><span class="fu">::</span><span class="fu"><a href="https://rlang.r-lib.org/reference/inject.html" class="external-link">inject</a></span><span class="op">(</span></span>
<span>            <span class="fu">hercacstables</span><span class="fu">::</span><span class="fu"><a href="../reference/fetch_data.html">fetch_data</a></span><span class="op">(</span></span>
<span>                variables <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"NAME"</span>, <span class="va">PLUMBING_VARIABLES</span><span class="op">$</span><span class="va">Variable</span><span class="op">)</span>,</span>
<span>                year <span class="op">=</span> <span class="va">YEAR</span>,</span>
<span>                for_geo <span class="op">=</span> <span class="va">geo</span>,</span>
<span>                for_items <span class="op">=</span> <span class="va">items</span>,</span>
<span>                survey_type <span class="op">=</span> <span class="st">"acs"</span>,</span>
<span>                table_or_survey_code <span class="op">=</span> <span class="st">"acs5"</span>,</span>
<span>                <span class="op">!</span><span class="op">!</span><span class="op">!</span><span class="va">other</span></span>
<span>            <span class="op">)</span></span>
<span>        <span class="op">)</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">NAME</th>
<th align="left">us</th>
<th align="left">Group</th>
<th align="right">Index</th>
<th align="left">Measure</th>
<th align="right">Value</th>
<th align="right">Year</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">United States</td>
<td align="left">1</td>
<td align="left">B25049</td>
<td align="right">3</td>
<td align="left">E</td>
<td align="right">82628718</td>
<td align="right">2023</td>
</tr></tbody>
</table>
<table class="table">
<thead><tr class="header">
<th align="left">NAME</th>
<th align="left">region</th>
<th align="left">Group</th>
<th align="right">Index</th>
<th align="left">Measure</th>
<th align="right">Value</th>
<th align="right">Year</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">Midwest Region</td>
<td align="left">2</td>
<td align="left">B25049</td>
<td align="right">3</td>
<td align="left">E</td>
<td align="right">19041735</td>
<td align="right">2023</td>
</tr></tbody>
</table>
<table class="table">
<thead><tr class="header">
<th align="left">NAME</th>
<th align="left">state</th>
<th align="left">Group</th>
<th align="right">Index</th>
<th align="left">Measure</th>
<th align="right">Value</th>
<th align="right">Year</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">Wisconsin</td>
<td align="left">55</td>
<td align="left">B25049</td>
<td align="right">3</td>
<td align="left">E</td>
<td align="right">1655255</td>
<td align="right">2023</td>
</tr></tbody>
</table>
<table class="table">
<colgroup>
<col width="35%">
<col width="8%">
<col width="10%">
<col width="10%">
<col width="8%">
<col width="11%">
<col width="8%">
<col width="7%">
</colgroup>
<thead><tr class="header">
<th align="left">NAME</th>
<th align="left">state</th>
<th align="left">county</th>
<th align="left">Group</th>
<th align="right">Index</th>
<th align="left">Measure</th>
<th align="right">Value</th>
<th align="right">Year</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">Racine County, Wisconsin</td>
<td align="left">55</td>
<td align="left">101</td>
<td align="left">B25049</td>
<td align="right">3</td>
<td align="left">E</td>
<td align="right">56159</td>
<td align="right">2023</td>
</tr></tbody>
</table>
<table class="table">
<colgroup>
<col width="34%">
<col width="6%">
<col width="26%">
<col width="7%">
<col width="6%">
<col width="8%">
<col width="6%">
<col width="5%">
</colgroup>
<thead><tr class="header">
<th align="left">NAME</th>
<th align="left">state</th>
<th align="left">school district (unified)</th>
<th align="left">Group</th>
<th align="right">Index</th>
<th align="left">Measure</th>
<th align="right">Value</th>
<th align="right">Year</th>
</tr></thead>
<tbody><tr class="odd">
<td align="left">Racine School District, Wisconsin</td>
<td align="left">55</td>
<td align="left">12360</td>
<td align="left">B25049</td>
<td align="right">3</td>
<td align="left">E</td>
<td align="right">38779</td>
<td align="right">2023</td>
</tr></tbody>
</table>
<p>The data in <code>RAW_PLUMBING</code> do not have much meaning
without the information in <code>PLUMBING_VARIABLES</code>. Fortunately,
we can use the <a href="https://www.tidyverse.org" title="The tidyverse" class="external-link">tidyverse</a> to join the two tables together.</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">PLUMBING</span> <span class="op">&lt;-</span> <span class="va">RAW_PLUMBING</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/map.html" class="external-link">map</a></span><span class="op">(</span></span>
<span>        \<span class="op">(</span><span class="va">.</span><span class="op">)</span> <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span><span class="va">.</span>,</span>
<span>                           <span class="st">"Group"</span>,</span>
<span>                           <span class="st">"Index"</span>,</span>
<span>                           Geography <span class="op">=</span> <span class="st">"NAME"</span>,</span>
<span>                           Households <span class="op">=</span> <span class="st">"Value"</span></span>
<span>        <span class="op">)</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">purrr</span><span class="fu">::</span><span class="fu"><a href="https://purrr.tidyverse.org/reference/list_c.html" class="external-link">list_rbind</a></span><span class="op">(</span><span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate-joins.html" class="external-link">right_join</a></span><span class="op">(</span></span>
<span>        <span class="va">PLUMBING_VARIABLES</span>,</span>
<span>        by <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Group"</span>, <span class="st">"Index"</span><span class="op">)</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span></span>
<span>        <span class="st">"Geography"</span>,</span>
<span>        <span class="st">"Tenure"</span>,</span>
<span>        <span class="st">"Plumbing"</span>,</span>
<span>        <span class="st">"Households"</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">PLUMBING</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<colgroup>
<col width="37%">
<col width="17%">
<col width="32%">
<col width="12%">
</colgroup>
<thead><tr class="header">
<th align="left">Geography</th>
<th align="left">Tenure</th>
<th align="left">Plumbing</th>
<th align="right">Households</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">United States</td>
<td align="left">Owner occupied</td>
<td align="left">Complete plumbing facilities</td>
<td align="right">82628718</td>
</tr>
<tr class="even">
<td align="left">United States</td>
<td align="left">Owner occupied</td>
<td align="left">Lacking plumbing facilities</td>
<td align="right">263319</td>
</tr>
<tr class="odd">
<td align="left">United States</td>
<td align="left">Renter occupied</td>
<td align="left">Complete plumbing facilities</td>
<td align="right">44349427</td>
</tr>
<tr class="even">
<td align="left">United States</td>
<td align="left">Renter occupied</td>
<td align="left">Lacking plumbing facilities</td>
<td align="right">241401</td>
</tr>
<tr class="odd">
<td align="left">Midwest Region</td>
<td align="left">Owner occupied</td>
<td align="left">Complete plumbing facilities</td>
<td align="right">19041735</td>
</tr>
<tr class="even">
<td align="left">Midwest Region</td>
<td align="left">Owner occupied</td>
<td align="left">Lacking plumbing facilities</td>
<td align="right">55380</td>
</tr>
<tr class="odd">
<td align="left">Midwest Region</td>
<td align="left">Renter occupied</td>
<td align="left">Complete plumbing facilities</td>
<td align="right">8561887</td>
</tr>
<tr class="even">
<td align="left">Midwest Region</td>
<td align="left">Renter occupied</td>
<td align="left">Lacking plumbing facilities</td>
<td align="right">43001</td>
</tr>
<tr class="odd">
<td align="left">Wisconsin</td>
<td align="left">Owner occupied</td>
<td align="left">Complete plumbing facilities</td>
<td align="right">1655255</td>
</tr>
<tr class="even">
<td align="left">Wisconsin</td>
<td align="left">Owner occupied</td>
<td align="left">Lacking plumbing facilities</td>
<td align="right">5250</td>
</tr>
<tr class="odd">
<td align="left">Wisconsin</td>
<td align="left">Renter occupied</td>
<td align="left">Complete plumbing facilities</td>
<td align="right">781225</td>
</tr>
<tr class="even">
<td align="left">Wisconsin</td>
<td align="left">Renter occupied</td>
<td align="left">Lacking plumbing facilities</td>
<td align="right">4298</td>
</tr>
<tr class="odd">
<td align="left">Racine County, Wisconsin</td>
<td align="left">Owner occupied</td>
<td align="left">Complete plumbing facilities</td>
<td align="right">56159</td>
</tr>
<tr class="even">
<td align="left">Racine County, Wisconsin</td>
<td align="left">Owner occupied</td>
<td align="left">Lacking plumbing facilities</td>
<td align="right">124</td>
</tr>
<tr class="odd">
<td align="left">Racine County, Wisconsin</td>
<td align="left">Renter occupied</td>
<td align="left">Complete plumbing facilities</td>
<td align="right">22809</td>
</tr>
<tr class="even">
<td align="left">Racine County, Wisconsin</td>
<td align="left">Renter occupied</td>
<td align="left">Lacking plumbing facilities</td>
<td align="right">17</td>
</tr>
<tr class="odd">
<td align="left">Racine School District, Wisconsin</td>
<td align="left">Owner occupied</td>
<td align="left">Complete plumbing facilities</td>
<td align="right">38779</td>
</tr>
<tr class="even">
<td align="left">Racine School District, Wisconsin</td>
<td align="left">Owner occupied</td>
<td align="left">Lacking plumbing facilities</td>
<td align="right">47</td>
</tr>
<tr class="odd">
<td align="left">Racine School District, Wisconsin</td>
<td align="left">Renter occupied</td>
<td align="left">Complete plumbing facilities</td>
<td align="right">17242</td>
</tr>
<tr class="even">
<td align="left">Racine School District, Wisconsin</td>
<td align="left">Renter occupied</td>
<td align="left">Lacking plumbing facilities</td>
<td align="right">12</td>
</tr>
</tbody>
</table>
<p>Finally, you can do some <a href="https://www.tidyverse.org" title="The tidyverse" class="external-link">tidyverse</a>-only magic to look at the different
rates of plumbing for renters versus owners.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">RATES_OF_PLUMBING</span> <span class="op">&lt;-</span> <span class="va">PLUMBING</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>        <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/across.html" class="external-link">across</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Tenure"</span>, <span class="st">"Plumbing"</span><span class="op">)</span>,</span>
<span>                      \<span class="op">(</span><span class="va">.</span><span class="op">)</span> <span class="fu">stringr</span><span class="fu">::</span><span class="fu"><a href="https://stringr.tidyverse.org/reference/str_extract.html" class="external-link">str_extract</a></span><span class="op">(</span><span class="va">.</span>, <span class="st">"^\\S+"</span><span class="op">)</span><span class="op">)</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span></span>
<span>        names_from <span class="op">=</span> <span class="st">"Tenure"</span>,</span>
<span>        values_from <span class="op">=</span> <span class="st">"Households"</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>        `All Households` <span class="op">=</span> <span class="va">.data</span><span class="op">$</span><span class="va">Owner</span> <span class="op">+</span> <span class="va">.data</span><span class="op">$</span><span class="va">Renter</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_longer.html" class="external-link">pivot_longer</a></span><span class="op">(</span></span>
<span>        cols <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"Renter"</span>, <span class="st">"Owner"</span>, <span class="st">"All Households"</span><span class="op">)</span>,</span>
<span>        names_to <span class="op">=</span> <span class="st">"Tenure"</span>,</span>
<span>        values_to <span class="op">=</span> <span class="st">"Households"</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span></span>
<span>        names_from <span class="op">=</span> <span class="st">"Plumbing"</span>,</span>
<span>        values_from <span class="op">=</span> <span class="st">"Households"</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/mutate.html" class="external-link">mutate</a></span><span class="op">(</span></span>
<span>        Households <span class="op">=</span> <span class="va">.data</span><span class="op">$</span><span class="va">Complete</span> <span class="op">+</span> <span class="va">.data</span><span class="op">$</span><span class="va">Lacking</span>,</span>
<span>        Rate <span class="op">=</span> <span class="va">.data</span><span class="op">$</span><span class="va">Complete</span> <span class="op">/</span> <span class="va">.data</span><span class="op">$</span><span class="va">Households</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">dplyr</span><span class="fu">::</span><span class="fu"><a href="https://dplyr.tidyverse.org/reference/select.html" class="external-link">select</a></span><span class="op">(</span></span>
<span>        <span class="st">"Geography"</span>,</span>
<span>        <span class="st">"Tenure"</span>,</span>
<span>        <span class="st">"Rate"</span></span>
<span>    <span class="op">)</span> <span class="op">|&gt;</span></span>
<span>    <span class="fu">tidyr</span><span class="fu">::</span><span class="fu"><a href="https://tidyr.tidyverse.org/reference/pivot_wider.html" class="external-link">pivot_wider</a></span><span class="op">(</span></span>
<span>        names_from <span class="op">=</span> <span class="st">"Tenure"</span>,</span>
<span>        values_from <span class="op">=</span> <span class="st">"Rate"</span></span>
<span>    <span class="op">)</span></span></code></pre></div>
<table class="table">
<thead><tr class="header">
<th align="left">Geography</th>
<th align="right">Renter</th>
<th align="right">Owner</th>
<th align="right">All Households</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">United States</td>
<td align="right">99.46%</td>
<td align="right">99.68%</td>
<td align="right">99.60%</td>
</tr>
<tr class="even">
<td align="left">Midwest Region</td>
<td align="right">99.50%</td>
<td align="right">99.71%</td>
<td align="right">99.64%</td>
</tr>
<tr class="odd">
<td align="left">Wisconsin</td>
<td align="right">99.45%</td>
<td align="right">99.68%</td>
<td align="right">99.61%</td>
</tr>
<tr class="even">
<td align="left">Racine County, Wisconsin</td>
<td align="right">99.93%</td>
<td align="right">99.78%</td>
<td align="right">99.82%</td>
</tr>
<tr class="odd">
<td align="left">Racine School District, Wisconsin</td>
<td align="right">99.93%</td>
<td align="right">99.88%</td>
<td align="right">99.89%</td>
</tr>
</tbody>
</table>
<p>Three things might jump out at you. The first is that almost every
household in the US has complete plumbing facilities. The second thing
is that plumbing access seems a little different for renters and owners.
The third thing is that who has more access to plumbing is different in
Racine than at larger geographic levels. At the scale of the nation,
region, and state, renters are a little less likely to have complete
access to plumbing. In contrast, renters in Racine County and the Racine
Unified School District are actually a little more likely to have access
to plumbing.</p>
</div>

  </main><aside class="col-md-3"><nav id="toc" aria-label="Table of contents"><h2>On this page</h2>
    </nav></aside>
</div>



    <footer><div class="pkgdown-footer-left">
  <p>Developed by Higher Expectations for Racine County.</p>
</div>

<div class="pkgdown-footer-right">
  <p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.2.0.</p>
</div>

    </footer>
</div>





  </body>
</html>
