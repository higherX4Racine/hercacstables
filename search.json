[{"path":"https://higherx4racine.github.io/hercacstables/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2021 Ben Taft Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/children_in_poverty.html","id":"families-by-standard-of-living","dir":"Articles","previous_headings":"","what":"Families by standard of living","title":"Children in Poverty","text":"American Community Survey table categorizes families according ratio income Federal poverty level community. Nowadays, Federal poverty level actually represent income threshold families really start struggling. actually measure real danger starving death. reason, Higher Expectations Racine County uses three times Federal poverty level threshold family-sustaining income. hercacstables package provides table, STANDARD_OF_LIVING_METADATA, describes classification. Income ratios ACS table B17026, classified standards living use table Census API look many families tract Census income bracket. , aggregate get counts families experiencing “Unsustainable” “Sustainable” standards living. can see economic situations two tracts different.","code":"RAW_STANDARD_OF_LIVING <- hercacstables::STANDARD_OF_LIVING_METADATA |>     dplyr::pull(         \"Variable\"     ) |>     hercacstables::fetch_data(         year = 2021L,         for_geo = \"tract\",         for_items = c(\"010400\", \"010500\"),         survey_type = \"acs\",         table_or_survey_code = \"acs5\",         other_geos = list(state = 33L,                           county = \"011\"),         use_key = TRUE     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/children_in_poverty.html","id":"families-by-children-present","dir":"Articles","previous_headings":"","what":"Families by children present","title":"Children in Poverty","text":"need go counts families counts children, next look many families tract children. census table reports many families kids, kids 6, kids 6-17, . hercacstables package table, FAMILIES_WITH_CHILDREN_METADATA, describes relationship ACS variables presence/absence children. can use table query API get number families children census tracts interested . Notice difference query previous one variables asking . whole point hercacstables package help repeat asking many different pieces census information place. aggregate families “Children Present” “Children.” , see pretty substantial difference two tracts. Reassuringly, total number families sets data.","code":"RAW_FAMILIES_WITH_CHILDREN <- hercacstables::FAMILIES_WITH_CHILDREN_METADATA |>     dplyr::pull(         \"Variable\"     ) |>     hercacstables::fetch_data(         year = 2021L,         for_geo = \"tract\",         for_items = c(\"010400\", \"010500\"),         survey_type = \"acs\",         table_or_survey_code = \"acs5\",         other_geos = list(state = 33L,                           county = \"011\"),         use_key = TRUE     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/children_in_poverty.html","id":"children-per-family-by-poverty-level","dir":"Articles","previous_headings":"","what":"Children per family by poverty level","title":"Children in Poverty","text":"last set raw data need number children living poverty. “, wait!” say, “Isn’t everything needed first place?” true, except best can get ACS table detailed information parents’ birth origins distinguishes three income tiers: less Federal poverty level, 1x-2x, 2x Federal poverty level. hercacstables package’s table CHILDREN_IN_POVERTY_METADATA describes variables table map parental place birth kid poverty. ’s query get data: want 3x poverty level, lump “less 1x” “1x-2x” tiers “Unsustainable,” leaving us “2x+” tier mixes “2x-3x” tier calling “Unsustainable” “3x+” tier calling “Sustainable.”","code":"RAW_CHILDREN_IN_POVERTY <- hercacstables::CHILDREN_IN_POVERTY_METADATA |>     dplyr::pull(         \"Variable\"     ) |>     hercacstables::fetch_data(         year = 2021L,         for_geo = \"tract\",         for_items = c(\"010400\", \"010500\"),         survey_type = \"acs\",         table_or_survey_code = \"acs5\",         other_geos = list(state = 33L,                           county = \"011\"),         use_key = TRUE     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/children_in_poverty.html","id":"join-the-three-datasets","dir":"Articles","previous_headings":"","what":"Join the three datasets","title":"Children in Poverty","text":"three queries resulted data frame rows correspond census tracts, can join three results “tract” column. can also remove duplicate columns end just tract, number kids, number families, percentages families children sustainable standards living. table looks like: can see , case, actually need pull number families children. even nerdier dive, though, use fraction families children look poverty across demographics like race ethnicity. case, though, just need multiply total number children percentage families sustainable standard living.","code":"CHILDREN_BY_TRACT <- CHILDREN_IN_POVERTY |>     dplyr::inner_join(         FAMILIES_WITH_CHILDREN,         by = \"tract\"     ) |>     dplyr::inner_join(         STANDARD_OF_LIVING,         by = \"tract\"     ) |>     dplyr::select(         \"tract\",         \"Children\",         \"Mixed\",         \"Observed Unsustainable\" = \"Unsustainable.x\",         \"Families\" = \"Total\",         tidyselect::starts_with(\"Percent\")     ) SUSTAINABLE_KIDS <- CHILDREN_BY_TRACT |>     dplyr::mutate(         `Expected Unsustainable` = .data$Children * (1 - .data$`Percent Family-sustaining`),         `Extra Unsustainable` = .data$`Expected Unsustainable` - .data$`Observed Unsustainable`,         `Sustainable Kids` = .data$Mixed - .data$`Extra Unsustainable`,         `Percent kids in Sustainable` = .data$`Sustainable Kids` / .data$Children,         `Expected Sustainable` = .data$Children * .data$`Percent Family-sustaining`     )  SUSTAINABLE_KIDS |>     dplyr::select(         \"tract\",         \"Children\",         \"Percent Family-sustaining\",         \"Expected Sustainable\",         \"Expected Unsustainable\",         \"Mixed\",         \"Observed Unsustainable\",         \"Extra Unsustainable\",         \"Sustainable Kids\",         \"Percent kids in Sustainable\"     ) |>     knitr::kable()"},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"preface","dir":"Articles","previous_headings":"","what":"Preface","title":"Race/Ethnicity Categories in ACS Tables","text":"American Community Survey API returns data terse format. response contains four parts: geographic information, table code, row number, value. geographic information varies level detail one asks . value number may population size, number households, income dollars, percentage, several quantities. table code row number determine exact meaning value. Generally speaking, values table reporting kind information. , information might counts people households, incomes costs dollars, hours commuting working, percentage just anything. row numbers let know group people information . first row always value entire population geographic area. Subsequent rows may information specific subgroup, may contain summary value combination subgroups. example, sex--age table, might find value men boys (males) row 2, value boys 5 row 3. short, lot information packed two fields table name row number. packing information efficient storing transmitting data, means users Census information must unpack things order clear. hercacstables package many tools metadata tables make easier convenient unpack Census data.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"racial-and-ethnic-categories-in-the-american-community-survey","dir":"Articles","previous_headings":"","what":"Racial and ethnic categories in the American Community Survey","title":"Race/Ethnicity Categories in ACS Tables","text":"vignette describes features hercacstables help common repetitive chores unpacking racial ethnic data Census API responses. Census several ways reports racial ethnic identity. always agree line . makes sense concepts race ethnicity slippery, changing across place time.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"broad-strokes-by-the-census","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey","what":"Broad strokes by the Census","title":"Race/Ethnicity Categories in ACS Tables","text":"first racial/ethnic system discuss involves ten categories. seven categories race, one ethnicity, one combines , “” category: “Total”, “White alone”, “Black African American alone”, “American Indian Alaska Native alone”, “Asian alone”, “Native Hawaiian Pacific Islander alone”, “Race alone”, “Two Races”, “White alone, Hispanic Latino”, “Hispanic Latino”. coarse unsophisticated way characterizing identities. Nevertheless, occurs throughout American Community Survey.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"subtable-categories-of-race-and-ethnicity","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey","what":"Subtable categories of race and ethnicity","title":"Race/Ethnicity Categories in ACS Tables","text":"44 separate sets tables subdivide information according ten-category scheme. identity designated suffix end table’s name. words, values table one suffixes name pertain people just one racial/ethnic category. Since case common, hercacstables describes metadata table RACE_ETHNICITY_SUBTABLE_METADATA. maps suffix table’s name racial/ethnic category table describes.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"tables-with-race-in-their-description","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey","what":"Tables with “RACE” in their description","title":"Race/Ethnicity Categories in ACS Tables","text":"also 12 tables word “RACE” description. seem fall four categories. two tables 10 rows , B02001 B25006. probably convenience tables pull data race-specific subtables. Six tables, B02008 B020013, one row . seem report inclusive counts, combining people claim racial identity either sole identity combination another. One table, B03002, 21 rows. table appears report detailed information Hispanic ethnicity specific racial identities. Tables B98013 B99021 descriptions suggest report methodological details. categories table deserves little discussion.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"convenience-tables","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey > Tables with “RACE” in their description","what":"Convenience tables","title":"Race/Ethnicity Categories in ACS Tables","text":"Tables B02001 B25006 deal counts individuals households, respectively. seem redundant, showing first rows tables B01001 B11001, respectively. can use hercacstables check .","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"map-meaning-to-census-variables","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey > Tables with “RACE” in their description > Convenience tables","what":"Map meaning to Census Variables","title":"Race/Ethnicity Categories in ACS Tables","text":"first step make table connects Census’s opaque variable names real-world meanings interested . example, tables B01001* B02001 deal counts people, tables B11001* B25006 deal counts households. Similarly, racial identity counted defined either subtable suffix row number. Finally, interested whether data come , subtable convenience table. can lay way “maps” Census variable real-world meaning.","code":"convenience_check_variables <- tibble::tribble(     ~ Table,  ~ Suffix,   ~ Index, ~ Population, ~ Race,     \"B01001\", \"A\",              1, \"People\",     \"White\",     \"B01001\", \"B\",              1, \"People\",     \"Black\",     \"B02001\", \"\",               2, \"People\",     \"White\",     \"B02001\", \"\",               3, \"People\",     \"Black\",     \"B11001\", \"A\",              1, \"Households\", \"White\",     \"B11001\", \"B\",              1, \"Households\", \"Black\",     \"B25006\", \"\",               2, \"Households\", \"White\",     \"B25006\", \"\",               3, \"Households\", \"Black\" ) |>     dplyr::mutate(         Group = paste0(.data$Table, .data$Suffix),         Variable = build_api_variable(table_code = .data$Table,                                       race_code = .data$Suffix,                                       item_number = .data$Index),         `Table Type` = dplyr::if_else(nchar(.data$Suffix) > 0,                                       \"Subtable\",                                       \"Convenience\")     )  knitr::kable(convenience_check_variables)"},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"fetch-the-raw-data","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey > Tables with “RACE” in their description > Convenience tables","what":"Fetch the raw data","title":"Race/Ethnicity Categories in ACS Tables","text":"variables defined, can fetch data Census API. Notice , since API call, code block set cache results. API calls much slower local functions, usually good idea isolate run times possible.","code":"convenience_check_values_raw <- fetch_data(     convenience_check_variables$Variable,     year = 2022,                  # the most recent one available at the time of writing     for_geo = \"us\",               # the entire nation     for_items = \"*\",              # all nation-level geographies     survey_type = \"acs\",          # as opposed to, e.g. \"dec,\" for Decennial survey data     table_or_survey_code = \"acs5\" # the specific survey is the 5-year ACS. )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"examine-values-in-context","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey > Tables with “RACE” in their description > Convenience tables","what":"Examine values in context","title":"Race/Ethnicity Categories in ACS Tables","text":"Now raw data, can check see values convenience tables , fact, match values subtables. don’t include confusing “Group,” “Index,” “Variable” columns final result.","code":"convenience_check_values <- convenience_check_values_raw |>     dplyr::inner_join(         convenience_check_variables,         by = c(\"Group\", \"Index\")     ) |>     dplyr::select(         \"Population\",         \"Race\",         \"Table Type\",         \"Value\"     ) |>     tidyr::pivot_wider(         names_from = \"Table Type\",         values_from = \"Value\"     ) |>     dplyr::mutate(         Identical = dplyr::if_else(.data$Subtable == .data$Convenience,                                    \"Yes\",                                    \"No\")     )  convenience_check_values |>     dplyr::mutate(         dplyr::across(tidyselect::all_of(c(\"Subtable\", \"Convenience\")),                       scales::label_comma(accuracy = 1))     ) |>     knitr::kable(         align = \"lrrl\"     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"inclusive-identity-counts","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey > Tables with “RACE” in their description","what":"Inclusive identity counts","title":"Race/Ethnicity Categories in ACS Tables","text":"Six others, tables “B02008” “B02013”, show numbers people identified specific races ethnicities. totals tables larger US population someone identified one category counted corresponding table. tables correspond six ten broad categories race/ethnicity, actually already RACE_ETHNICITY_SUBTABLE_METADATA. just hid confusing. population reported inclusive tables large, larger, population reported exclusive tables. can use hercacstables check , .","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"census-variables-for-inclusive-and-exclusive-counts","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey > Tables with “RACE” in their description > Inclusive identity counts","what":"Census variables for inclusive and exclusive counts","title":"Race/Ethnicity Categories in ACS Tables","text":"","code":"incl_excl_pop_variables <- RACE_ETHNICITY_SUBTABLE_METADATA |>     dplyr::filter(         nchar(.data$`Inclusive Table`) > 0     ) |>     dplyr::mutate(         `Exclusive Table` = paste0(\"B01001\", .data$Suffix)     ) |>     dplyr::select(         \"Census Race\",         Inclusive = \"Inclusive Table\",         Exclusive = \"Exclusive Table\"     ) |>     tidyr::pivot_longer(         cols = tidyselect::ends_with(\"clusive\"),         names_to = \"Table\",         values_to = \"Group\"     ) |>     dplyr::mutate(         Variable = build_api_variable(.data$Group, \"\", 1)     )  knitr::kable(incl_excl_pop_variables)"},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"raw-inclusive-and-exclusive-counts","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey > Tables with “RACE” in their description > Inclusive identity counts","what":"Raw inclusive and exclusive counts","title":"Race/Ethnicity Categories in ACS Tables","text":"","code":"incl_excl_pop_values_raw <- fetch_data(     variables = incl_excl_pop_variables$Variable,     year = 2022,     for_geo = \"us\",     for_items = \"*\",     survey_type = \"acs\",     table_or_survey_code = \"acs5\" )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"comparing-inclusive-and-exclusive-counts","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey > Tables with “RACE” in their description > Inclusive identity counts","what":"Comparing inclusive and exclusive counts","title":"Race/Ethnicity Categories in ACS Tables","text":"","code":"incl_excl_pop_values <- incl_excl_pop_values_raw |>     dplyr::inner_join(         incl_excl_pop_variables,         by = c(\"Group\")     ) |>     dplyr::select(         \"Census Race\",         \"Table\",         \"Value\"     ) |>     tidyr::pivot_wider(         names_from = \"Table\",         values_from = \"Value\"     ) |>     dplyr::mutate(         Difference = .data$Inclusive - .data$Exclusive,         `Percent Multiracial` = .data$Difference / .data$Inclusive     ) |>     dplyr::arrange(         dplyr::desc(.data$Inclusive)     )  incl_excl_pop_values |>     dplyr::mutate(         dplyr::across(tidyselect::all_of(c(\"Inclusive\",                                            \"Exclusive\",                                            \"Difference\")),                       scales::label_comma(accuracy = 1)),         `Percent Multiracial` = scales::label_percent(accuracy = 1)(             .data$`Percent Multiracial`         )     ) |>     knitr::kable(         align = \"lrrrr\"     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"hispanic-ethnicity-and-broad-racial-identity","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey > Tables with “RACE” in their description","what":"Hispanic ethnicity and broad racial identity","title":"Race/Ethnicity Categories in ACS Tables","text":"Table B03002 contains counts people Hispanic ethnicity ten broad racial identities. always, first row total population size. two groups rows. Rows 2-11 count people Hispanic. Rows 12-21 count people identify Hispanic. Rows 2 12 total populations non-Hispanic Hispanic people. Rows 10, 11, 20, 21 contain subgroupings distinguish people identify biracial identify multiracial. means can take rows one eight RACE_ETHNICITY_SUBTABLE_METADATA map onto rows B03002. fact, useful also included RACE_ETHNICITY_SUBTABLE_METADATA. Let’s use look nationwide trends across racial identities percentages Hispanic ethnicity. First, define metadata table. Next, pull 13 years ACS data. , put data nice, tidy format. Finally, plot ","code":"hispanic_and_broad_race_variables <- RACE_ETHNICITY_SUBTABLE_METADATA |>     dplyr::filter(         nchar(.data$`non-Hispanic`) > 0     ) |>     dplyr::select(         \"Census Race\",         \"non-Hispanic\",         \"Hispanic\"     ) |>     tidyr::pivot_longer(         cols = tidyselect::ends_with(\"Hispanic\"),         names_to = \"Ethnicity\",         values_to = \"Variable\"     ) |>     tidyr::separate_wider_position(         cols = \"Variable\",         widths = c(Group = 6, 1,                    Index = 3,                    1),         cols_remove = FALSE     ) |>     dplyr::mutate(         Index = as.integer(.data$Index)     )  knitr::kable(hispanic_and_broad_race_variables) hispanic_and_broad_race_raw <- c(2009:2019, 2021:2022) |>     purrr::map(         ~ fetch_data(             hispanic_and_broad_race_variables$Variable,             year = .,             for_geo = \"us\",             for_items = \"*\",             survey_type = \"acs\",             table_or_survey_code = \"acs1\"         )     ) hispanic_and_broad_race <- hispanic_and_broad_race_raw |>     purrr::list_rbind() |>     dplyr::inner_join(         hispanic_and_broad_race_variables,         by = \"Index\"     ) |>     dplyr::select(         \"Census Race\",         \"Ethnicity\",         \"Year\",         \"Value\"     ) |>     tidyr::pivot_wider(         names_from = \"Ethnicity\",         values_from = \"Value\",         values_fill = 0     ) |>     dplyr::mutate(         Total = .data$Hispanic + .data$`non-Hispanic`,         `Percent Hispanic` = .data$Hispanic / .data$Total     )      hispanic_and_broad_race |>     dplyr::slice_sample(         n = 1,         by = \"Year\"     ) |>     dplyr::mutate(         dplyr::across(c(\"Hispanic\", \"non-Hispanic\", \"Total\"),                       scales::label_comma(accuracy = 1)),         dplyr::across(\"Percent Hispanic\",                       scales::label_percent(accuracy = 1))     ) |>     knitr::kable(         align = \"lrrrrr\"     ) hispanic_and_broad_race |>     dplyr::mutate(         `Census Race` = stringr::str_to_title(.data$`Census Race`)     ) |>     ggplot2::ggplot(         ggplot2::aes(x = .data$Year,                      y = .data$`Percent Hispanic`,                      color = .data$`Census Race`)     ) +     ggplot2::geom_line(         linewidth = 1,         lineend = \"round\",         linejoin = \"mitre\"     ) +     ggplot2::geom_point(         size = 3     ) +     ggplot2::scale_x_continuous(         name = NULL,         labels = scales::label_number(big.mark = \"\"),         limits = c(2005, 2025),         breaks = scales::breaks_width(5),         minor_breaks = scales::breaks_width(1)     ) +     ggplot2::scale_y_continuous(         name = \"Percentage Hispanic\",         labels = scales::label_percent(accuracy = 1),         limits = c(0, 1),         breaks = scales::breaks_width(0.2),         minor_breaks = scales::breaks_width(0.05)     ) +     ggplot2::scale_color_discrete(         guide = ggplot2::guide_legend(             title = NULL,             position = \"top\",             nrow = 4         )     ) +     ggplot2::theme_minimal()"},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"methodological-detail-tables","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey > Tables with “RACE” in their description","what":"Methodological detail tables","title":"Race/Ethnicity Categories in ACS Tables","text":"Tables B98013 B99021 give information Census’s data collection methods. Statisticians can use describe much uncertainty data concerning racial identities. can skip .","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"separating-race-and-ethnicity","dir":"Articles","previous_headings":"","what":"Separating race and ethnicity","title":"Race/Ethnicity Categories in ACS Tables","text":"combination categories terrible variety reasons. Leaving aside panoply historical ethical ones, also purely data one. table suffix letter holds population whole area. different subtables necessarily add match overall population overlap two groups. Specifically, categories combine race ethnicity, folks counted subtable “” also counted subtable “H.” Ok, looks like can avoid double-counting, ignore Hispanic ethnicity. , means can count total number non-Hispanic, non-White people. can’t stop pointing table possible Census decided just know folks white, also Hispanic. ten categories see often ten categories Census uses disaggregate data. saw , system give information non-white racial identities distributed Hispanic non-Hispanic ethnic identities. another table gives breakdown detail, though:","code":""},{"path":"https://higherx4racine.github.io/hercacstables/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Ben Taft. Author, maintainer.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Taft B (2024). hercacstables: Work American Community Survey Tables US Census API. R package version 0.0.0.9000, https://higherx4racine.github.io/hercacstables/.","code":"@Manual{,   title = {hercacstables: Work with American Community Survey Tables through the US Census API},   author = {Ben Taft},   year = {2024},   note = {R package version 0.0.0.9000},   url = {https://higherx4racine.github.io/hercacstables/}, }"},{"path":"https://higherx4racine.github.io/hercacstables/index.html","id":"hercacstables","dir":"","previous_headings":"","what":"Work with American Community Survey Tables through the US Census API","title":"Work with American Community Survey Tables through the US Census API","text":"American Community Survey (ACS) US Census’s website returns data weirdly idiosyncratic way. many subtotals table. Grouping variables organized tree-like, rather tabular fashion. package intended make easy access use ACS data R.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Work with American Community Survey Tables through the US Census API","text":"can install development version GitHub :","code":"# install.packages(\"devtools\") devtools::install_github(\"higherX4Racine/hercacstables\")"},{"path":"https://higherx4racine.github.io/hercacstables/index.html","id":"example","dir":"","previous_headings":"","what":"Example","title":"Work with American Community Survey Tables through the US Census API","text":"basic example shows solve common problem:","code":"library(hercacstables) ## basic example code"},{"path":"https://higherx4racine.github.io/hercacstables/reference/CENSUS_API_URL.html","id":null,"dir":"Reference","previous_headings":"","what":"The current URL for accessing the U.S. Census Bureau's API. — CENSUS_API_URL","title":"The current URL for accessing the U.S. Census Bureau's API. — CENSUS_API_URL","text":"current URL accessing U.S. Census Bureau's API.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/CENSUS_API_URL.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"The current URL for accessing the U.S. Census Bureau's API. — CENSUS_API_URL","text":"","code":"CENSUS_API_URL"},{"path":"https://higherx4racine.github.io/hercacstables/reference/CENSUS_API_URL.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"The current URL for accessing the U.S. Census Bureau's API. — CENSUS_API_URL","text":"object class character length 1.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/CENSUS_API_URL.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"The current URL for accessing the U.S. Census Bureau's API. — CENSUS_API_URL","text":"https://api.census.gov/data","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/CHILDREN_IN_POVERTY_METADATA.html","id":null,"dir":"Reference","previous_headings":"","what":"Categorize ACS variables about children living in poverty and parents' birth origins — CHILDREN_IN_POVERTY_METADATA","title":"Categorize ACS variables about children living in poverty and parents' birth origins — CHILDREN_IN_POVERTY_METADATA","text":"data come table B05010, \"RATIO INCOME POVERTY LEVEL PAST 12 MONTHS NATIVITY CHILDREN 18 YEARS FAMILIES SUBFAMILIES LIVING ARRANGEMENTS NATIVITY PARENTS.\"","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/CHILDREN_IN_POVERTY_METADATA.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Categorize ACS variables about children living in poverty and parents' birth origins — CHILDREN_IN_POVERTY_METADATA","text":"","code":"CHILDREN_IN_POVERTY_METADATA"},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/CHILDREN_IN_POVERTY_METADATA.html","id":"children-in-poverty-metadata","dir":"Reference","previous_headings":"","what":"CHILDREN_IN_POVERTY_METADATA","title":"Categorize ACS variables about children living in poverty and parents' birth origins — CHILDREN_IN_POVERTY_METADATA","text":"data frame 15 rows 8 columns Group table, always \"B05010\" Variable full variable name, e.g. \"B05010_001E\" Index row variable table Least Poverty Ratio lowest ratio income poverty level tier Greatest Poverty Ratio highest ratio income poverty level tier Standard Living One \"Unsustainable,\" \"Mixed\" Native-born Parents many parents household born USA. Foreign-born Parents many parents household born USA.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/CHILDREN_IN_POVERTY_METADATA.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Categorize ACS variables about children living in poverty and parents' birth origins — CHILDREN_IN_POVERTY_METADATA","text":"https://api.census.gov/data/2022/acs/acs1/groups/B05010.html","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/CHILDREN_PER_FAMILY_METADATA.html","id":null,"dir":"Reference","previous_headings":"","what":"Categorize ACS variables about children per family — CHILDREN_PER_FAMILY_METADATA","title":"Categorize ACS variables about children per family — CHILDREN_PER_FAMILY_METADATA","text":"data come table B17026, \"CHILDREN 18 YEARS FAMILY TYPE AGE\"","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/CHILDREN_PER_FAMILY_METADATA.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Categorize ACS variables about children per family — CHILDREN_PER_FAMILY_METADATA","text":"","code":"CHILDREN_PER_FAMILY_METADATA"},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/CHILDREN_PER_FAMILY_METADATA.html","id":"children-per-family-metadata","dir":"Reference","previous_headings":"","what":"CHILDREN_PER_FAMILY_METADATA","title":"Categorize ACS variables about children per family — CHILDREN_PER_FAMILY_METADATA","text":"data frame 15 rows 6 columns Group table, always \"B09002\" Variable full variable name, e.g. \"B09002_001E\" Index row variable table Adults adult(s) heading household Lower Age age youngest children counted variable Upper Age age oldest children counted variable","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/CHILDREN_PER_FAMILY_METADATA.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Categorize ACS variables about children per family — CHILDREN_PER_FAMILY_METADATA","text":"https://api.census.gov/data/2022/acs/acs1/groups/B09002.html","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/DECENNIAL_POPULATION_FIELDS.html","id":null,"dir":"Reference","previous_headings":"","what":"Variables from the Decennial censuses — DECENNIAL_POPULATION_FIELDS","title":"Variables from the Decennial censuses — DECENNIAL_POPULATION_FIELDS","text":"Variables Decennial censuses","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/DECENNIAL_POPULATION_FIELDS.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Variables from the Decennial censuses — DECENNIAL_POPULATION_FIELDS","text":"","code":"DECENNIAL_POPULATION_FIELDS"},{"path":"https://higherx4racine.github.io/hercacstables/reference/DECENNIAL_POPULATION_FIELDS.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Variables from the Decennial censuses — DECENNIAL_POPULATION_FIELDS","text":"tibble five columns Year year decennial census. Group table variables come . Race/Ethnicity OMB label race/ethnic group. Index row table corresponds race/ethnicity. Variable name variable API call","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/EDUCATIONAL_ATTAINMENT_LEVELS.html","id":null,"dir":"Reference","previous_headings":"","what":"Census labels for different levels of educational achievement — EDUCATIONAL_ATTAINMENT_LEVELS","title":"Census labels for different levels of educational achievement — EDUCATIONAL_ATTAINMENT_LEVELS","text":"census breaks educational attainment different levels detail different tables. example, 8 levels B15001, 5 C15002* tables. row table connects detailed level broader one.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/EDUCATIONAL_ATTAINMENT_LEVELS.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Census labels for different levels of educational achievement — EDUCATIONAL_ATTAINMENT_LEVELS","text":"","code":"EDUCATIONAL_ATTAINMENT_LEVELS"},{"path":"https://higherx4racine.github.io/hercacstables/reference/EDUCATIONAL_ATTAINMENT_LEVELS.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Census labels for different levels of educational achievement — EDUCATIONAL_ATTAINMENT_LEVELS","text":"tibble two columns Detailed factor 8 levels Broad factor 5 levels","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/EDUCATIONAL_ATTAINMENT_LEVELS.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Census labels for different levels of educational achievement — EDUCATIONAL_ATTAINMENT_LEVELS","text":"https://api.census.gov/data","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/EDUCATIONAL_ATTAINMENT_METADATA.html","id":null,"dir":"Reference","previous_headings":"","what":"Census variables for different levels of educational achievement — EDUCATIONAL_ATTAINMENT_METADATA","title":"Census variables for different levels of educational achievement — EDUCATIONAL_ATTAINMENT_METADATA","text":"census breaks educational attainment different levels detail different tables. example, 8 levels B15001, 5 C15002* tables B17003. row table connects detailed level broader one.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/EDUCATIONAL_ATTAINMENT_METADATA.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Census variables for different levels of educational achievement — EDUCATIONAL_ATTAINMENT_METADATA","text":"","code":"EDUCATIONAL_ATTAINMENT_METADATA"},{"path":"https://higherx4racine.github.io/hercacstables/reference/EDUCATIONAL_ATTAINMENT_METADATA.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Census variables for different levels of educational achievement — EDUCATIONAL_ATTAINMENT_METADATA","text":"list three data frames sex_age : data frame eight variables group     : chr index     : int variable  : chr Sex       : chr Lower Age : int Upper Age : int Age       : chr Education : Factor race_ethnicity : data frame ten variables group                 : chr index                 : int Sex                   : chr Lower Age             : int Upper Age             : int Age                   : chr Education             : Factor Suffix                : chr Census Race/Ethnicity : chr variable              : chr poverty : data frame six variables group     : chr index     : int variable  : chr Sex       : chr Education : Factor Poverty   : chr Lower Age : int Upper Age : int Age       : chr","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/EDUCATIONAL_ATTAINMENT_METADATA.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Census variables for different levels of educational achievement — EDUCATIONAL_ATTAINMENT_METADATA","text":"https://api.census.gov/data","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/EMPLOYMENT_STATUS_METADATA.html","id":null,"dir":"Reference","previous_headings":"","what":"Factor values associated with specific rows within employment-related ACS tables — EMPLOYMENT_STATUS_METADATA","title":"Factor values associated with specific rows within employment-related ACS tables — EMPLOYMENT_STATUS_METADATA","text":"Factor values associated specific rows within employment-related ACS tables","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/EMPLOYMENT_STATUS_METADATA.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Factor values associated with specific rows within employment-related ACS tables — EMPLOYMENT_STATUS_METADATA","text":"","code":"EMPLOYMENT_STATUS_METADATA"},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/EMPLOYMENT_STATUS_METADATA.html","id":"employment-status-metadata","dir":"Reference","previous_headings":"","what":"EMPLOYMENT_STATUS_METADATA","title":"Factor values associated with specific rows within employment-related ACS tables — EMPLOYMENT_STATUS_METADATA","text":"data frame 439 rows 12 columns: group  index  variable  Sex  Lower Age  Upper Age  Labor Force  Enlistment  Employment  Suffix  Census Race/Ethnicity  Poverty","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/EMPLOYMENT_STATUS_METADATA.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Factor values associated with specific rows within employment-related ACS tables — EMPLOYMENT_STATUS_METADATA","text":"api.census.gov/data/acs/acs5/groups.html","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/FAMILIES_WITH_CHILDREN_METADATA.html","id":null,"dir":"Reference","previous_headings":"","what":"Categorize ACS variables counting families by number of children — FAMILIES_WITH_CHILDREN_METADATA","title":"Categorize ACS variables counting families by number of children — FAMILIES_WITH_CHILDREN_METADATA","text":"data come table B11003, \"FAMILY TYPE PRESENCE AGE CHILDREN 18 YEARS\"","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/FAMILIES_WITH_CHILDREN_METADATA.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Categorize ACS variables counting families by number of children — FAMILIES_WITH_CHILDREN_METADATA","text":"","code":"FAMILIES_WITH_CHILDREN_METADATA"},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/FAMILIES_WITH_CHILDREN_METADATA.html","id":"families-with-children-metadata","dir":"Reference","previous_headings":"","what":"FAMILIES_WITH_CHILDREN_METADATA","title":"Categorize ACS variables counting families by number of children — FAMILIES_WITH_CHILDREN_METADATA","text":"data frame 12 rows 6 columns Group table, always \"B11003\" Variable full variable name, e.g. \"B11003_001E\" Index row variable table Adults adult(s) heading household Children 6 children 6 family? Childr 6-17 children 6-17 family?","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/FAMILIES_WITH_CHILDREN_METADATA.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Categorize ACS variables counting families by number of children — FAMILIES_WITH_CHILDREN_METADATA","text":"https://api.census.gov/data/2022/acs/acs1/groups/B11003.html","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GEOGRAPHY_HIERARCHY_METADATA.html","id":null,"dir":"Reference","previous_headings":"","what":"Geographic levels of organization for data from the US Census Bureau's API — GEOGRAPHY_HIERARCHY_METADATA","title":"Geographic levels of organization for data from the US Census Bureau's API — GEOGRAPHY_HIERARCHY_METADATA","text":"Geographic levels organization data US Census Bureau's API","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GEOGRAPHY_HIERARCHY_METADATA.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Geographic levels of organization for data from the US Census Bureau's API — GEOGRAPHY_HIERARCHY_METADATA","text":"","code":"GEOGRAPHY_HIERARCHY_METADATA"},{"path":"https://higherx4racine.github.io/hercacstables/reference/GEOGRAPHY_HIERARCHY_METADATA.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Geographic levels of organization for data from the US Census Bureau's API — GEOGRAPHY_HIERARCHY_METADATA","text":"tibble four columns Label short, title-case description geographic level Code three-digit code level Geography lowercase term used query API level Parent Geos character vector Geographies must specified query level.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/METADATA_ACS5.html","id":null,"dir":"Reference","previous_headings":"","what":"Group, Variable, and Geography information for the latest 5-Year ACS — METADATA_ACS5","title":"Group, Variable, and Geography information for the latest 5-Year ACS — METADATA_ACS5","text":"Group, Variable, Geography information latest 5-Year ACS","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/METADATA_ACS5.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Group, Variable, and Geography information for the latest 5-Year ACS — METADATA_ACS5","text":"","code":"METADATA_ACS5"},{"path":"https://higherx4racine.github.io/hercacstables/reference/METADATA_ACS5.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Group, Variable, and Geography information for the latest 5-Year ACS — METADATA_ACS5","text":"list three items geography Available geographies ask API. groups group's ID, Universe, Description. variables variable's Group, full code, Label.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/RACE_ETHNICITY_SUBTABLE_METADATA.html","id":null,"dir":"Reference","previous_headings":"","what":"Race and ethnicity codes and labels used by the U.S. Census Bureau — RACE_ETHNICITY_SUBTABLE_METADATA","title":"Race and ethnicity codes and labels used by the U.S. Census Bureau — RACE_ETHNICITY_SUBTABLE_METADATA","text":"Race ethnicity codes labels used U.S. Census Bureau","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/RACE_ETHNICITY_SUBTABLE_METADATA.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Race and ethnicity codes and labels used by the U.S. Census Bureau — RACE_ETHNICITY_SUBTABLE_METADATA","text":"","code":"RACE_ETHNICITY_SUBTABLE_METADATA"},{"path":"https://higherx4racine.github.io/hercacstables/reference/RACE_ETHNICITY_SUBTABLE_METADATA.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Race and ethnicity codes and labels used by the U.S. Census Bureau — RACE_ETHNICITY_SUBTABLE_METADATA","text":"tibble ten rows five columns: Census Race short description race ethnicity Suffix capital letter designating race ethnicity Inclusive Table name table includes people single multi-racial identities claim identity non-Hispanic row table B03002 counts people racial identity Hispanic ethnic identity Hispanic row table B03002 counts people racial identity Hispanic ethnic identity","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/STANDARD_OF_LIVING_METADATA.html","id":null,"dir":"Reference","previous_headings":"","what":"Categorize ACS variables about income : poverty level ratios by family sustainability — STANDARD_OF_LIVING_METADATA","title":"Categorize ACS variables about income : poverty level ratios by family sustainability — STANDARD_OF_LIVING_METADATA","text":"data come table B17026, \"RATIO INCOME POVERTY LEVEL FAMILIES PAST 12 MONTHS.\" family-sustaining wage widely considered three times federal poverty level.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/STANDARD_OF_LIVING_METADATA.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Categorize ACS variables about income : poverty level ratios by family sustainability — STANDARD_OF_LIVING_METADATA","text":"","code":"STANDARD_OF_LIVING_METADATA"},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/STANDARD_OF_LIVING_METADATA.html","id":"standard-of-living-metadata","dir":"Reference","previous_headings":"","what":"STANDARD_OF_LIVING_METADATA","title":"Categorize ACS variables about income : poverty level ratios by family sustainability — STANDARD_OF_LIVING_METADATA","text":"data frame 13 rows 6 columns Group table, always \"B17026\" Variable full variable name, e.g. \"B17026_001E\" Index row variable table Least Poverty Ratio lowest ratio income poverty level tier Greatest Poverty Ratio highest ratio income poverty level tier Standard Living One \"Everyone,\" \"Unsustainable,\" \"Self-sustaining\"","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/STANDARD_OF_LIVING_METADATA.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Categorize ACS variables about income : poverty level ratios by family sustainability — STANDARD_OF_LIVING_METADATA","text":"https://api.census.gov/data/2022/acs/acs1/groups/B17026.html","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/acs_path.html","id":null,"dir":"Reference","previous_headings":"","what":"Check for valid options and return the path part of an API call for ACS data. — acs_path","title":"Check for valid options and return the path part of an API call for ACS data. — acs_path","text":"Check valid options return path part API call ACS data.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/acs_path.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check for valid options and return the path part of an API call for ACS data. — acs_path","text":"","code":"acs_path(.year, .year_span)"},{"path":"https://higherx4racine.github.io/hercacstables/reference/acs_path.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Check for valid options and return the path part of an API call for ACS data. — acs_path","text":".year integer year 2004 current year, inclusive. .year_span Either 1, 3, 5, depending upon desired time resolution.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/acs_path.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check for valid options and return the path part of an API call for ACS data. — acs_path","text":"slash-separated URL path.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/api_query.html","id":null,"dir":"Reference","previous_headings":"","what":"Construct the query part of the URL for a call to the US Census API — api_query","title":"Construct the query part of the URL for a call to the US Census API — api_query","text":"Construct query part URL call US Census API","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/api_query.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Construct the query part of the URL for a call to the US Census API — api_query","text":"","code":"api_query(variables, for_geo, for_items, ..., use_key = TRUE)"},{"path":"https://higherx4racine.github.io/hercacstables/reference/api_query.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Construct the query part of the URL for a call to the US Census API — api_query","text":"variables vector variable names, like \"B01001_001E\" for_geo geographical level data describe, e.g. \"tract\" for_items specific instances for_geo desired, e.g. \"*\" \"000200\" ... <dynamic dots> items pass query use_key optional, query include Census API key system environment. Defaults TRUE","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/api_query.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Construct the query part of the URL for a call to the US Census API — api_query","text":"string query part Census API call","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/api_query.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Construct the query part of the URL for a call to the US Census API — api_query","text":"","code":"api_query(paste0(\"B25003_00\", 1:3, \"E\"),                  \"tract\",                  \"*\",                  state = 55L,                  county = 101L,                  use_key = FALSE) #> B25003_001E,B25003_002E,B25003_003E&for=tract:*&in=state:55&in=county:101  api_query(paste0(\"P1_00\", c(1, 3, 4), \"N\"),                  \"block%20group\",                  \"*\",                  state = 55L,                  county = 101L,                  use_key = FALSE) #> P1_001N,P1_003N,P1_004N&for=block%20group:*&in=state:55&in=county:101"},{"path":"https://higherx4racine.github.io/hercacstables/reference/api_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Create an API call to send to api.census.gov — api_url","title":"Create an API call to send to api.census.gov — api_url","text":"Create API call send api.census.gov","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/api_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create an API call to send to api.census.gov — api_url","text":"","code":"api_url(   variables,   for_geo,   for_items,   survey_type,   table_or_survey_code,   year,   ...,   use_key = TRUE )"},{"path":"https://higherx4racine.github.io/hercacstables/reference/api_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create an API call to send to api.census.gov — api_url","text":"variables vector variable names, like \"B01001_001E\" for_geo geographical level data describe, e.g. \"tract\" for_items specific instances for_geo desired, e.g. \"*\" \"000200\" survey_type e.g. \"acs\" \"dec\" table_or_survey_code e.g. \"acs5\" \"pl\" year integer year, e.g. 2021L ... <dynamic dots> items pass query use_key optional, query include Census API key system environment. Defaults TRUE","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/api_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create an API call to send to api.census.gov — api_url","text":"one URL, string","code":""},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/api_url.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create an API call to send to api.census.gov — api_url","text":"","code":"api_url(paste0(\"B25003_00\", 1:3, \"E\"),               \"tract\",               \"*\",               \"acs\",               \"acs5\",               2020L,               state = 55L,               county = 101L,               use_key = FALSE) #> [1] \"https://api.census.gov/data/2020/acs/acs5?get=B25003_001E,B25003_002E,B25003_003E&for=tract:*&in=state:55&in=county:101\"  api_url(paste0(\"P1_00\", c(1, 3, 4), \"N\"),               \"tract\",               \"*\",               \"dec\",               \"pl\",               2020L,               state = 55L,               county = 101L,               use_key = FALSE) #> [1] \"https://api.census.gov/data/2020/dec/pl?get=P1_001N,P1_003N,P1_004N&for=tract:*&in=state:55&in=county:101\""},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_api_variable.html","id":null,"dir":"Reference","previous_headings":"","what":"Vectorized Creation of Census ACS Variables — build_api_variable","title":"Vectorized Creation of Census ACS Variables — build_api_variable","text":"detail table variables format \"B000OOX_000E\", \"B\" \"E\" literal \"X\" race code.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_api_variable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Vectorized Creation of Census ACS Variables — build_api_variable","text":"","code":"build_api_variable(   table_code,   race_code,   item_number,   separator = \"_\",   suffix = \"E\" )"},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_api_variable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Vectorized Creation of Census ACS Variables — build_api_variable","text":"table_code table code, like \"B18101\" race_code either empty string one [..] item_number integer 0 999 separator optional, usually \"_\" ACS variables. suffix optional, usually \"E\" ACS variables, sometimes \"N\" decennial data.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_api_variable.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Vectorized Creation of Census ACS Variables — build_api_variable","text":"vector strings, variable name","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_api_variable.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Vectorized Creation of Census ACS Variables — build_api_variable","text":"","code":"tables <- c(\"B19013\", \"B18101\", \"B18101\") races <- c(\"\", \"\", \"I\") numbers <- 1 build_api_variable(tables, races, numbers) #> [1] \"B19013_001E\"  \"B18101_001E\"  \"B18101I_001E\""},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_acs5_tract_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Pull data from the 5-year American Community Survey — fetch_acs5_tract_data","title":"Pull data from the 5-year American Community Survey — fetch_acs5_tract_data","text":"default years span entire offering 5-year ACS data. variables probably available every year.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_acs5_tract_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pull data from the 5-year American Community Survey — fetch_acs5_tract_data","text":"","code":"fetch_acs5_tract_data(variables, state, county, years = 2009:2021L)"},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_acs5_tract_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pull data from the 5-year American Community Survey — fetch_acs5_tract_data","text":"variables character vector variables like \"B03002_001E\" state two-digit FIPS code state, like 55 Wisconsin county three-digit FIPS code county, like 101 Racine years, optional, years fetch data . Defaults 2009-2021","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_acs5_tract_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pull data from the 5-year American Community Survey — fetch_acs5_tract_data","text":"tibble year, vintage, tract, group, index, variable, value","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download a set of data from the US Census API — fetch_data","title":"Download a set of data from the US Census API — fetch_data","text":"Download set data US Census API","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download a set of data from the US Census API — fetch_data","text":"","code":"fetch_data(   variables,   year,   for_geo,   for_items,   survey_type,   table_or_survey_code,   other_geos = NULL,   ...,   use_key = TRUE )"},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download a set of data from the US Census API — fetch_data","text":"variables vector variable names, like \"B01001_001E\" year integer year, e.g. 2021L for_geo geographical level data describe, e.g. \"tract\" for_items specific instances for_geo desired, e.g. \"*\" \"000200\" survey_type e.g. \"acs\" \"dec\" table_or_survey_code e.g. \"acs5\" \"pl\" other_geos optional, named list geographies, e.g. list(state = 55L, county = 101L) ... <dynamic dots> items pass query use_key optional, query include Census API key system environment. Defaults TRUE","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download a set of data from the US Census API — fetch_data","text":"tibble \"Group\", \"Index\", \"Value\", \"Year\" fields, well one field geography.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_decennial_block_pops_by_race.html","id":null,"dir":"Reference","previous_headings":"","what":"Get decennial census estimates of per-block populations by race/ethnicity — fetch_decennial_block_pops_by_race","title":"Get decennial census estimates of per-block populations by race/ethnicity — fetch_decennial_block_pops_by_race","text":"function retrieves data tables splits people race Hispanic/Latin\\@ ethnicity.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_decennial_block_pops_by_race.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get decennial census estimates of per-block populations by race/ethnicity — fetch_decennial_block_pops_by_race","text":"","code":"fetch_decennial_block_pops_by_race(state, county)"},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_decennial_block_pops_by_race.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get decennial census estimates of per-block populations by race/ethnicity — fetch_decennial_block_pops_by_race","text":"state two-digit FIPS code state, e.g. 55L Wisconsin county three-digit FIPS code county within state, e.g. 101L Racine","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_decennial_block_pops_by_race.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get decennial census estimates of per-block populations by race/ethnicity — fetch_decennial_block_pops_by_race","text":"tibble four columns: Vintage decennial year, currently 2000, 2010, 2020 Race/Ethnicity OMB text descriptions Race/Ethnicities GEOID full FIPS code census block Population number people block year race/ethnicity","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_json_as_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Make a call to the Census API and convert the JSON response to an R list. — fetch_json_as_list","title":"Make a call to the Census API and convert the JSON response to an R list. — fetch_json_as_list","text":"Make call Census API convert JSON response R list.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_json_as_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make a call to the Census API and convert the JSON response to an R list. — fetch_json_as_list","text":"","code":"fetch_json_as_list(   variables,   year,   for_geo,   for_items,   survey_type,   table_or_survey_code,   ...,   use_key = TRUE )"},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_json_as_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make a call to the Census API and convert the JSON response to an R list. — fetch_json_as_list","text":"variables vector variable names, like \"B01001_001E\" year integer year, e.g. 2021L for_geo geographical level data describe, e.g. \"tract\" for_items specific instances for_geo desired, e.g. \"*\" \"000200\" survey_type e.g. \"acs\" \"dec\" table_or_survey_code e.g. \"acs5\" \"pl\" ... <dynamic dots> items pass query use_key optional, query include Census API key system environment. Defaults TRUE","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_json_as_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make a call to the Census API and convert the JSON response to an R list. — fetch_json_as_list","text":"list items read json","code":""},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_metadata_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch metadata about a specific ACS data set from the Census API. — fetch_metadata_table","title":"Fetch metadata about a specific ACS data set from the Census API. — fetch_metadata_table","text":"function downloads large JSON object parses tibble.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_metadata_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch metadata about a specific ACS data set from the Census API. — fetch_metadata_table","text":"","code":"fetch_metadata_table(.info_type, .year, .year_span)"},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_metadata_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch metadata about a specific ACS data set from the Census API. — fetch_metadata_table","text":".info_type See info_url. .year See info_url. .year_span See info_url.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_metadata_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch metadata about a specific ACS data set from the Census API. — fetch_metadata_table","text":"tibble.","code":""},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/hercacstables-package.html","id":null,"dir":"Reference","previous_headings":"","what":"hercacstables: Work with American Community Survey Tables through the US Census API — hercacstables-package","title":"hercacstables: Work with American Community Survey Tables through the US Census API — hercacstables-package","text":"American Community Survey (ACS) US Census's website returns data weirdly idiosyncratic way. many subtotals table. Grouping variables organized tree-like, rather tabular fashion. package intended make easy access use ACS data R.","code":""},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/hercacstables-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"hercacstables: Work with American Community Survey Tables through the US Census API — hercacstables-package","text":"Maintainer: Ben Taft ben.taft@career2cradle.org","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/hercacstables.html","id":null,"dir":"Reference","previous_headings":"","what":"Tools for parsing ACS data tables — hercacstables","title":"Tools for parsing ACS data tables — hercacstables","text":"Tools parsing ACS data tables","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/info_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the URL for JSON metadata about one table of ACS data — info_url","title":"Get the URL for JSON metadata about one table of ACS data — info_url","text":"complete URL, including protocol file extension, downloading metadata geographies, groups variables, specific variables.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/info_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the URL for JSON metadata about one table of ACS data — info_url","text":"","code":"info_url(.info_type, .year, .year_span)"},{"path":"https://higherx4racine.github.io/hercacstables/reference/info_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the URL for JSON metadata about one table of ACS data — info_url","text":".info_type One \"geography\", \"groups\", \"variables\". .year integer year 2004 current year, inclusive. .year_span Either 1, 3, 5, depending upon desired time resolution.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/info_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the URL for JSON metadata about one table of ACS data — info_url","text":"string contains URL.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/info_url.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get the URL for JSON metadata about one table of ACS data — info_url","text":"","code":"hercacstables:::info_url(\"groups\", 2021L, 5L) #> https://api.census.gov/data/2021/acs/acs5/groups.json?key="},{"path":"https://higherx4racine.github.io/hercacstables/reference/json_list_to_frame.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert a list of json objects from the census into a data frame — json_list_to_frame","title":"Convert a list of json objects from the census into a data frame — json_list_to_frame","text":"Convert list json objects census data frame","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/json_list_to_frame.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert a list of json objects from the census into a data frame — json_list_to_frame","text":"","code":"json_list_to_frame(.json_list)"},{"path":"https://higherx4racine.github.io/hercacstables/reference/json_list_to_frame.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert a list of json objects from the census into a data frame — json_list_to_frame","text":".json_list list objects","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/json_list_to_frame.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert a list of json objects from the census into a data frame — json_list_to_frame","text":"tibble::tibble() column names taken list","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/margins_by_demography_and_place.html","id":null,"dir":"Reference","previous_headings":"","what":"Determine the relative contribution of different demographic groups to the populations of a set of areas. — margins_by_demography_and_place","title":"Determine the relative contribution of different demographic groups to the populations of a set of areas. — margins_by_demography_and_place","text":"Determine relative contribution different demographic groups populations set areas.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/margins_by_demography_and_place.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Determine the relative contribution of different demographic groups to the populations of a set of areas. — margins_by_demography_and_place","text":"","code":"margins_by_demography_and_place(   block_data,   ...,   demography_field = \"Race/Ethnicity\",   place_field = \"Place\",   weight_field = \"Population\" )"},{"path":"https://higherx4racine.github.io/hercacstables/reference/margins_by_demography_and_place.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Determine the relative contribution of different demographic groups to the populations of a set of areas. — margins_by_demography_and_place","text":"block_data tibble census data connects blocks enclosing geographic areas. ... <dynamic-dots> grouping fields data besides demography place demography_field optional, field identifies peoples' demographic group. Defaults \"Race/Ethnicity\" place_field optional, field denotes custom geographic areas. Defaults \"Place\" weight_field optional, field denotes counts. Defaults \"Population\"","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/margins_by_demography_and_place.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Determine the relative contribution of different demographic groups to the populations of a set of areas. — margins_by_demography_and_place","text":"tibble proportions estimating per-demographic values per-tract data","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/pivot_and_separate.html","id":null,"dir":"Reference","previous_headings":"","what":"Take a wide-formatted response from the Census API and convert it to long — pivot_and_separate","title":"Take a wide-formatted response from the Census API and convert it to long — pivot_and_separate","text":"Take wide-formatted response Census API convert long","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/pivot_and_separate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Take a wide-formatted response from the Census API and convert it to long — pivot_and_separate","text":"","code":"pivot_and_separate(.frame, ...)"},{"path":"https://higherx4racine.github.io/hercacstables/reference/pivot_and_separate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Take a wide-formatted response from the Census API and convert it to long — pivot_and_separate","text":".frame data frame census columns named like B01001_001E ... <dynamic-dots> named regular expressions extracting fields column names","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/pivot_and_separate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Take a wide-formatted response from the Census API and convert it to long — pivot_and_separate","text":"pivoted data frames columns matched regular expression converted rows described extracted fields.","code":""},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/safe_api_query.html","id":null,"dir":"Reference","previous_headings":"","what":"Split a census query into fewer than 50 variables per query — safe_api_query","title":"Split a census query into fewer than 50 variables per query — safe_api_query","text":"census API complains 50 variables per query.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/safe_api_query.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Split a census query into fewer than 50 variables per query — safe_api_query","text":"","code":"safe_api_query(.x, max_per_query = 40, ...)"},{"path":"https://higherx4racine.github.io/hercacstables/reference/safe_api_query.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Split a census query into fewer than 50 variables per query — safe_api_query","text":".x tibble column called \"Variable\" max_per_query defaults 40 ... arguments \"hercacstables::api_url\"","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/safe_api_query.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Split a census query into fewer than 50 variables per query — safe_api_query","text":"list JSON-formatted census replies.","code":""}]
