[{"path":"https://higherx4racine.github.io/hercacstables/LICENSE.html","id":null,"dir":"","previous_headings":"","what":"MIT License","title":"MIT License","text":"Copyright (c) 2021 Ben Taft Permission hereby granted, free charge, person obtaining copy software associated documentation files (“Software”), deal Software without restriction, including without limitation rights use, copy, modify, merge, publish, distribute, sublicense, /sell copies Software, permit persons Software furnished , subject following conditions: copyright notice permission notice shall included copies substantial portions Software. SOFTWARE PROVIDED “”, WITHOUT WARRANTY KIND, EXPRESS IMPLIED, INCLUDING LIMITED WARRANTIES MERCHANTABILITY, FITNESS PARTICULAR PURPOSE NONINFRINGEMENT. EVENT SHALL AUTHORS COPYRIGHT HOLDERS LIABLE CLAIM, DAMAGES LIABILITY, WHETHER ACTION CONTRACT, TORT OTHERWISE, ARISING , CONNECTION SOFTWARE USE DEALINGS SOFTWARE.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/children_in_poverty.html","id":"families-by-standard-of-living","dir":"Articles","previous_headings":"","what":"Families by standard of living","title":"Children in Poverty","text":"American Community Survey table categorizes families according ratio income Federal poverty level community. Nowadays, Federal poverty level actually represent income threshold families really start struggling. actually measure real danger starving death. reason, Higher Expectations Racine County uses three times Federal poverty level threshold family-sustaining income. hercacstables package provides table, GLOSSARY_OF_STANDARD_OF_LIVING, describes classification. Income ratios ACS table B17026, classified standards living use table Census API look many families tract Census income bracket. , aggregate get counts families experiencing “Unsustainable” “Sustainable” standards living. can see economic situations two tracts different.","code":"RAW_STANDARD_OF_LIVING <- hercacstables::GLOSSARY_OF_STANDARD_OF_LIVING |>     dplyr::pull(         \"Variable\"     ) |>     hercacstables::fetch_data(         year = 2021L,         for_geo = \"tract\",         for_items = c(\"010400\", \"010500\"),         survey_type = \"acs\",         table_or_survey_code = \"acs5\",         state = 33L,         county = \"011\",         use_key = TRUE     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/children_in_poverty.html","id":"families-by-children-present","dir":"Articles","previous_headings":"","what":"Families by children present","title":"Children in Poverty","text":"need go counts families counts children, next look many families tract children. census table reports many families kids, kids 6, kids 6-17, . hercacstables package table, GLOSSARY_OF_FAMILIES_WITH_CHILDREN, describes relationship ACS variables presence/absence children. can use table query API get number families children census tracts interested . Notice difference query previous one variables asking . whole point hercacstables package help repeat asking many different pieces census information place. aggregate families “Children Present” “Children.” , see pretty substantial difference two tracts. Reassuringly, total number families sets data.","code":"RAW_FAMILIES_WITH_CHILDREN <- hercacstables::GLOSSARY_OF_FAMILIES_WITH_CHILDREN |>     dplyr::pull(         \"Variable\"     ) |>     hercacstables::fetch_data(         year = 2021L,         for_geo = \"tract\",         for_items = c(\"010400\", \"010500\"),         survey_type = \"acs\",         table_or_survey_code = \"acs5\",         state = 33L,         county = \"011\",         use_key = TRUE     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/children_in_poverty.html","id":"children-per-family-by-poverty-level","dir":"Articles","previous_headings":"","what":"Children per family by poverty level","title":"Children in Poverty","text":"last set raw data need number children living poverty. “, wait!” say, “Isn’t everything needed first place?” true, except best can get ACS table detailed information parents’ birth origins distinguishes three income tiers: less Federal poverty level, 1x-2x, 2x Federal poverty level. hercacstables package’s table GLOSSARY_OF_CHILDREN_IN_POVERTY describes variables table map parental place birth kid poverty. ’s query get data: want 3x poverty level, lump “less 1x” “1x-2x” tiers “Unsustainable,” leaving us “2x+” tier mixes “2x-3x” tier calling “Unsustainable” “3x+” tier calling “Sustainable.”","code":"RAW_CHILDREN_IN_POVERTY <- hercacstables::GLOSSARY_OF_CHILDREN_IN_POVERTY |>     dplyr::pull(         \"Variable\"     ) |>     hercacstables::fetch_data(         year = 2021L,         for_geo = \"tract\",         for_items = c(\"010400\", \"010500\"),         survey_type = \"acs\",         table_or_survey_code = \"acs5\",         state = 33L,         county = \"011\",         use_key = TRUE     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/children_in_poverty.html","id":"join-the-three-datasets","dir":"Articles","previous_headings":"","what":"Join the three datasets","title":"Children in Poverty","text":"three queries resulted data frame rows correspond census tracts, can join three results “tract” column. can also remove duplicate columns end just tract, number kids, number families, percentages families children sustainable standards living. table looks like: can see , case, actually need pull number families children. even nerdier dive, though, use fraction families children look poverty across demographics like race ethnicity. case, though, just need multiply total number children percentage families sustainable standard living.","code":"CHILDREN_BY_TRACT <- CHILDREN_IN_POVERTY |>     dplyr::inner_join(         FAMILIES_WITH_CHILDREN,         by = \"tract\"     ) |>     dplyr::inner_join(         STANDARD_OF_LIVING,         by = \"tract\"     ) |>     dplyr::select(         \"tract\",         \"Children\",         \"Mixed\",         \"Observed Unsustainable\" = \"Unsustainable.x\",         \"Families\" = \"Total\",         tidyselect::starts_with(\"Percent\")     ) SUSTAINABLE_KIDS <- CHILDREN_BY_TRACT |>     dplyr::mutate(         `Expected Unsustainable` = .data$Children * (1 - .data$`Percent Family-sustaining`),         `Extra Unsustainable` = .data$`Expected Unsustainable` - .data$`Observed Unsustainable`,         `Sustainable Kids` = .data$Mixed - .data$`Extra Unsustainable`,         `Percent kids in Sustainable` = .data$`Sustainable Kids` / .data$Children,         `Expected Sustainable` = .data$Children * .data$`Percent Family-sustaining`     )  SUSTAINABLE_KIDS |>     dplyr::select(         \"tract\",         \"Children\",         \"Percent Family-sustaining\",         \"Expected Sustainable\",         \"Expected Unsustainable\",         \"Mixed\",         \"Observed Unsustainable\",         \"Extra Unsustainable\",         \"Sustainable Kids\",         \"Percent kids in Sustainable\"     ) |>     knitr::kable()"},{"path":"https://higherx4racine.github.io/hercacstables/articles/community-reinvestment-act.html","id":"context","dir":"Articles","previous_headings":"","what":"Context","title":"Income Brackets for the Community Reinvestment Act","text":"Community Reinvestment Act, CRA, Federal legislation mandates lenders must engage folks living areas relatively low incomes. Minneapolis Federal Reserve really nice explanation . even helpful article definitions “low moderate income” respect lender’s “assessment area.” key terms place-based partnerships want demonstrate pertinence CRA lender. CRA defines four brackets income level relative assessment area’s median income. can use hercacstables pull area’s median income, define bracket ranges, count number families area fall bracket.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/community-reinvestment-act.html","id":"areas","dir":"Articles","previous_headings":"","what":"Areas","title":"Income Brackets for the Community Reinvestment Act","text":"need identify two different geographical footprints analysis. first “assessment area,” broad geographical scope defines baseline economic status CR. second specific area organization impact. subset assessment area, probably poverty concentrated systems trying change.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/community-reinvestment-act.html","id":"assesssment-area","dir":"Articles","previous_headings":"Areas","what":"Assesssment Area","title":"Income Brackets for the Community Reinvestment Act","text":"Identifying assessment area relevant organization complicated: probably Census-defined Metropolitan Statistical Area organization located. organization serves part enormous metro area, may need identify specific Metropolitan Division. organization serves region low population density, may need use entire state. don’t already know area, can start looking FAQ. article, going use two Metropolitan Statistical Areas southeastern Wisconsin: Kenosha County Racine County.","code":"ASSESSMENT_AREAS <- tibble::tribble(     ~ Area,    ~ county,     \"Kenosha\", \"059\",     \"Racine\",  \"101\" )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/community-reinvestment-act.html","id":"impact-area","dir":"Articles","previous_headings":"Areas","what":"Impact Area","title":"Income Brackets for the Community Reinvestment Act","text":"organization’s impact area customized case. According article , define terms one entire Census Tracts. article, going use two cities southeastern Wisconsin: Kenosha Racine.","code":"IMPACT_AREAS <- tibble::tribble(     ~ Area,    ~ city,  ~ district,     \"Kenosha\", \"39225\", \"07320\",     \"Racine\",  \"66000\", \"12360\" )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/community-reinvestment-act.html","id":"incomes","dir":"Articles","previous_headings":"","what":"Incomes","title":"Income Brackets for the Community Reinvestment Act","text":"CRA wants us look income three ways: median assessment area, brackets defined median income, number folks assessment area bracket.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/community-reinvestment-act.html","id":"median-income-of-assessment-areas","dir":"Articles","previous_headings":"Incomes","what":"Median income of assessment areas","title":"Income Brackets for the Community Reinvestment Act","text":"’ll use table B19326, reports median income place birth. full explanation chose table appears appendix end article. don’t actually need details place birth, just area’s overall median income. reported table’s first row, B19326_001E. Personal median incomes 2024","code":"MEDIAN_INCOMES <- \"B19326_001E\" |>     fetch_data(         year = 2024L,         for_geo = \"county\",         for_items = ASSESSMENT_AREAS$county,         survey_type = \"acs\",         table_or_survey_code = \"acs1\",         state = \"55\"     ) |>     dplyr::right_join(         ASSESSMENT_AREAS,         by = \"county\"     ) |>     dplyr::select(         \"Area\",         `Median Income` = \"Value\"     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/community-reinvestment-act.html","id":"defining-income-brackets","dir":"Articles","previous_headings":"Incomes","what":"Defining income brackets","title":"Income Brackets for the Community Reinvestment Act","text":"can define glossary income brackets assessment area joining multiplying. Personal income brackets 2024","code":"INCOME_BRACKETS <- tibble::tribble(     ~ Bracket, ~ `Lower Bound`, ~ `Upper Bound`,     \"Low\",                 0.0,             0.5,     \"Moderate\",            0.5,             0.8,     \"Middle\",              0.8,             1.2,     \"Upper\",               1.2,             Inf ) |>     dplyr::mutate(         Bracket = forcats::fct_inorder(.data$Bracket)     ) |>     dplyr::cross_join(         MEDIAN_INCOMES     ) |>     dplyr::mutate(         dplyr::across(             tidyselect::ends_with(\"Bound\"),             \\(.) . * .data$`Median Income`         )     ) |>     dplyr::select(         \"Area\",         \"Bracket\",         \"Lower Bound\",         \"Upper Bound\"     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/community-reinvestment-act.html","id":"counting-bracket-populations","dir":"Articles","previous_headings":"Incomes","what":"Counting bracket populations","title":"Income Brackets for the Community Reinvestment Act","text":"third step count many people fall income bracket. , use census table B20005 hercacstables provides GLOSSARY_OF_SEX_BY_EARNINGS, describes row table corresponds specific combination sex, employment status, income bracket. must assign bracket B20005 one local income brackets, amount weighted much overlap. , ’ll create helper function computes much, , two ranges overlap. ’ll use purrr::map2_dbl make work vector inputs. Now join everything, compute overlaps, filter rows without overlap, compute weights proportion overlap.","code":"overlap_helper <- function(.lower_1, .upper_1, .lower_2, .upper_2) {     .tops <- purrr::map2_dbl(.upper_1, .upper_2, min)     .bottoms <- purrr::map2_dbl(.lower_1, .lower_2, max)     purrr::map_dbl(.tops - .bottoms, \\(.) max(., 0.0)) } GLOSSARY_OF_INCOME_BRACKETS <- GLOSSARY_OF_SEX_BY_INCOME |>     dplyr::slice(          -1L, # grand total          -2L, # subtotal of all males          -3L, # subtotal of full-time-employed males          -5L, # subtotal of full-time-employed males with earnings         -26L, # subtotal of not-full-time-employed males         -28L, # subtotal of not-full-time-employed males with earnings         -49L, # subtotal of all females         -50L, # subtotal of full-time-employed females         -52L, # subtotal of full-time-employed females with earnings         -73L, # subtotal of not-full-time-employed females         -75L  # subtotal of not-full-time-employed females     ) |>     dplyr::cross_join(         INCOME_BRACKETS,         suffix = c(\" Census\", \" CRA\")     ) |>     dplyr::mutate(         Overlap = overlap_helper(.data$`Lower Bound Census`,                                  .data$`Upper Bound Census`,                                  .data$`Lower Bound CRA`,                                  .data$`Upper Bound CRA`)     ) |>     dplyr::filter(         .data$Overlap > 0.0     ) |>     dplyr::mutate(         Proportion = dplyr::coalesce(             .data$Overlap /                  (.data$`Upper Bound Census` - .data$`Lower Bound Census`),             1.0         )     ) |>     dplyr::arrange(         .data$Index,         .data$Bracket,         .data$Area     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/community-reinvestment-act.html","id":"fetch-the-counts","dir":"Articles","previous_headings":"Incomes","what":"Fetch the counts","title":"Income Brackets for the Community Reinvestment Act","text":"next step pull counts people income brackets Census. distributions personal incomes differ Kenosha Racine. populous income bracket Kenosha, Upper, makes 39% people. Kenosha`s next largest bracket, Lower income, also lot people: 27%. Moderate (14%) Middle (20%) brackets less populous. contrast, Racine’s Lower Upper brackets tied populous, 29% . Racine’s Middle (26%) bracket also pretty populous, leaving Moderate income bracket smallest, 16% population. income distributions bimodal asymmetric, folks extreme ends income range.","code":"RAW_COUNTS_BY_INCOME_BRACKET <- fetch_data(     variables = \"group(B19325)\",     year = 2024L,     for_geo = \"place\",     for_items = IMPACT_AREAS$city, #    for_geo = \"school district (unified)\", #    for_items = IMPACT_AREAS$district,     survey_type = \"acs\",     table_or_survey_code = \"acs1\",     state = \"55\" ) COUNTS_BY_INCOME_BRACKET <- RAW_COUNTS_BY_INCOME_BRACKET |>     dplyr::filter(         .data$Measure == \"E\"     ) |>     dplyr::semi_join(         GLOSSARY_OF_INCOME_BRACKETS,         by = \"Index\"     ) |>     dplyr::inner_join(         IMPACT_AREAS, #        by = c(`school district (unified)` = \"district\")         by = c(place = \"city\")     ) |>     dplyr::left_join(         GLOSSARY_OF_INCOME_BRACKETS,         by = c(\"Area\", \"Index\"),         relationship = \"many-to-many\"     ) POPULATIONS_PER_BRACKET <- COUNTS_BY_INCOME_BRACKET |>     dplyr::summarize(         People = sum(.data$Proportion * .data$Value, na.rm = TRUE),         .by = c(\"Area\", \"Bracket\")     ) |>     dplyr::arrange(         .data$Area,         .data$Bracket     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/community-reinvestment-act.html","id":"appendix","dir":"Articles","previous_headings":"","what":"Appendix","title":"Income Brackets for the Community Reinvestment Act","text":", like , memorized every subtable ACS, need look tables report data need. search_in_columns function METADATA_FOR_ACS_GROUPS gloassary hercacstables exist exactly situation.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/community-reinvestment-act.html","id":"finding-a-median-income-table","dir":"Articles","previous_headings":"Appendix","what":"Finding a Median Income Table","title":"Income Brackets for the Community Reinvestment Act","text":"definitely want find tables word “median” . Census uses “income” “earnings” talk much people make. ’ll search terms. Wow … ’s lot tables. Poring , table B19326 seems promisingly broad. fact, cheat looking ahead tables count people income, find corresponding table B19325 make easy count people ’ve determined brackets. Let’s use B19326 calculate median income assessment area.","code":"METADATA_FOR_ACS_GROUPS |>     search_in_columns(         Description = c(\"median\", \"income|earn\"), # case-insensitive search for \"median\" AND (\"income\" OR \"earn\")         Universe = \"population\",                  # this will give us individual incomes         Group = \"\\\\d$\"                            # this will exclude tables that report within a single race     ) |>     knitr::kable()"},{"path":"https://higherx4racine.github.io/hercacstables/articles/community-reinvestment-act.html","id":"finding-counts-by-income","dir":"Articles","previous_headings":"Appendix","what":"Finding counts by income","title":"Income Brackets for the Community Reinvestment Act","text":", ’ll look tables either “income” “earn” descriptions. time, however, want specifically exclude tables summarize dollars. ’ll exclude tables words like “median,” “average,” “aggregate” descriptions. get large number tables, just like searched tables median incomes. , “cheat” looking tables seem go , three tables jump : B19325, B20001, B20005. difference three B19325 counts people income, B20005 counts everyone 16, B20001 counts people earnings. Let’s stick income, rather earnings. ’ll use B19325 count many people fall income bracket.","code":"METADATA_FOR_ACS_GROUPS |>     search_in_columns(         Description = \"income|earn\",                          # seems obvious, right?         `-Description` = c(\"aggregate\", \"median\", \"average\"), # no summaries, we want counts of people         Universe = \"population\",                              # this should give personal incomes         Group = \"\\\\d$\"                                        # this will exclude tables that report within a single race     ) |>     knitr::kable()"},{"path":"https://higherx4racine.github.io/hercacstables/articles/community-reinvestment-act.html","id":"detailed-bracket-information","dir":"Articles","previous_headings":"Appendix","what":"Detailed bracket information","title":"Income Brackets for the Community Reinvestment Act","text":"full table bracket Census proportion members go bracket CRA.","code":"COUNTS_BY_INCOME_BRACKET |>     dplyr::select(         \"Area\",         \"Sex\",         \"Full-time\",         \"Index\",         \"Lower Bound Census\",         \"Upper Bound Census\",         \"Bracket\",         \"Lower Bound CRA\",         \"Upper Bound CRA\",         \"Overlap\",         \"Proportion\"     ) |>     knitr::kable()"},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/articles/hercacstables.html","id":"for-the-newest-r-users","dir":"Articles","previous_headings":"Welcome","what":"For the newest R users:","title":"hercacstables","text":"new R, data science, suggest checking R Data Science. background data science, heard good things book.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/hercacstables.html","id":"first-time-users-of-hercacstables","dir":"Articles","previous_headings":"Welcome","what":"First-time users of hercacstables","title":"hercacstables","text":"first time using package probably want register Census. Registering important helps make queries API. Census limits number anonymous API queries receives one IP address. vignette(\"set_up_your_api_key\") guide process.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/hercacstables.html","id":"otherwise-welcome-back","dir":"Articles","previous_headings":"Welcome","what":"Otherwise, welcome back!","title":"hercacstables","text":"package helps R users access data United States Census Bureau, especially American Community Survey. American Community Survey (ACS) US Census’s website provides vast amount useful data. However, returns data weirdly idiosyncratic way. Even though output seems tabular, data really organized tree-like fashion. package intended make easy access use ACS data R. database enormous amount information, stored versatile cumbersome format. Data stored hundreds different tables, called “groups,” give breakdowns information. example, group B21005 reports counts people according employment status, military service, age. row group reports value specific slice topic. example, row 5 group B21005 gives number employed veterans ages 18 34. Census combines group code row variable, B21005_005E. packing information gives Census flexible way report data. However, challenging user somehow know variables report data interested . light , hercacstables designed help people make repeated, efficient use Census’s API. glossary tables explicitly connect real-world concepts Census variables. can use database-style joins connect concepts values pull API. Many questions work Census data follow common pattern: [measurement] differ among [demographic groups] across [geographic levels] [geographic area] [span time]? Measurement huge number things Census keeps track . Measurements arranged tables (called “groups”) rows. drawing maps, determines color area. Examples include population size (table B01001 others), median household income (table B19013 others), types computers household (table B28001), number vehicles used commuting (table B08015). Demographic Group subset population shares specific traits. Demographic groups can represented either groups (common reporting race ethnicity) rows (cases, like age, sex, veteran status). drawing maps, probably different version map demographic grouping. Examples include number Hispanic girls 5 years old (table B01001I, row 18), median income Asian American households (table B19013D, row 1), number households computer (table B28001, row 11), number vehicles used women commuting (table B08015, row 3). Geographic Level Census-defined hierarchy whole country small blocks. level interested determined scale question. drawing maps, areas appeared different colors. Examples include congressional districts, incorporated cities, school districts, Census tracts. Geographic Area set specific instances one geographic levels. full geographic scope question. drawing maps, determine scale. Examples include whole states, metropolitan areas, Census-designated places, counties.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/hercacstables.html","id":"the-workflow","dir":"Articles","previous_headings":"","what":"The workflow","title":"hercacstables","text":"Find potential groups searching Universe Description fields hercacstables::METADATA_FOR_ACS_GROUPS. Identify specific variables hercacstables::METADATA_FOR_ACS_VARIABLES: filter Group field examine Details field. may need several pulling data several groups. Use hercacstables::METADATA_FOR_ACS_GEOGRAPHIES . often small, like tract county subdivision. larger, like state county. Create glossary maps geographic ids meaningful names. often always use variables (step 1) may need parameterized geography ’re pulling multiple levels always parameterized year can use look trends /reuse subsequent years. probably involve using dplyr::inner_join() fetched data glossaries. can also perform calculations like aggregating finding remainders. probably write functions per question. Cache result API calls slow Save results , e.g. base::saveRDS().","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/hercacstables.html","id":"example","dir":"Articles","previous_headings":"","what":"Example","title":"hercacstables","text":"Let’s say want ask question: [number households] differ [Hispanic non-Hispanic people] across [Manchester, Nashua, suburban areas] [Hillsborough County, NH] [last 10 years]?","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/hercacstables.html","id":"find-the-measurement-and-demographic-groups","dir":"Articles","previous_headings":"Example","what":"Find the measurement and demographic groups","title":"hercacstables","text":"First, find variables describe numbers households. One way search hercacstables::METADATA_FOR_ACS_GROUPS groups whose Universe “Households” whose Description contains “Hispanic” “Ethnicity.” group’s Universe describes measuring, often telling units whatever values . group’s Description phrase summarizes reports. looks like best bet group “B11001I.” likely group “B11001” contains counts households race. first row groups total value across demographic subset keeps track . Since question ask different household types, probably just need row one groups “B11001” “B11001I.” gives us good opportunity document ethnicities counted .","code":"hercacstables::METADATA_FOR_ACS_GROUPS |>     dplyr::filter(         .data$ACS5,         stringr::str_detect(.data$Universe, \"Household\"),         stringr::str_detect(.data$Description, \"Hispanic|Ethnic\")     ) |>     dplyr::select(         \"Group\",         \"Universe\",         \"Description\"     ) |>     knitr::kable() HOUSEHOLD_GROUPS <- c(\"B11001\", \"B11001I\") household_variables <- hercacstables::METADATA_FOR_ACS_VARIABLES |>     dplyr::filter(         .data$Dataset == \"ACS1\",         .data$Group %in% HOUSEHOLD_GROUPS,                   .data$Index == 1) |>     dplyr::mutate(         Ethnicity = dplyr::case_match(.data$Group,                                       \"B11001\" ~ \"All\",                                       \"B11001I\" ~ \"Hispanic or Latino\")     ) |>     dplyr::select(\"Group\", \"Index\", \"Variable\", \"Ethnicity\")  knitr::kable(household_variables,              align = c(\"lrll\"))"},{"path":"https://higherx4racine.github.io/hercacstables/articles/hercacstables.html","id":"find-the-geographic-levels-and-geographic-area","dir":"Articles","previous_headings":"Example","what":"Find the geographic levels and geographic area","title":"hercacstables","text":"next step find codes related geographic areas levels. need know FIPS code state, county, two cities. also need know geographic level ’re working “county subdivision.” last part step, define glossary translate FIPS codes different geographies human-readable name.","code":"NEW_HAMPSHIRE <- \"33\" COUNTY_LEVEL <- \"county\" HILLSBOROUGH_CO <- \"011\" CITY_LEVEL <- \"county subdivision\" MANCHESTER_NH <- \"45140\" NASHUA_NH <- \"50260\"  geography_definitions <- tibble::tribble(     ~ FIPS,          ~ Location,     HILLSBOROUGH_CO, \"County-wide\",     MANCHESTER_NH,   \"Manchester\",     NASHUA_NH,       \"Nashua\" )  geography_definitions |>     knitr::kable()"},{"path":"https://higherx4racine.github.io/hercacstables/articles/hercacstables.html","id":"find-the-time-interval","dir":"Articles","previous_headings":"Example","what":"Find the time interval","title":"hercacstables","text":"example looks population changes “last ten years.” really means ten recent years data. can use 1-year estimates question dealing geographic levels 50,000 people . case 1-year ACS dataset, latest one two years ago. earliest 11 years survey 2020. last ten years available Census , 2026-01-29, 2013 2024.","code":"BUILD_DATE <- Sys.Date() LATEST_YEAR <- hercacstables::most_recent_vintage(\"acs\", \"acs1\") TEN_YEARS_AGO <- LATEST_YEAR - 11L YEARS_INCLUDED <- c(TEN_YEARS_AGO:2019, 2021:LATEST_YEAR)"},{"path":"https://higherx4racine.github.io/hercacstables/articles/hercacstables.html","id":"define-functions-that-use-the-api","dir":"Articles","previous_headings":"Example","what":"Define functions that use the API","title":"hercacstables","text":"need make multiple calls API, makes sense create reusable functions. need two calls per year. first one pull county-wide household counts. second one pull household counts city. function “year” argument can reuse .","code":"generalized_fetch_data <- function(.year, .level, .areas, ...) {     hercacstables::fetch_data(         variables = household_variables$Variable,         year = .year,         survey_type = \"acs\",         table_or_survey_code = \"acs1\",         for_geo = .level,         for_items = .areas,         state = NEW_HAMPSHIRE,         ...     ) }  fetch_county_households <- function(.year){     generalized_fetch_data(.year,                            \"county\",                            HILLSBOROUGH_CO) }  fetch_city_households <- function(.year){     generalized_fetch_data(.year,                            CITY_LEVEL,                            c(MANCHESTER_NH,                              NASHUA_NH),                            county = HILLSBOROUGH_CO) }  fetch_example_data <- function(.year) {     dplyr::bind_rows(         fetch_county_households(.year),         fetch_city_households(.year)     ) }"},{"path":"https://higherx4racine.github.io/hercacstables/articles/hercacstables.html","id":"fetch-the-data","dir":"Articles","previous_headings":"Example","what":"Fetch the data","title":"hercacstables","text":"hercacstables starts come . define fetching process times possible, just tweaking related cases. leads lot code reuse efficiency, especially reports just need update year.","code":"raw_households <- YEARS_INCLUDED |>     purrr::map(fetch_example_data) |>     purrr::list_rbind() raw_households |>     dplyr::filter(.data$Year == LATEST_YEAR) |>     dplyr::mutate(         dplyr::across(c(\"Value\"),                       scales::label_comma(accuracy = 1))     ) |>     knitr::kable(         align = \"lllrrrl\"     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/hercacstables.html","id":"wrangle-the-data","dir":"Articles","previous_headings":"Example","what":"Wrangle the data","title":"hercacstables","text":"raw data usable. Several columns still codes, rather human-readable values. value column also explicitly state values suburban non-Hispanic folks. “wrangling” process addressing drawbacks.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/hercacstables.html","id":"map-codes-to-words","dir":"Articles","previous_headings":"Example > Wrangle the data","what":"Map codes to words","title":"hercacstables","text":"get rid columns Census database codes create columns location demographics human-readable values.","code":"households <- raw_households |>     dplyr::inner_join(         household_variables,         by = c(\"Group\", \"Index\")     ) |>     dplyr::mutate(         FIPS = dplyr::coalesce(.data$`county subdivision`,                                .data$county)     ) |>     dplyr::inner_join(         geography_definitions,         by = \"FIPS\"     ) |>     dplyr::select(         \"Location\",         \"Year\",         \"Ethnicity\",         Households = \"Value\"     )  households |>     dplyr::filter(.data$Year == LATEST_YEAR) |>     dplyr::mutate(         dplyr::across(c(\"Households\"),                       scales::label_comma(accuracy = 1))     ) |>     knitr::kable(         align = \"rllr\"     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/hercacstables.html","id":"compute-implicit-values","dir":"Articles","previous_headings":"Example > Wrangle the data","what":"Compute implicit values","title":"hercacstables","text":"Now columns human-readable, can compute values actually interested . computation involves subtracting either cities’ households county’s, number Hispanic households total number households. task turns frequently dealing Census data, helper function can use adapt : hercacstables::subtract_parts_from_whole(). function remove rows contain -groups category. case, must remove calculations come correctly.","code":"households <- households |>     hercacstables::subtract_parts_from_whole(         grouping_column = \"Location\",         value_column = \"Households\",         whole_name = \"County-wide\",         part_names = c(\"Manchester\", \"Nashua\"),         remainder_name = \"Suburbs\"     ) |>     dplyr::filter(         .data$Location != \"County-wide\"     ) |>     hercacstables::subtract_parts_from_whole(         grouping_column = \"Ethnicity\",         value_column = \"Households\",         whole_name = \"All\",         part_names = \"Hispanic or Latino\",         remainder_name = \"Not Hispanic or Latino\"     ) |>     dplyr::filter(         .data$Ethnicity != \"All\"     )  households |>     dplyr::filter(.data$Year == LATEST_YEAR) |>     dplyr::mutate(         dplyr::across(c(\"Households\"),                       scales::label_comma(accuracy = 1))     ) |>     knitr::kable(         align = \"lrlr\"     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/hercacstables.html","id":"answer-the-question","dir":"Articles","previous_headings":"Example","what":"Answer the question","title":"hercacstables","text":"Now can finally look trends number households Hillsborough County, NH, comparing Hispanic non-Hispanic households among Manchester, Nashua, suburbs.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/hercacstables.html","id":"visualize","dir":"Articles","previous_headings":"Example > Answer the question","what":"Visualize","title":"hercacstables","text":"first step make graphs. data 4-dimensional involve time, location, ethnicity, number households. means ’ll need one graph. looked tables number Hispanic households much lower non-Hispanic households three locations. Let’s make two-panel graph, panel shows one ethnicity. way can separate y axes. graphs time x-axis, number households y, designate location color points lines.  looks like number households growing, non-Hispanic households increasing suburbs Hispanic households increasing cities.","code":"households |>     ggplot2::ggplot(         ggplot2::aes(             x = .data$Year,             y = .data$Households,             color = .data$Location,             group = .data$Location         )     ) +     ggplot2::geom_line(         linewidth = 2     ) +     ggplot2::geom_point(         size = 5     ) +     ggplot2::scale_x_continuous(         name = NULL,         breaks = scales::breaks_width(5),         minor_breaks = scales::breaks_width(1)     ) +     ggplot2::scale_y_continuous(         name = \"Number of households\",         limits = c(0, NA),         labels = scales::label_comma(accuracy = 1)     ) +     ggplot2::scale_color_viridis_d(         name = NULL,         guide = ggplot2::guide_legend(position = \"top\")     ) +     ggplot2::facet_grid(         rows = ggplot2::vars(.data$Ethnicity),         scales = \"free_y\"     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/hercacstables.html","id":"analyze","dir":"Articles","previous_headings":"Example > Answer the question","what":"Analyze","title":"hercacstables","text":"Let’s test ANCOVA. ’ll subtract 2013 year intercept estimate gives us value 2013, AD 0. always like look ANOVA table first get 10,000 meter view try interpret specific parameters. looks like EVERYTHING significant, let’s look parameters near-significant range.","code":"household_model <- households |>     dplyr::mutate(         Year = .data$Year - TEN_YEARS_AGO,         Location = factor(.data$Location,                           levels = c(\"Suburbs\",                                      \"Manchester\",                                      \"Nashua\")),         Ethnicity = factor(.data$Ethnicity,                            levels = c(\"Not Hispanic or Latino\",                                       \"Hispanic or Latino\"))     ) |>     lm(         Households ~ Year * Ethnicity * Location,         data = _     ) household_model |>     anova() |>     broom::tidy() |>     dplyr::mutate(         dplyr::across(c(\"sumsq\",                         \"meansq\"),                       scales::label_comma(accuracy = 1)),         dplyr::across(\"statistic\",                       \\(.) signif(., 4)),         dplyr::across(\"p.value\",                       \\(.) round(., 4))     ) |>     knitr::kable(         align = \"lrrrrr\"     ) household_model |>     broom::tidy() |>     dplyr::filter(         .data$`p.value` < 0.1     ) |>     dplyr::mutate(         dplyr::across(c(\"estimate\",                         \"std.error\",                         \"statistic\"),                       \\(.) signif(., 4)),         dplyr::across(\"p.value\",                       \\(.) round(., 4))     ) |>     knitr::kable(         align = \"lrrrr\"     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/hercacstables.html","id":"summarize","dir":"Articles","previous_headings":"Example > Answer the question","what":"Summarize","title":"hercacstables","text":"number households Hillsborough county overall grew 2013-2024. number Hispanic households much higher two cities suburban parts county. difference became pronounced decade, two reasons. number Hispanic households grew quickly Nashua Manchester suburban areas. number non-Hispanic households grew quickly suburbs cities. Isn’t nice visual patterns corroborated significant statistics?","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/plumbing_and_owner_occupancy.html","id":"specifying-your-community","dir":"Articles","previous_headings":"","what":"Specifying your community","title":"Plumbing and Owner-occupancy","text":"tell wastewater commission’s area responsibility essentially identical local school district’s, Racine Unified. look geographical levels related schools hercacstables::METADATA_FOR_ACS_GEOGRAPHIES. table tells us two things. First, geographic level examine “school district (unified)”. Second, also need specify state ’re fetching data . hercacstables::fetch_data(), tools tidyverse, can find FIPS codes unified school districts Wisconsin word “Racine” .","code":"SCHOOL_GEOGRAPHIES <- dplyr::filter(hercacstables::METADATA_FOR_ACS_GEOGRAPHIES,                                     grepl(\"school\", .data$`Geographic Level`)) RACINE_DISTRICTS <- \"NAME\" |>     hercacstables::fetch_data(         variables = _,         year = 2020,                           # the most recent decennial         for_geo = \"school district (unified)\", # see above         for_items = \"*\",                       # this wildcard gets every item         survey_type = \"dec\",                   # not actually the ACS *flex*         table_or_survey_code = \"pl\",           # this data set is similar to ACS         state = 55L                            # the Badger State     ) |>     dplyr::filter(         stringr::str_detect(.data$NAME, \"Racine\")     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/plumbing_and_owner_occupancy.html","id":"finding-relevant-data","dir":"Articles","previous_headings":"","what":"Finding relevant data","title":"Plumbing and Owner-occupancy","text":"first thing check data related plumbing. without R, might visit data.census.gov search “ACS plumbing”.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/plumbing_and_owner_occupancy.html","id":"groups-with-relevant-data","dir":"Articles","previous_headings":"Finding relevant data","what":"Groups with relevant data","title":"Plumbing and Owner-occupancy","text":"hercacstables, search within glossary ACS groups: appears keyword “plumbing” appears 6 different ACS groups.","code":"PLUMBING_GROUPS <- hercacstables::METADATA_FOR_ACS_GROUPS |>     dplyr::filter(         grepl(\"plumbing\",         # search for the term \"plumbing\"               .data$Description,  # within the \"Description\" column               ignore.case = TRUE) # ignore capitalization     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/plumbing_and_owner_occupancy.html","id":"specific-variables-about-plumbing","dir":"Articles","previous_headings":"","what":"Specific variables about plumbing","title":"Plumbing and Owner-occupancy","text":"Let’s say “Tenure1 plumbing facilities” jumps potentially interesting. hercacstables also provides glossary variables. can search see details variable group B25049.","code":"GROUP <- \"B25049\" PLUMBING_VARIABLES <- hercacstables::METADATA_FOR_ACS_VARIABLES |>     dplyr::filter(         .data$Dataset == \"ACS5\", # use the 1-year dataset only         .data$Group == GROUP     # pull all of the variables for this group     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/plumbing_and_owner_occupancy.html","id":"unpacking-variable-details","dir":"Articles","previous_headings":"","what":"Unpacking variable details","title":"Plumbing and Owner-occupancy","text":"can see group B25049 reports number households , , plumbing facilities. breaks households renters owner-occupants. raw glossary Census, hercacstables::METADATA_FOR_ACS_VARIABLES, packs information “Details” column. useful actually separate columns types tenure plumbing facilities. can use hercacstables::unpack_group_details() , combination tools tidyverse. might also decide don’t rows report total number households (row 1) subtotals tenure (2 5). ’ll data anyway 3, 4, 6, 7.","code":"PLUMBING_VARIABLES <- GROUP |>     hercacstables::unpack_group_details() |>     dplyr::filter(         .data$Dataset == \"ACS5\"     ) |>     dplyr::rename(         Tenure = \"A\",         Plumbing = \"B\"     ) |>     dplyr::filter(         dplyr::if_all(c(\"Tenure\", \"Plumbing\"),                       \\(.) (nchar(.) > 0))     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/plumbing_and_owner_occupancy.html","id":"fetch-data","dir":"Articles","previous_headings":"","what":"Fetch data","title":"Plumbing and Owner-occupancy","text":"finally ready pull census data plumbing! starters, compare local area whole county, state, census region, whole country. , ’ll use hercacstables::fetch_data() tidyverse. data RAW_PLUMBING much meaning without information PLUMBING_VARIABLES. Fortunately, can use tidyverse join two tables together. Finally, can tidyverse-magic look different rates plumbing renters versus owners. Three things might jump . first almost every household US complete plumbing facilities. second thing plumbing access seems little different renters owners. third thing access plumbing different Racine larger geographic levels. scale nation, region, state, renters little less likely complete access plumbing. contrast, renters Racine County Racine Unified School District actually little likely access plumbing.","code":"YEAR <- hercacstables::most_recent_vintage(\"acs\", \"acs5\")  RAW_PLUMBING <- tibble::tribble(     ~ geo,                       ~ items, ~ other,     \"us\",                        \"1\",     list(),     \"region\",                    \"2\",     list(),     \"state\",                     \"55\",    list(),     \"county\",                    \"101\",   list(state = 55),     \"school district (unified)\", \"12360\", list(state = 55) ) |>     purrr::pmap(         \\(geo, items, other) rlang::inject(             hercacstables::fetch_data(                 variables = c(\"NAME\", PLUMBING_VARIABLES$Variable),                 year = YEAR,                 for_geo = geo,                 for_items = items,                 survey_type = \"acs\",                 table_or_survey_code = \"acs5\",                 !!!other             )         )     ) PLUMBING <- RAW_PLUMBING |>     purrr::map(         \\(.) dplyr::select(.,                            \"Group\",                            \"Index\",                            Geography = \"NAME\",                            Households = \"Value\"         )     ) |>     purrr::list_rbind() |>     dplyr::right_join(         PLUMBING_VARIABLES,         by = c(\"Group\", \"Index\")     ) |>     dplyr::select(         \"Geography\",         \"Tenure\",         \"Plumbing\",         \"Households\"     ) knitr::kable(PLUMBING) RATES_OF_PLUMBING <- PLUMBING |>     dplyr::mutate(         dplyr::across(c(\"Tenure\", \"Plumbing\"),                       \\(.) stringr::str_extract(., \"^\\\\S+\"))     ) |>     tidyr::pivot_wider(         names_from = \"Tenure\",         values_from = \"Households\"     ) |>     dplyr::mutate(         `All Households` = .data$Owner + .data$Renter     ) |>     tidyr::pivot_longer(         cols = c(\"Renter\", \"Owner\", \"All Households\"),         names_to = \"Tenure\",         values_to = \"Households\"     ) |>     tidyr::pivot_wider(         names_from = \"Plumbing\",         values_from = \"Households\"     ) |>     dplyr::mutate(         Households = .data$Complete + .data$Lacking,         Rate = .data$Complete / .data$Households     ) |>     dplyr::select(         \"Geography\",         \"Tenure\",         \"Rate\"     ) |>     tidyr::pivot_wider(         names_from = \"Tenure\",         values_from = \"Rate\"     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/population_changes_in_school_districts.html","id":"how-have-populations-changed-in-ohios-four-largest-school-districts","dir":"Articles","previous_headings":"","what":"How have populations changed in Ohio’s four largest school districts?","title":"Population changes in school districts","text":"answer hercacstables, break four component questions.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/population_changes_in_school_districts.html","id":"who","dir":"Articles","previous_headings":"How have populations changed in Ohio’s four largest school districts?","what":"Who?","title":"Population changes in school districts","text":"population populations trying understand? help us identify groups variables specifically ask . groups values can accessed offline hercacstables::METADATA_FOR_ACS_GROUPS hercacstables::METADATA_FOR_ACS_VARIABLES. want know populations school districts. makes sense look school-aged children, say 5-18. requests ask data kids age range. can built-table hercacstables::GLOSSARY_OF_AGE_AND_SEX. table can see need include six variables API query.","code":"school_children_glossary <- hercacstables::GLOSSARY_OF_AGE_AND_SEX |>     dplyr::filter(         .data$`Lower Age` >= 5,         .data$`Upper Age` <= 18,         .data$Suffix == FALSE     ) |>     dplyr::distinct()  knitr::kable(school_children_glossary) SCHOOL_CHILDREN_VARIABLES <- hercacstables::build_api_variable(     \"B01001\",     school_children_glossary$Index ) print(SCHOOL_CHILDREN_VARIABLES) #> [1] \"B01001_004E\" \"B01001_005E\" \"B01001_006E\" \"B01001_028E\" \"B01001_029E\" #> [6] \"B01001_030E\""},{"path":"https://higherx4racine.github.io/hercacstables/articles/population_changes_in_school_districts.html","id":"where","dir":"Articles","previous_headings":"How have populations changed in Ohio’s four largest school districts?","what":"Where?","title":"Population changes in school districts","text":"kind place, specific location, data describe? Census API can provide information many levels geographical detail. questions might pertain entire states. Others might involve comparisons among tracts metropolitan area. can find details different geographic levels hercacstables::METADATA_FOR_ACS_GEOGRAPHIES. know real-world name place, numeric code Census uses , can look . question ’re dealing , want look geographic area served school district. actually three different kinds school district geographic levels. looks like specific geographic level ask “school districts (unified)”. “Containing Geographies” column lets us know also tell API state interested . “Wildcard Option” column tells us can use “*” say “states.” just want Ohio, must supply FIPS code. don’t know top head, can use page Census’s website search FIPS code specific geography. Ohio’s FIPS code 39.","code":"school_district_geographies <- hercacstables::METADATA_FOR_ACS_GEOGRAPHIES |>     dplyr::filter(stringr::str_detect(.data$`Geographic Level`, \"school\"))  school_district_geographies |>     knitr::kable() UNIFIED_SCHOOL_DISTRICT <- school_district_geographies$`Geographic Level`[3] print(UNIFIED_SCHOOL_DISTRICT) #> [1] \"school district (unified)\" STATE_FIPS <- 39"},{"path":"https://higherx4racine.github.io/hercacstables/articles/population_changes_in_school_districts.html","id":"when","dir":"Articles","previous_headings":"How have populations changed in Ohio’s four largest school districts?","what":"When?","title":"Population changes in school districts","text":"request Census API must include year path. means takes multiple API calls pull data multiple years. calls identical others, except year path. repetitiveness might just single biggest motivator developing hercacstables. ’s easy R iterate array years, making one function call year, bundling results one tidy data frame. aspect “” question whether use 1-year 5-year estimates. ACS reports . Five-year estimates include data preceding four years. increases sample sizes enough provide information smaller geographic levels, like tracts block groups. One-year estimates responsive rapid changes (like unemployment COVID-19 pandemic, example), available larger geographic levels. Unified school districts large enough 1-year ACS include . example, use every year data available. 2005 2022, except 2020, 1-year ACS data.","code":"YEARS_FOR_ACS <- c(2005:2019, 2021:2023)"},{"path":"https://higherx4racine.github.io/hercacstables/articles/population_changes_in_school_districts.html","id":"what-describe-the-steps-to-answer-our-question","dir":"Articles","previous_headings":"How have populations changed in Ohio’s four largest school districts?","what":"What? Describe the steps to answer our question","title":"Population changes in school districts","text":"Thus far, identified need deal “populations” (), “school districts” “Ohio” (), “changed” () aspects question. final aspect “four largest” parts. take three steps find four largest school districts Ohio. first step use [hercacstables::fetch_data()] function pull data Census API. need number children live school district Ohio recent year available. next step sum populations district sort biggest smallest. last step pull GEOIDs four biggest districts.","code":"fetch_district_children <- function(.state_fips, .year, .district_geoids = \"*\") {     hercacstables::fetch_data(         variables = c(\"NAME\", SCHOOL_CHILDREN_VARIABLES), # district names, too         year = .year,                                     # most recent year         survey_type = \"acs\",                              # American Community Survey         table_or_survey_code = \"acs1\",                    # One-year estimates         for_geo = UNIFIED_SCHOOL_DISTRICT,                # \"school district (unified)\"         for_items = .district_geoids,                     # every school district         state = STATE_FIPS                                # our state's two-digit code     ) }  latest_school_districts_raw <- fetch_district_children(STATE_FIPS, 2023)  latest_school_districts_raw |>     dplyr::slice_sample(n = 8) |>     knitr::kable() wrangle_latest_kids <- function(.raw_children){     .raw_children |>         dplyr::count(             .data$NAME,             .data[[UNIFIED_SCHOOL_DISTRICT]],             name = \"Children\",             wt = .data$Value         ) |>         dplyr::arrange(dplyr::desc(.data$Children)) }  latest_school_districts <- wrangle_latest_kids(latest_school_districts_raw)  latest_school_districts |>     dplyr::slice(1:8) |>     dplyr::mutate(Children = scales::label_comma(accuracy = 1)(.data$Children)) |>     knitr::kable(align = \"lrr\") top_district_geoids <- function(.districts, n){     .districts[[UNIFIED_SCHOOL_DISTRICT]][1:n] }  districts_for_query <- top_district_geoids(latest_school_districts, 4)  print(districts_for_query) #> [1] \"04380\" \"04378\" \"04375\" \"04490\""},{"path":"https://higherx4racine.github.io/hercacstables/articles/population_changes_in_school_districts.html","id":"pulling-it-all-together","dir":"Articles","previous_headings":"How have populations changed in Ohio’s four largest school districts?","what":"Pulling it all together","title":"Population changes in school districts","text":"Now components need pull population histories four biggest school districts Ohio. First, fetch data. Notice can reuse fetching function defined ! Next, sum number children create human-readable names district. Finally, can plot results.  looks like maybe lot people moving Cleveland Columbus, taking kids .","code":"fetch_district_histories <- function(.state_fips, .district_geoids = \"*\") {     YEARS_FOR_ACS |>         purrr::map(             \\(.year) fetch_district_children(.state_fips,                                              .year,                                               .district_geoids)         ) |>         purrr::list_rbind() }   big_district_histories_raw <- fetch_district_histories(STATE_FIPS,                                                        districts_for_query) wrangle_histories <- function(.raw_district_histories, .latest_districts){     .raw_district_histories |>     dplyr::count(         .data[[UNIFIED_SCHOOL_DISTRICT]],         .data$Year,         name = \"Children\",         wt = .data$Value     ) |>     dplyr::inner_join(         dplyr::select(             .latest_districts,             tidyselect::all_of(c(\"NAME\", UNIFIED_SCHOOL_DISTRICT))             ),         by = UNIFIED_SCHOOL_DISTRICT     ) |>     dplyr::mutate(         District = stringr::str_extract(.data$NAME,                                         \"^\\\\S*\")     ) |>     dplyr::select(         \"District\",         \"Year\",         \"Children\"     ) }  big_district_histories <- wrangle_histories(big_district_histories_raw,                                             latest_school_districts) plot_district_histories <- function(.district_histories){     .district_histories |>         ggplot2::ggplot(             ggplot2::aes(                 x = .data$Year,                 y = .data$Children,                 color = .data$District             )         ) +         ggplot2::geom_line(             linewidth = 2         ) +         ggplot2::geom_point(             size = 5         ) +         ggplot2::scale_x_continuous(             name = NULL,             labels = scales::label_number(big.mark = \"\"),             breaks = scales::breaks_width(5),             minor_breaks = scales::breaks_width(1)         ) +         ggplot2::scale_y_continuous(             name = \"School-aged children in school district's area\",             labels = scales::label_comma(accuracy = 1,                                          scale = 0.001,                                          suffix = \"K\"),             limits = c(0, NA)         ) +         ggplot2::scale_color_discrete(             guide = ggplot2::guide_legend(title = NULL,                                           position = \"top\")         ) +         ggplot2::theme_minimal() }  plot_district_histories(big_district_histories)"},{"path":"https://higherx4racine.github.io/hercacstables/articles/population_changes_in_school_districts.html","id":"everything-is-reusable","dir":"Articles","previous_headings":"How have populations changed in Ohio’s four largest school districts?","what":"Everything is reusable","title":"Population changes in school districts","text":"Now ’ve seen example Ohio, may thinking “question relevant .” However! rerun code, changing just STATE_FIPS state’s FIPS code, get analysis different state. Let’s look changes population five largest school districts Delaware.  thing state. ’s goal project: help define workflows making reports Census data can easily rerun comparable places times.","code":"STATE_FIPS <- 10  latest_de_districts <- STATE_FIPS |>     fetch_district_children(2023) |>     wrangle_latest_kids()  de_district_geoids <- latest_de_districts |>     top_district_geoids(5)  big_de_district_histories <- STATE_FIPS |>     fetch_district_histories(de_district_geoids) |>     wrangle_histories(latest_de_districts)  plot_district_histories(big_de_district_histories)"},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"preface","dir":"Articles","previous_headings":"","what":"Preface","title":"Race/Ethnicity Categories in ACS Tables","text":"American Community Survey API returns data terse format. response contains four parts: geographic information, table code, row number, value. geographic information varies level detail one asks . value number may population size, number households, income dollars, percentage, several quantities. table code row number determine exact meaning value. Generally speaking, values table reporting kind information. , information might counts people households, incomes costs dollars, hours commuting working, percentage just anything. row numbers let know group people information . first row always value entire population geographic area. Subsequent rows may information specific subgroup, may contain summary value combination subgroups. example, sex--age table, might find value men boys (males) row 2, value boys 5 row 3. short, lot information packed two fields table name row number. packing information efficient storing transmitting data, means users Census information must unpack things order clear. hercacstables package many tools glossary tables make easier convenient unpack Census data.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"racial-and-ethnic-categories-in-the-american-community-survey","dir":"Articles","previous_headings":"","what":"Racial and ethnic categories in the American Community Survey","title":"Race/Ethnicity Categories in ACS Tables","text":"vignette describes features hercacstables help common repetitive chores unpacking racial ethnic data Census API responses. Census several ways reports racial ethnic identity. always agree line . makes sense concepts race ethnicity slippery, changing across place time.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"broad-strokes-by-the-census","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey","what":"Broad strokes by the Census","title":"Race/Ethnicity Categories in ACS Tables","text":"first racial/ethnic system discuss involves ten categories. seven categories race, one ethnicity, one combines , “” category: “Total”, “White alone”, “Black African American alone”, “American Indian Alaska Native alone”, “Asian alone”, “Native Hawaiian Pacific Islander alone”, “Race alone”, “Two Races”, “White alone, Hispanic Latino”, “Hispanic Latino”. coarse unsophisticated way characterizing identities. Nevertheless, occurs throughout American Community Survey.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"subtable-categories-of-race-and-ethnicity","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey","what":"Subtable categories of race and ethnicity","title":"Race/Ethnicity Categories in ACS Tables","text":"57 separate sets tables subdivide information according ten-category scheme. identity designated suffix end table’s name. words, values table one suffixes name pertain people just one racial/ethnic category. Since case common, hercacstables describes glossary table hercacstables::RACE_ETHNICITY_SUBTABLES. maps suffix table’s name racial/ethnic category table describes.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"tables-with-race-in-their-description","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey","what":"Tables with “race” in their description","title":"Race/Ethnicity Categories in ACS Tables","text":"also 14 tables word “RACE” description. seem fall four categories. two tables 10 rows , B02001 B25006. probably convenience tables pull data race-specific subtables. Six tables, B02008 B020013, one row . seem report inclusive counts, combining people claim racial identity either sole identity combination another. One table, B03002, 21 rows. table appears report detailed information Hispanic ethnicity specific racial identities. Tables B98013 B99021 descriptions suggest report methodological details. categories table deserves little discussion.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"convenience-tables","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey > Tables with “race” in their description","what":"Convenience tables","title":"Race/Ethnicity Categories in ACS Tables","text":"Tables B02001 B25006 deal counts individuals households, respectively. seem redundant, showing first rows tables B01001 B11001, respectively. can use hercacstables check .","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"map-meaning-to-census-variables","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey > Tables with “race” in their description > Convenience tables","what":"Map meaning to Census Variables","title":"Race/Ethnicity Categories in ACS Tables","text":"first step make table connects Census’s opaque variable names real-world meanings interested . example, tables B01001* B02001 deal counts people, tables B11001* B25006 deal counts households. Similarly, racial identity counted defined either subtable suffix row number. Finally, interested whether data come , subtable convenience table. can lay way “maps” Census variable real-world meaning.","code":"convenience_check_variables <- tibble::tribble(     ~ Table,  ~ Suffix,   ~ Index, ~ Population, ~ Race,     \"B01001\", \"A\",              1, \"People\",     \"White\",     \"B01001\", \"B\",              1, \"People\",     \"Black\",     \"B02001\", \"\",               2, \"People\",     \"White\",     \"B02001\", \"\",               3, \"People\",     \"Black\",     \"B11001\", \"A\",              1, \"Households\", \"White\",     \"B11001\", \"B\",              1, \"Households\", \"Black\",     \"B25006\", \"\",               2, \"Households\", \"White\",     \"B25006\", \"\",               3, \"Households\", \"Black\" ) |>     dplyr::mutate(         Group = paste0(.data$Table, .data$Suffix),         Variable = hercacstables::build_api_variable(group_code = .data$Table,                                                      race_code = .data$Suffix,                                                      item_number = .data$Index),         `Table Type` = dplyr::if_else(nchar(.data$Suffix) > 0,                                       \"Subtable\",                                       \"Convenience\")     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"fetch-the-raw-data","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey > Tables with “race” in their description > Convenience tables","what":"Fetch the raw data","title":"Race/Ethnicity Categories in ACS Tables","text":"variables defined, can fetch data Census API. Notice , since API call, code block set cache results. API calls much slower local functions, usually good idea isolate run times possible.","code":"LATEST_YEAR <- hercacstables::most_recent_vintage(\"acs\", \"acs5\")  convenience_check_values_raw <- hercacstables::fetch_data(     convenience_check_variables$Variable,     year = LATEST_YEAR,           # the most recent one available at the time of writing     for_geo = \"us\",               # the entire nation     for_items = \"*\",              # all nation-level geographies     survey_type = \"acs\",          # as opposed to, e.g. \"dec,\" for Decennial survey data     table_or_survey_code = \"acs5\" # the specific survey is the 5-year ACS. )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"examine-values-in-context","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey > Tables with “race” in their description > Convenience tables","what":"Examine values in context","title":"Race/Ethnicity Categories in ACS Tables","text":"Now raw data, can check see values convenience tables , fact, match values subtables. don’t include confusing “Group,” “Index,” “Variable” columns final result.","code":"convenience_check_values <- convenience_check_values_raw |>     dplyr::inner_join(         convenience_check_variables,         by = c(\"Group\", \"Index\")     ) |>     dplyr::select(         \"Population\",         \"Race\",         \"Table Type\",         \"Value\"     ) |>     tidyr::pivot_wider(         names_from = \"Table Type\",         values_from = \"Value\"     ) |>     dplyr::mutate(         Identical = dplyr::if_else(.data$Subtable == .data$Convenience,                                    \"Yes\",                                    \"No\")     )  convenience_check_values |>     dplyr::mutate(         dplyr::across(tidyselect::all_of(c(\"Subtable\", \"Convenience\")),                       scales::label_comma(accuracy = 1))     ) |>     knitr::kable(         align = \"llrrl\"     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"inclusive-identity-counts","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey > Tables with “race” in their description","what":"Inclusive identity counts","title":"Race/Ethnicity Categories in ACS Tables","text":"Six others, tables “B02008” “B02013”, show numbers people identified specific races ethnicities. totals tables larger US population someone identified one category counted corresponding table. tables correspond six ten broad categories race/ethnicity, actually already RACE_ETHNICITY_SUBTABLES. just hid confusing. population reported inclusive tables large, larger, population reported exclusive tables. can use hercacstables check , .","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"census-variables-for-inclusive-and-exclusive-counts","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey > Tables with “race” in their description > Inclusive identity counts","what":"Census variables for inclusive and exclusive counts","title":"Race/Ethnicity Categories in ACS Tables","text":"","code":"incl_excl_pop_variables <- hercacstables::RACE_ETHNICITY_SUBTABLES |>     dplyr::filter(         nchar(.data$`Inclusive Group`) > 0     ) |>     dplyr::mutate(         `Exclusive Group` = paste0(\"B01001\", .data$Suffix)     ) |>     dplyr::select(         \"Census Race\",         Inclusive = \"Inclusive Group\",         Exclusive = \"Exclusive Group\"     ) |>     tidyr::pivot_longer(         cols = tidyselect::ends_with(\"clusive\"),         names_to = \"Type of count\",         values_to = \"Group\"     ) |>     dplyr::mutate(         Variable = hercacstables::build_api_variable(.data$Group, 1)     )  knitr::kable(incl_excl_pop_variables)"},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"raw-inclusive-and-exclusive-counts","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey > Tables with “race” in their description > Inclusive identity counts","what":"Raw inclusive and exclusive counts","title":"Race/Ethnicity Categories in ACS Tables","text":"","code":"incl_excl_pop_values_raw <- hercacstables::fetch_data(     variables = incl_excl_pop_variables$Variable,     year = 2022,     for_geo = \"us\",     for_items = \"*\",     survey_type = \"acs\",     table_or_survey_code = \"acs5\" )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"comparing-inclusive-and-exclusive-counts","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey > Tables with “race” in their description > Inclusive identity counts","what":"Comparing inclusive and exclusive counts","title":"Race/Ethnicity Categories in ACS Tables","text":"","code":"incl_excl_pop_values <- incl_excl_pop_values_raw |>     dplyr::inner_join(         incl_excl_pop_variables,         by = c(\"Group\")     ) |>     dplyr::select(         \"Census Race\",         \"Type of count\",         \"Value\"     ) |>     tidyr::pivot_wider(         names_from = \"Type of count\",         values_from = \"Value\"     ) |>     dplyr::mutate(         Difference = .data$Inclusive - .data$Exclusive,         `Percent Multiracial` = .data$Difference / .data$Inclusive     ) |>     dplyr::arrange(         dplyr::desc(.data$Inclusive)     )  incl_excl_pop_values |>     dplyr::mutate(         dplyr::across(tidyselect::all_of(c(\"Inclusive\",                                            \"Exclusive\",                                            \"Difference\")),                       scales::label_comma(accuracy = 1)),         `Percent Multiracial` = scales::label_percent(accuracy = 1)(             .data$`Percent Multiracial`         )     ) |>     knitr::kable(         align = \"lrrrr\"     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"hispanic-ethnicity-and-broad-racial-identity","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey > Tables with “race” in their description","what":"Hispanic ethnicity and broad racial identity","title":"Race/Ethnicity Categories in ACS Tables","text":"Table B03002 contains counts people Hispanic ethnicity ten broad racial identities. always, first row total population size. two groups rows. Rows 2-11 count people Hispanic. Rows 12-21 count people identify Hispanic. Rows 2 12 total populations non-Hispanic Hispanic people. Rows 10, 11, 20, 21 contain subgroupings distinguish people identify biracial identify multiracial. means can take rows one eight hercacstables::RACE_ETHNICITY_SUBTABLES map onto rows B03002. fact, useful also included hercacstables::RACE_ETHNICITY_SUBTABLES. Let’s use look nationwide trends across racial identities percentages Hispanic ethnicity. First, define glossary table. Next, pull 18 years ACS data. , put data nice, tidy format. Finally, plot ","code":"hispanic_and_broad_race_variables <- hercacstables::RACE_ETHNICITY_SUBTABLES |>     dplyr::filter(         nchar(.data$`non-Hispanic`) > 0     ) |>     dplyr::select(         \"Census Race\",         \"non-Hispanic\",         \"Hispanic\"     ) |>     tidyr::pivot_longer(         cols = tidyselect::ends_with(\"Hispanic\"),         names_to = \"Ethnicity\",         values_to = \"Variable\"     ) |>     tidyr::separate_wider_position(         cols = \"Variable\",         widths = c(Group = 6, 1,                    Index = 3, 1),         cols_remove = FALSE     ) |>     dplyr::mutate(         Index = as.integer(.data$Index)     )  knitr::kable(hispanic_and_broad_race_variables) hispanic_and_broad_race_raw <- c(2005:2019, 2021:LATEST_YEAR) |>     purrr::map(         ~ hercacstables::fetch_data(             hispanic_and_broad_race_variables$Variable,             year = .,             for_geo = \"us\",             for_items = \"*\",             survey_type = \"acs\",             table_or_survey_code = \"acs1\"         )     ) hispanic_and_broad_race <- hispanic_and_broad_race_raw |>     purrr::list_rbind() |>     dplyr::inner_join(         hispanic_and_broad_race_variables,         by = \"Index\"     ) |>     dplyr::select(         \"Census Race\",         \"Ethnicity\",         \"Year\",         \"Value\"     ) |>     tidyr::pivot_wider(         names_from = \"Ethnicity\",         values_from = \"Value\",         values_fill = 0     ) |>     dplyr::mutate(         Total = .data$Hispanic + .data$`non-Hispanic`,         `Percent Hispanic` = .data$Hispanic / .data$Total     )      hispanic_and_broad_race |>     dplyr::slice_sample(         n = 1,         by = \"Year\"     ) |>     dplyr::mutate(         dplyr::across(c(\"Hispanic\", \"non-Hispanic\", \"Total\"),                       scales::label_comma(accuracy = 1)),         dplyr::across(\"Percent Hispanic\",                       scales::label_percent(accuracy = 1))     ) |>     knitr::kable(         align = \"lrrrrr\"     ) hispanic_and_broad_race |>     dplyr::mutate(         `Census Race` = stringr::str_to_title(.data$`Census Race`)     ) |>     ggplot2::ggplot(         ggplot2::aes(x = .data$Year,                      y = .data$`Percent Hispanic`,                      color = .data$`Census Race`)     ) +     ggplot2::geom_line(         linewidth = 1,         lineend = \"round\",         linejoin = \"mitre\"     ) +     ggplot2::geom_point(         size = 3     ) +     ggplot2::scale_x_continuous(         name = NULL,         labels = scales::label_number(big.mark = \"\"),         limits = c(2005, 2025),         breaks = scales::breaks_width(5),         minor_breaks = scales::breaks_width(1)     ) +     ggplot2::scale_y_continuous(         name = \"Percentage Hispanic\",         labels = scales::label_percent(accuracy = 1),         limits = c(0, 1),         breaks = scales::breaks_width(0.2),         minor_breaks = scales::breaks_width(0.05)     ) +     ggplot2::scale_color_discrete(         guide = ggplot2::guide_legend(             title = NULL,             position = \"top\",             nrow = 4         )     ) +     ggplot2::theme_minimal()"},{"path":"https://higherx4racine.github.io/hercacstables/articles/race_ethnicity_categories.html","id":"methodological-detail-tables","dir":"Articles","previous_headings":"Racial and ethnic categories in the American Community Survey > Tables with “race” in their description","what":"Methodological detail tables","title":"Race/Ethnicity Categories in ACS Tables","text":"Tables B98013 B99021 give information Census’s data collection methods. Statisticians can use describe much uncertainty data concerning racial identities. can skip .","code":""},{"path":[]},{"path":[]},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/articles/reusability.html","id":"introduction","dir":"Articles","previous_headings":"","what":"Introduction","title":"Reusability","text":"reusable approach incorporates setup post-processing, take place calling data API. Let’s say interested fraction women given birth U.S., broken age.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/reusability.html","id":"the-non-reusable-part","dir":"Articles","previous_headings":"","what":"The non-reusable part","title":"Reusability","text":"Use search_in_columns() find tables relevant question. looks like table B13016 exactly looking .","code":"WB_TABLES <- hercacstables::search_in_columns(     hercacstables::METADATA_FOR_ACS_GROUPS,     Group = \"\\\\d$\", # the group must end in a digit, so only \"all races\" tables     Universe = \"wom[ae]n\", # matches woman and women     Description = c(\"birth\", \"year\") # the census doesn't use \"age\" much )"},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/articles/reusability.html","id":"define-a-glossary-of-variable-meanings","dir":"Articles","previous_headings":"Setup","what":"Define a glossary of variable meanings","title":"Reusability","text":"First, create glossary table maps Census variables need real-world meanings actually care . following example glosses 12 variables “B13016.” specific variable encodes four columns’ worth data.","code":"GLOSSARY_OF_WOMEN_AND_BIRTHS <- \"B13016\" |>     hercacstables::unpack_group_details() |>     dplyr::filter(         .data$Dataset == \"ACS1\", # there are details for 1- and 5-year datasets         dplyr::if_all(c(\"A\", \"B\"), \\(.)nchar(.) > 0) #     ) |>     dplyr::mutate(         `Gave Birth` = stringr::str_detect(.data$A, \"had\"),         `Lower Age` = stringr::str_extract(.data$B, \"^\\\\d{2}\"),         `Upper Age` = stringr::str_extract(.data$B, \"(?<!^)\\\\d{2}\"),         dplyr::across(tidyselect::ends_with(\"Age\"),                       as.integer)     ) |>     dplyr::select(         !tidyselect::any_of(c(\"A\", \"B\"))     )"},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/articles/reusability.html","id":"define-a-fetching-function","dir":"Articles","previous_headings":"Calling the API","what":"Define a fetching function","title":"Reusability","text":"defined reusable glossary, can now define reusable fetching function.","code":"fetch_women_and_births <- function(...) {     hercacstables::fetch_data(         variables = GLOSSARY_OF_WOMEN_AND_BIRTHS$Variable,         survey_type = \"acs\",         table_or_survey_code = \"acs1\",         ...     ) }"},{"path":"https://higherx4racine.github.io/hercacstables/articles/reusability.html","id":"send-the-request-to-the-api","dir":"Articles","previous_headings":"Calling the API","what":"Send the request to the API","title":"Reusability","text":"Run fetch_data() command can cache . example, ask recent data whole country.","code":"RAW_WOMEN_AND_BIRTHS <- fetch_women_and_births(     year = hercacstables::most_recent_vintage(\"acs\", \"acs1\"),     for_geo = \"us\",     for_items = \"*\" )"},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/articles/reusability.html","id":"wrangle-the-result-into-a-helpful-format","dir":"Articles","previous_headings":"Postprocessing","what":"Wrangle the result into a helpful format","title":"Reusability","text":"raw data answer question . interested rates, counts. Using dplyr::summarize() function let us get rid superfluous information marital status.","code":"wrangle_women_and_births <- function(.raw_api_output, ...) {     .raw_api_output |>         dplyr::inner_join(             GLOSSARY_OF_WOMEN_AND_BIRTHS,             by = c(\"Group\", \"Index\")         ) |>         dplyr::summarize(             `Recent Mothers` = sum(.data$Value * .data$`Gave Birth`),             `All Women` = sum(.data$Value),             Rate = .data$`Recent Mothers` / .data$`All Women`,             .by = tidyselect::all_of(c(..., \"Lower Age\", \"Upper Age\"))         ) }  WOMEN_AND_BIRTHS <- wrangle_women_and_births(RAW_WOMEN_AND_BIRTHS)"},{"path":"https://higherx4racine.github.io/hercacstables/articles/reusability.html","id":"reusability","dir":"Articles","previous_headings":"","what":"Reusability","title":"Reusability","text":"benefit approach can reuse fetching wrangling functions.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/articles/reusability.html","id":"across-places","dir":"Articles","previous_headings":"Reusability","what":"Across Places","title":"Reusability","text":"example, pull data three different counties Wisconsin. simpler table, ’ll exclude counts mothers women, pivot rate data county.","code":"SE_WI_WOMEN_AND_BIRTHS <- fetch_women_and_births(     state = 55,     for_geo = \"county\",     for_items = c(\"059\", \"079\", \"101\"), # Kenosha, Racine, and Milwaukee     year = 2023 ) |>     wrangle_women_and_births(         \"county\"     ) |>     dplyr::mutate(         county = dplyr::case_match(.data$county,                                   \"059\" ~ \"Kenosha\",                                   \"079\" ~ \"Milwaukee\",                                   \"101\" ~ \"Racine\")     )"},{"path":"https://higherx4racine.github.io/hercacstables/articles/reusability.html","id":"through-time","dir":"Articles","previous_headings":"Reusability","what":"Through time","title":"Reusability","text":"example, pull data Texas three years. make three separate calls, one year. ’s idiosyncrasy particular API. simpler table, ’ll exclude counts mothers women, pivot rate data year.","code":"TEXAS_WOMEN_AND_BIRTHS <- 2021:2023 |>     purrr::map(         \\(.y) fetch_women_and_births(             for_geo = \"state\",             for_items = 48L,             year = .y         )     ) |>     purrr::list_rbind() |>     wrangle_women_and_births(         \"Year\"     )"},{"path":"https://higherx4racine.github.io/hercacstables/authors.html","id":null,"dir":"","previous_headings":"","what":"Authors","title":"Authors and Citation","text":"Higher Expectations Racine County. Copyright holder, funder. Ben Taft. Author, maintainer.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/authors.html","id":"citation","dir":"","previous_headings":"","what":"Citation","title":"Authors and Citation","text":"Taft B (2026). hercacstables: Work American Community Survey Tables US Census API. R package version 0.1.0.1, https://higherx4racine.github.io/hercacstables/.","code":"@Manual{,   title = {hercacstables: Work with American Community Survey Tables through the US Census API},   author = {Ben Taft},   year = {2026},   note = {R package version 0.1.0.1},   url = {https://higherx4racine.github.io/hercacstables/}, }"},{"path":"https://higherx4racine.github.io/hercacstables/index.html","id":"hercacstables","dir":"","previous_headings":"","what":"Work with American Community Survey Tables through the US Census API","title":"Work with American Community Survey Tables through the US Census API","text":"package provides R interface United States Census Bureau’s data API. primary focus, per name, pulling information detailed tables American Community Survey. However, work pulling data dataset Census API. great resource understanding complexities Census data https://censusreporter.org/.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/index.html","id":"installation","dir":"","previous_headings":"","what":"Installation","title":"Work with American Community Survey Tables through the US Census API","text":"can install development version GitHub :","code":"# install.packages(\"remotes\") remotes::install_github(\"higherX4Racine/hercacstables\")"},{"path":"https://higherx4racine.github.io/hercacstables/index.html","id":"fetching-data-from-the-api","dir":"","previous_headings":"","what":"Fetching data from the API","title":"Work with American Community Survey Tables through the US Census API","text":"main way one uses hercacstables interact Census API fetch_data() function.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/index.html","id":"a-vanilla-call-to-fetch_data","dir":"","previous_headings":"Fetching data from the API","what":"A vanilla call to fetch_data()","title":"Work with American Community Survey Tables through the US Census API","text":"modestly complicated use function without setup post-processing.","code":"POPS_AND_HOUSEHOLDS <- hercacstables::fetch_data(     # the API works one year at a time     year = hercacstables::most_recent_vintage(\"acs\", \"acs1\"),          # the API can only query one data source at a time     survey_type = \"acs\",           # the American Community Survey     table_or_survey_code = \"acs1\", # the 1-year dataset of the ACS          # the API fetches values for one or more instances of a specific geography     for_geo = \"state\",             # fetch values for entire states     for_items = c(         \"11\",                      # the District of Columbia         \"72\"                       # Puerto Rico     ),          # the codes for the specific data that we are fetching     variables = c(         \"NAME\",                    # the geographic area's name         \"B01001_001E\",             # the total number of people         \"B11002_002E\",             # people in family households         \"B11002_012E\"              # people in nonfamily households     ) )"},{"path":"https://higherx4racine.github.io/hercacstables/index.html","id":"best-practice","dir":"","previous_headings":"Fetching data from the API","what":"Best practice","title":"Work with American Community Survey Tables through the US Census API","text":"previous example good enough README file. approach centered reusability better actual practice.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/index.html","id":"identifying-which-items-to-fetch","dir":"","previous_headings":"","what":"Identifying which items to fetch","title":"Work with American Community Survey Tables through the US Census API","text":"People working Census often know topic interested , specific variables provide information topic. hercacstables package utilities help search Census variables don’t already know ones want use.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/index.html","id":"search-for-groups-with-keywords","dir":"","previous_headings":"Identifying which items to fetch","what":"Search for groups with keywords","title":"Work with American Community Survey Tables through the US Census API","text":"good first step search tables relevant search_in_columns() function built-METADATA_FOR_ACS_GROUPS.","code":"EDUCATION_TABLES <- hercacstables::search_in_columns(     hercacstables::METADATA_FOR_ACS_GROUPS,     Group = \"\\\\d$\",          # \"Group\" values need to end in a digit.     Universe = \"population\", # \"Universe\" values need to include \"population\".     Description = \"enroll\",  # \"Description values need to include \"enroll\"     `-Description` = c(\"sex\",        # but not \"sex\", that's too much detail                        \"computer\",   # or \"computer\", also too detailed                        \"quarters\",   # or \"quarters\", also too detailed                        \"insur\",      # or \"insur\", not health care enrollments                        \"allocation\") # or \"allocation\", these are metadata )"},{"path":"https://higherx4racine.github.io/hercacstables/index.html","id":"unpack-variables-for-a-group","dir":"","previous_headings":"Identifying which items to fetch","what":"Unpack variables for a group","title":"Work with American Community Survey Tables through the US Census API","text":"know group interested , want see information captured rows. unpack_group_details() function searches built-METADATA_FOR_ACS_VARIABLES variables one group. expands Census’s description variable columns. Users need identify concepts captured column. following example unpacks variables B14001 table.","code":"UNPACKED_B14001 <- hercacstables::unpack_group_details(\"B14001\")"},{"path":"https://higherx4racine.github.io/hercacstables/index.html","id":"shortcuts","dir":"","previous_headings":"","what":"Shortcuts","title":"Work with American Community Survey Tables through the US Census API","text":"package also includes functions common special cases. wrappers fetch_data() arguments hard-coded.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/index.html","id":"decennial-populations-by-race-and-ethnicity","dir":"","previous_headings":"Shortcuts","what":"Decennial populations by race and ethnicity","title":"Work with American Community Survey Tables through the US Census API","text":"One example pulling trends racial/ethnic populations decennial census specific level geography.","code":"POPS_BY_RACE <-     hercacstables::fetch_decennial_pops_by_race(         for_geo = \"state\", # one cannot fetch the whole nation from 2000 or 2010         for_items = \"*\"    # so we pull the data for every state     ) |>     dplyr::count( # then compute the nationwide populations for each vintage         .data$`Race/Ethnicity`,         .data$Vintage,         wt = .data$Population,         name = \"Population\"     ) |>     tidyr::pivot_wider( # and reshape the table for display         names_from = \"Vintage\",         values_from = \"Population\"     )"},{"path":"https://higherx4racine.github.io/hercacstables/reference/DECENNIAL_POPULATION_FIELDS.html","id":null,"dir":"Reference","previous_headings":"","what":"Variables from the Decennial censuses — DECENNIAL_POPULATION_FIELDS","title":"Variables from the Decennial censuses — DECENNIAL_POPULATION_FIELDS","text":"Variables Decennial censuses","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/DECENNIAL_POPULATION_FIELDS.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Variables from the Decennial censuses — DECENNIAL_POPULATION_FIELDS","text":"","code":"DECENNIAL_POPULATION_FIELDS"},{"path":"https://higherx4racine.github.io/hercacstables/reference/DECENNIAL_POPULATION_FIELDS.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Variables from the Decennial censuses — DECENNIAL_POPULATION_FIELDS","text":"tibble five columns Year year decennial census. Group table variables come . Race/Ethnicity OMB label race/ethnic group. Index row table corresponds race/ethnicity. Variable name variable API call","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/EDUCATIONAL_ATTAINMENT_LEVELS.html","id":null,"dir":"Reference","previous_headings":"","what":"Census labels for different levels of educational achievement — EDUCATIONAL_ATTAINMENT_LEVELS","title":"Census labels for different levels of educational achievement — EDUCATIONAL_ATTAINMENT_LEVELS","text":"census breaks educational attainment different levels detail different tables. example, 8 levels B15001, 5 C15002* tables. row table connects detailed level broader one.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/EDUCATIONAL_ATTAINMENT_LEVELS.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Census labels for different levels of educational achievement — EDUCATIONAL_ATTAINMENT_LEVELS","text":"","code":"EDUCATIONAL_ATTAINMENT_LEVELS"},{"path":"https://higherx4racine.github.io/hercacstables/reference/EDUCATIONAL_ATTAINMENT_LEVELS.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Census labels for different levels of educational achievement — EDUCATIONAL_ATTAINMENT_LEVELS","text":"tibble two columns Detailed factor 8 levels Broad factor 5 levels","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/EDUCATIONAL_ATTAINMENT_LEVELS.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Census labels for different levels of educational achievement — EDUCATIONAL_ATTAINMENT_LEVELS","text":"https://api.census.gov/data","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GEOGRAPHY_HIERARCHY_METADATA.html","id":null,"dir":"Reference","previous_headings":"","what":"Geographic levels of organization for data from the US Census Bureau's API — GEOGRAPHY_HIERARCHY_METADATA","title":"Geographic levels of organization for data from the US Census Bureau's API — GEOGRAPHY_HIERARCHY_METADATA","text":"Geographic levels organization data US Census Bureau's API","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GEOGRAPHY_HIERARCHY_METADATA.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Geographic levels of organization for data from the US Census Bureau's API — GEOGRAPHY_HIERARCHY_METADATA","text":"","code":"GEOGRAPHY_HIERARCHY_METADATA"},{"path":"https://higherx4racine.github.io/hercacstables/reference/GEOGRAPHY_HIERARCHY_METADATA.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Geographic levels of organization for data from the US Census Bureau's API — GEOGRAPHY_HIERARCHY_METADATA","text":"tibble four columns Label short, title-case description geographic level Code three-digit code level Geography lowercase term used query API level Parent Geos character vector Geographies must specified query level, like c(\"Female\", \"5 years\") c(\"cash rent\", \"$350 $399\").","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_AGE_AND_SEX.html","id":null,"dir":"Reference","previous_headings":"","what":"The fundamental demographics of age and sex from tables B01001[ A-H] — GLOSSARY_OF_AGE_AND_SEX","title":"The fundamental demographics of age and sex from tables B01001[ A-H] — GLOSSARY_OF_AGE_AND_SEX","text":"age splits detailed whole-population table tables pertain specific racial identities.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_AGE_AND_SEX.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"The fundamental demographics of age and sex from tables B01001[ A-H] — GLOSSARY_OF_AGE_AND_SEX","text":"","code":"GLOSSARY_OF_AGE_AND_SEX"},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_AGE_AND_SEX.html","id":"glossary-of-age-and-sex","dir":"Reference","previous_headings":"","what":"GLOSSARY_OF_AGE_AND_SEX","title":"The fundamental demographics of age and sex from tables B01001[ A-H] — GLOSSARY_OF_AGE_AND_SEX","text":"data frame 80 rows 5 columns. Suffix <lgl> TRUE race-specific tables FALSE -races table. Index <int> row source table GLOSSARY row describes. Sex <chr> One \",\" \"Male,\" \"Female\" Lower Age <int> least age range, inclusive Upper Age <int> greatest age range, inclusive","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_AGE_AND_SEX.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"The fundamental demographics of age and sex from tables B01001[ A-H] — GLOSSARY_OF_AGE_AND_SEX","text":"https://api.census.gov/data/2022/acs/acs1/groups/B01001.html","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_CHILDREN_IN_POVERTY.html","id":null,"dir":"Reference","previous_headings":"","what":"Categorize ACS variables about children living in poverty and parents' birth origins — GLOSSARY_OF_CHILDREN_IN_POVERTY","title":"Categorize ACS variables about children living in poverty and parents' birth origins — GLOSSARY_OF_CHILDREN_IN_POVERTY","text":"data come table B05010, \"RATIO INCOME POVERTY LEVEL PAST 12 MONTHS NATIVITY CHILDREN 18 YEARS FAMILIES SUBFAMILIES LIVING ARRANGEMENTS NATIVITY PARENTS.\"","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_CHILDREN_IN_POVERTY.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Categorize ACS variables about children living in poverty and parents' birth origins — GLOSSARY_OF_CHILDREN_IN_POVERTY","text":"","code":"GLOSSARY_OF_CHILDREN_IN_POVERTY"},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_CHILDREN_IN_POVERTY.html","id":"glossary-of-children-in-poverty","dir":"Reference","previous_headings":"","what":"GLOSSARY_OF_CHILDREN_IN_POVERTY","title":"Categorize ACS variables about children living in poverty and parents' birth origins — GLOSSARY_OF_CHILDREN_IN_POVERTY","text":"data frame 15 rows 8 columns Group <chr> table, always \"B05010\" Variable <chr> full variable name, e.g. \"B05010_001E\" Index <int> row variable table Least Poverty Ratio <dbl> lowest ratio income poverty level tier Greatest Poverty Ratio <dbl> highest ratio income poverty level tier Standard Living <chr> One \"Unsustainable,\" \"Mixed\" Native-born Parents <int> many parents household born USA. Foreign-born Parents <int> many parents household born USA.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_CHILDREN_IN_POVERTY.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Categorize ACS variables about children living in poverty and parents' birth origins — GLOSSARY_OF_CHILDREN_IN_POVERTY","text":"https://api.census.gov/data/2022/acs/acs1/groups/B05010.html","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_CHILDREN_PER_FAMILY.html","id":null,"dir":"Reference","previous_headings":"","what":"Categorize ACS variables about children per family — GLOSSARY_OF_CHILDREN_PER_FAMILY","title":"Categorize ACS variables about children per family — GLOSSARY_OF_CHILDREN_PER_FAMILY","text":"data come table B17026, \"CHILDREN 18 YEARS FAMILY TYPE AGE\"","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_CHILDREN_PER_FAMILY.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Categorize ACS variables about children per family — GLOSSARY_OF_CHILDREN_PER_FAMILY","text":"","code":"GLOSSARY_OF_CHILDREN_PER_FAMILY"},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_CHILDREN_PER_FAMILY.html","id":"glossary-of-children-per-family","dir":"Reference","previous_headings":"","what":"GLOSSARY_OF_CHILDREN_PER_FAMILY","title":"Categorize ACS variables about children per family — GLOSSARY_OF_CHILDREN_PER_FAMILY","text":"data frame 15 rows 6 columns Group <chr> table, always \"B09002\" Variable <chr> full variable name, e.g. \"B09002_001E\" Index <int> row variable table Adults <chr> adult(s) heading household Lower Age <int> age youngest children counted variable Upper Age <int> age oldest children counted variable","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_CHILDREN_PER_FAMILY.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Categorize ACS variables about children per family — GLOSSARY_OF_CHILDREN_PER_FAMILY","text":"https://api.census.gov/data/2022/acs/acs1/groups/B09002.html","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_EDUCATIONAL_ATTAINMENT.html","id":null,"dir":"Reference","previous_headings":"","what":"Census variables for different levels of educational achievement — GLOSSARY_OF_EDUCATIONAL_ATTAINMENT","title":"Census variables for different levels of educational achievement — GLOSSARY_OF_EDUCATIONAL_ATTAINMENT","text":"census breaks educational attainment different levels detail different tables. example, 8 levels B15001, 5 C15002* tables B17003. row table connects detailed level broader one.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_EDUCATIONAL_ATTAINMENT.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Census variables for different levels of educational achievement — GLOSSARY_OF_EDUCATIONAL_ATTAINMENT","text":"","code":"GLOSSARY_OF_EDUCATIONAL_ATTAINMENT"},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_EDUCATIONAL_ATTAINMENT.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Census variables for different levels of educational achievement — GLOSSARY_OF_EDUCATIONAL_ATTAINMENT","text":"list three data frames sex_age : data frame eight variables group     : chr index     : int variable  : chr Sex       : chr Lower Age : int Upper Age : int Age       : chr Education : Factor race_ethnicity : data frame ten variables group                 : chr index                 : int Sex                   : chr Lower Age             : int Upper Age             : int Age                   : chr Education             : Factor Suffix                : chr Census Race/Ethnicity : chr variable              : chr poverty : data frame six variables group     : chr index     : int variable  : chr Sex       : chr Education : Factor Poverty   : chr Lower Age : int Upper Age : int Age       : chr","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_EDUCATIONAL_ATTAINMENT.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Census variables for different levels of educational achievement — GLOSSARY_OF_EDUCATIONAL_ATTAINMENT","text":"https://api.census.gov/data","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_EMPLOYMENT_STATUS.html","id":null,"dir":"Reference","previous_headings":"","what":"Factor values associated with specific rows within employment-related ACS tables — GLOSSARY_OF_EMPLOYMENT_STATUS","title":"Factor values associated with specific rows within employment-related ACS tables — GLOSSARY_OF_EMPLOYMENT_STATUS","text":"Factor values associated specific rows within employment-related ACS tables","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_EMPLOYMENT_STATUS.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Factor values associated with specific rows within employment-related ACS tables — GLOSSARY_OF_EMPLOYMENT_STATUS","text":"","code":"GLOSSARY_OF_EMPLOYMENT_STATUS"},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_EMPLOYMENT_STATUS.html","id":"glossary-of-employment-status","dir":"Reference","previous_headings":"","what":"GLOSSARY_OF_EMPLOYMENT_STATUS","title":"Factor values associated with specific rows within employment-related ACS tables — GLOSSARY_OF_EMPLOYMENT_STATUS","text":"data frame 439 rows 12 columns: group <chr> index <int> variable <chr> Sex <chr> Lower Age <int> Upper Age <int> Labor Force <chr> Enlistment <chr> Employment <chr> Suffix <chr> Census Race/Ethnicity <chr> Poverty <chr>","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_EMPLOYMENT_STATUS.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Factor values associated with specific rows within employment-related ACS tables — GLOSSARY_OF_EMPLOYMENT_STATUS","text":"api.census.gov/data/acs/acs5/groups.html","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_FAMILIES_WITH_CHILDREN.html","id":null,"dir":"Reference","previous_headings":"","what":"Categorize ACS variables counting families by number of children — GLOSSARY_OF_FAMILIES_WITH_CHILDREN","title":"Categorize ACS variables counting families by number of children — GLOSSARY_OF_FAMILIES_WITH_CHILDREN","text":"data come table B11003, \"FAMILY TYPE PRESENCE AGE CHILDREN 18 YEARS\"","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_FAMILIES_WITH_CHILDREN.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Categorize ACS variables counting families by number of children — GLOSSARY_OF_FAMILIES_WITH_CHILDREN","text":"","code":"GLOSSARY_OF_FAMILIES_WITH_CHILDREN"},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_FAMILIES_WITH_CHILDREN.html","id":"glossary-of-families-with-children","dir":"Reference","previous_headings":"","what":"GLOSSARY_OF_FAMILIES_WITH_CHILDREN","title":"Categorize ACS variables counting families by number of children — GLOSSARY_OF_FAMILIES_WITH_CHILDREN","text":"data frame 12 rows 6 columns Group <chr> table, always \"B11003\" Variable <chr> full variable name, e.g. \"B11003_001E\" Index <int> row variable table Adults <chr> adult(s) heading household Children 6 <lgl> children 6 family? Childr 6-17 <lgl> children 6-17 family?","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_FAMILIES_WITH_CHILDREN.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Categorize ACS variables counting families by number of children — GLOSSARY_OF_FAMILIES_WITH_CHILDREN","text":"https://api.census.gov/data/2022/acs/acs1/groups/B11003.html","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_LABOR_FORCE_PARTICIPATION.html","id":null,"dir":"Reference","previous_headings":"","what":"ACS data on sex, age, and labor force status — GLOSSARY_OF_LABOR_FORCE_PARTICIPATION","title":"ACS data on sex, age, and labor force status — GLOSSARY_OF_LABOR_FORCE_PARTICIPATION","text":"ACS data sex, age, labor force status","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_LABOR_FORCE_PARTICIPATION.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ACS data on sex, age, and labor force status — GLOSSARY_OF_LABOR_FORCE_PARTICIPATION","text":"","code":"GLOSSARY_OF_LABOR_FORCE_PARTICIPATION"},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_LABOR_FORCE_PARTICIPATION.html","id":"glossary-of-labor-force-participation","dir":"Reference","previous_headings":"","what":"GLOSSARY_OF_LABOR_FORCE_PARTICIPATION","title":"ACS data on sex, age, and labor force status — GLOSSARY_OF_LABOR_FORCE_PARTICIPATION","text":"data frame 172 rows 10 columns Dataset <chr> \"ACS1\" \"ACS5\" Group <chr> Always \"B23001\" Index <int> row number variable Variable <chr> full variable Sex <chr> \"Male\" \"Female\" Lower Age <int> 16 75, inclusive Upper Age <int> 19 999, inclusive Labor Force <lgl> Civilian <lgl> Employed\" <lgl>","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_SEX_BY_INCOME.html","id":null,"dir":"Reference","previous_headings":"","what":"Counts of people in income brackets, by sex and employment status. — GLOSSARY_OF_SEX_BY_INCOME","title":"Counts of people in income brackets, by sex and employment status. — GLOSSARY_OF_SEX_BY_INCOME","text":"rows glossary apply table B19325 B20005. difference B19325 deals income B20005 just earnings.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_SEX_BY_INCOME.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Counts of people in income brackets, by sex and employment status. — GLOSSARY_OF_SEX_BY_INCOME","text":"","code":"GLOSSARY_OF_SEX_BY_INCOME"},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_SEX_BY_INCOME.html","id":"glossary-of-sex-by-incem","dir":"Reference","previous_headings":"","what":"GLOSSARY_OF_SEX_BY_INCEM","title":"Counts of people in income brackets, by sex and employment status. — GLOSSARY_OF_SEX_BY_INCOME","text":"data frame 43 rows 5 columns. Index <int> row source table GLOSSARY row describes. Sex <chr> One NA, \"Male,\" \"Female\" Full-time <lgl> TRUE employed full-time past year. Lower Bound <dbl> lowest income range, inclusive Upper Bound <dbl> greatest income range, inclusive","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_SEX_BY_INCOME.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Counts of people in income brackets, by sex and employment status. — GLOSSARY_OF_SEX_BY_INCOME","text":"https://api.census.gov/data/2024/acs/acs1/groups/B19325.html https://api.census.gov/data/2024/acs/acs1/groups/B20005.html","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_STANDARD_OF_LIVING.html","id":null,"dir":"Reference","previous_headings":"","what":"Categorize ACS variables about income : poverty level ratios by family sustainability — GLOSSARY_OF_STANDARD_OF_LIVING","title":"Categorize ACS variables about income : poverty level ratios by family sustainability — GLOSSARY_OF_STANDARD_OF_LIVING","text":"data come table B17026, \"RATIO INCOME POVERTY LEVEL FAMILIES PAST 12 MONTHS.\" family-sustaining wage widely considered three times federal poverty level.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_STANDARD_OF_LIVING.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Categorize ACS variables about income : poverty level ratios by family sustainability — GLOSSARY_OF_STANDARD_OF_LIVING","text":"","code":"GLOSSARY_OF_STANDARD_OF_LIVING"},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_STANDARD_OF_LIVING.html","id":"glossary-of-standard-of-living","dir":"Reference","previous_headings":"","what":"GLOSSARY_OF_STANDARD_OF_LIVING","title":"Categorize ACS variables about income : poverty level ratios by family sustainability — GLOSSARY_OF_STANDARD_OF_LIVING","text":"data frame 13 rows 6 columns Group <chr> table, always \"B17026\" Variable <chr> full variable name, e.g. \"B17026_001E\" Index <int> row variable table Least Poverty Ratio <dbl> lowest ratio income poverty level tier Greatest Poverty Ratio <dbl> highest ratio income poverty level tier Standard Living <chr> One \"Everyone,\" \"Unsustainable,\" \"Self-sustaining\"","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/GLOSSARY_OF_STANDARD_OF_LIVING.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Categorize ACS variables about income : poverty level ratios by family sustainability — GLOSSARY_OF_STANDARD_OF_LIVING","text":"https://api.census.gov/data/2022/acs/acs1/groups/B17026.html","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/METADATA_FOR_ACS_GEOGRAPHIES.html","id":null,"dir":"Reference","previous_headings":"","what":"Details about levels of geographic detail in the most recent American Community Series — METADATA_FOR_ACS_GEOGRAPHIES","title":"Details about levels of geographic detail in the most recent American Community Series — METADATA_FOR_ACS_GEOGRAPHIES","text":"context ACS data, \"geography\" specific type geographical area, region, state, county, reservation, tract, block. geographical levels, region state, can given . Others, county place, must queried within specific containing geographic level (usually state). small geographic areas, like blocks, may require several levels containing geographies, state, county, tract. containing geographies may given wildcards. example, ask county-level data every state specifying \"*\" instead FIPS code state.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/METADATA_FOR_ACS_GEOGRAPHIES.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Details about levels of geographic detail in the most recent American Community Series — METADATA_FOR_ACS_GEOGRAPHIES","text":"","code":"METADATA_FOR_ACS_GEOGRAPHIES"},{"path":"https://higherx4racine.github.io/hercacstables/reference/METADATA_FOR_ACS_GEOGRAPHIES.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Details about levels of geographic detail in the most recent American Community Series — METADATA_FOR_ACS_GEOGRAPHIES","text":"tibble five columns Geographic Level verbatim text must pass API referring geographic level. Containing Geographies One sets containing geographies must specified querying level geography Wildcard Option containing geography, , can set wildcard pulling data geographical level. ACS1 reference date level available 1-year dataset, otherwise NA. ACS5 reference date level available 5-year dataset, otherwise NA.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/METADATA_FOR_ACS_GEOGRAPHIES.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Details about levels of geographic detail in the most recent American Community Series — METADATA_FOR_ACS_GEOGRAPHIES","text":"https://www.census.gov/programs-surveys/acs/geography-acs/concepts-definitions.html","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/METADATA_FOR_ACS_GROUPS.html","id":null,"dir":"Reference","previous_headings":"","what":"Details about the groups in the most recent American Community Series — METADATA_FOR_ACS_GROUPS","title":"Details about the groups in the most recent American Community Series — METADATA_FOR_ACS_GROUPS","text":"context ACS data, \"group\" get running query specific topic. example, group B01001B reports population numbers sex age, group B25063 reports number housing units different rent brackets.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/METADATA_FOR_ACS_GROUPS.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Details about the groups in the most recent American Community Series — METADATA_FOR_ACS_GROUPS","text":"","code":"METADATA_FOR_ACS_GROUPS"},{"path":"https://higherx4racine.github.io/hercacstables/reference/METADATA_FOR_ACS_GROUPS.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Details about the groups in the most recent American Community Series — METADATA_FOR_ACS_GROUPS","text":"list three items Group code group, \"B01001B\" \"B25063\" Universe population data describe, \"People Black African American alone\" \"Renter-occupied housing units\" Description Details table actually reports, \"Sex Age (Black African American Alone)\" \"Gross Rent.\" ACS1 Whether group available recent 1-year dataset. ACS5 Whether group available recent 5-year dataset.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/METADATA_FOR_ACS_GROUPS.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Details about the groups in the most recent American Community Series — METADATA_FOR_ACS_GROUPS","text":"https://www.census.gov/programs-surveys/acs/technical-documentation/table-shells.html","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/METADATA_FOR_ACS_VARIABLES.html","id":null,"dir":"Reference","previous_headings":"","what":"Details about variables in the most recent American Community Series — METADATA_FOR_ACS_VARIABLES","title":"Details about variables in the most recent American Community Series — METADATA_FOR_ACS_VARIABLES","text":"context ACS data, \"variable\" single row data running query specific topic. example, group B010001 reports population numbers sex age, group B25063 reports number housing units different rent brackets. Technically, 4 variables row: estimate, margin error, annotations . practice, usually just want estimate..","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/METADATA_FOR_ACS_VARIABLES.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Details about variables in the most recent American Community Series — METADATA_FOR_ACS_VARIABLES","text":"","code":"METADATA_FOR_ACS_VARIABLES"},{"path":"https://higherx4racine.github.io/hercacstables/reference/METADATA_FOR_ACS_VARIABLES.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Details about variables in the most recent American Community Series — METADATA_FOR_ACS_VARIABLES","text":"list three items Dataset Whether variable pertains 1-year 5-year dataset. Group code group, \"B01001B\" \"B25063\" Index row number group variable, like 2 5. Variable full code variable, like \"B01001B_002E\" \"B25063_005E\" Details vector one strings describing variable actually represents.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/METADATA_FOR_ACS_VARIABLES.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"Details about variables in the most recent American Community Series — METADATA_FOR_ACS_VARIABLES","text":"https://www.census.gov/programs-surveys/acs/technical-documentation/table-shells.html","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/RACE_ETHNICITY_SUBTABLES.html","id":null,"dir":"Reference","previous_headings":"","what":"Race and ethnicity codes and labels used by the U.S. Census Bureau — RACE_ETHNICITY_SUBTABLES","title":"Race and ethnicity codes and labels used by the U.S. Census Bureau — RACE_ETHNICITY_SUBTABLES","text":"Race ethnicity codes labels used U.S. Census Bureau","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/RACE_ETHNICITY_SUBTABLES.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Race and ethnicity codes and labels used by the U.S. Census Bureau — RACE_ETHNICITY_SUBTABLES","text":"","code":"RACE_ETHNICITY_SUBTABLES"},{"path":"https://higherx4racine.github.io/hercacstables/reference/RACE_ETHNICITY_SUBTABLES.html","id":"format","dir":"Reference","previous_headings":"","what":"Format","title":"Race and ethnicity codes and labels used by the U.S. Census Bureau — RACE_ETHNICITY_SUBTABLES","text":"tibble ten rows five columns: Census Race short description race ethnicity Suffix capital letter designating race ethnicity Inclusive Table name table includes people single multi-racial identities claim identity non-Hispanic row table B03002 counts people racial identity Hispanic ethnic identity Hispanic row table B03002 counts people racial identity Hispanic ethnic identity","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/TYPES_OF_RACE_OR_ETHNICITY.html","id":null,"dir":"Reference","previous_headings":"","what":"For selected tables, an alphabetic suffix follows to indicate that a table is repeated for the nine major race and Hispanic or Latino groups: — TYPES_OF_RACE_OR_ETHNICITY","title":"For selected tables, an alphabetic suffix follows to indicate that a table is repeated for the nine major race and Hispanic or Latino groups: — TYPES_OF_RACE_OR_ETHNICITY","text":"selected tables, alphabetic suffix follows indicate table repeated nine major race Hispanic Latino groups:","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/TYPES_OF_RACE_OR_ETHNICITY.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"For selected tables, an alphabetic suffix follows to indicate that a table is repeated for the nine major race and Hispanic or Latino groups: — TYPES_OF_RACE_OR_ETHNICITY","text":"","code":"TYPES_OF_RACE_OR_ETHNICITY"},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/TYPES_OF_RACE_OR_ETHNICITY.html","id":"types-of-race-or-ethnicity","dir":"Reference","previous_headings":"","what":"TYPES_OF_RACE_OR_ETHNICITY","title":"For selected tables, an alphabetic suffix follows to indicate that a table is repeated for the nine major race and Hispanic or Latino groups: — TYPES_OF_RACE_OR_ETHNICITY","text":"data frame 9 rows 2 columns. Code <chr> one-letter suffix Race Ethnic Group <chr> racial ethnic identity \"Black Alone\" \"Hispanic Latino\".","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/TYPES_OF_RACE_OR_ETHNICITY.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"For selected tables, an alphabetic suffix follows to indicate that a table is repeated for the nine major race and Hispanic or Latino groups: — TYPES_OF_RACE_OR_ETHNICITY","text":"https://www.census.gov/programs-surveys/acs/data/data-tables/table-ids-explained.html","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/TYPES_OF_SUBJECT.html","id":null,"dir":"Reference","previous_headings":"","what":"A code for the broad subject that a Census table covers. — TYPES_OF_SUBJECT","title":"A code for the broad subject that a Census table covers. — TYPES_OF_SUBJECT","text":"second 2 characters identify subject table. apply B, C, K20, S, R, GCT Tables. Profiles DP, NP, CP, S0201 cover multiple topics, characters indicate subject.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/TYPES_OF_SUBJECT.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A code for the broad subject that a Census table covers. — TYPES_OF_SUBJECT","text":"","code":"TYPES_OF_SUBJECT"},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/TYPES_OF_SUBJECT.html","id":"types-of-subject","dir":"Reference","previous_headings":"","what":"TYPES_OF_SUBJECT","title":"A code for the broad subject that a Census table covers. — TYPES_OF_SUBJECT","text":"data frame 31 rows 2 columns. Subject Number <chr> zero-padded numeric code subject Subject Name <chr> short description subject.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/TYPES_OF_SUBJECT.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"A code for the broad subject that a Census table covers. — TYPES_OF_SUBJECT","text":"https://www.census.gov/programs-surveys/acs/data/data-tables/table-ids-explained.html","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/TYPES_OF_TABLE.html","id":null,"dir":"Reference","previous_headings":"","what":"A Census table's ID always starts with an alphanumeric code for its type. — TYPES_OF_TABLE","title":"A Census table's ID always starts with an alphanumeric code for its type. — TYPES_OF_TABLE","text":"Census table's ID always starts alphanumeric code type.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/TYPES_OF_TABLE.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"A Census table's ID always starts with an alphanumeric code for its type. — TYPES_OF_TABLE","text":"","code":"TYPES_OF_TABLE"},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/TYPES_OF_TABLE.html","id":"types-of-table","dir":"Reference","previous_headings":"","what":"TYPES_OF_TABLE","title":"A Census table's ID always starts with an alphanumeric code for its type. — TYPES_OF_TABLE","text":"data frame 11 rows 3 columns. Table ID Characters <chr> alphanumeric code type table Type Table <chr> human-readable name type table. Contains <chr> description information type table contain.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/TYPES_OF_TABLE.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"A Census table's ID always starts with an alphanumeric code for its type. — TYPES_OF_TABLE","text":"https://www.census.gov/programs-surveys/acs/data/data-tables/table-ids-explained.html","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/TYPES_OF_VARIABLE.html","id":null,"dir":"Reference","previous_headings":"","what":"ACS data contain variables ending in 1- or 2-letter codes. — TYPES_OF_VARIABLE","title":"ACS data contain variables ending in 1- or 2-letter codes. — TYPES_OF_VARIABLE","text":"table defines variable type meaning.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/TYPES_OF_VARIABLE.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"ACS data contain variables ending in 1- or 2-letter codes. — TYPES_OF_VARIABLE","text":"","code":"TYPES_OF_VARIABLE"},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/TYPES_OF_VARIABLE.html","id":"types-of-variable","dir":"Reference","previous_headings":"","what":"TYPES_OF_VARIABLE","title":"ACS data contain variables ending in 1- or 2-letter codes. — TYPES_OF_VARIABLE","text":"data frame 7 rows 4 columns. Variable Type <chr> 1- 2-letter code Title <chr> human-readable name type variable. Related Products <chr> types Census data contain kind variable. Meaning <chr> detailed explanation kind variable represents.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/TYPES_OF_VARIABLE.html","id":"source","dir":"Reference","previous_headings":"","what":"Source","title":"ACS data contain variables ending in 1- or 2-letter codes. — TYPES_OF_VARIABLE","text":"https://www.census.gov/data/developers/data-sets/acs-1year/notes--acs-api-variable-types.html","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/api_key_is_set.html","id":null,"dir":"Reference","previous_headings":"","what":"Check if the local environment contains an expected constant defining an API key — api_key_is_set","title":"Check if the local environment contains an expected constant defining an API key — api_key_is_set","text":"Check local environment contains expected constant defining API key","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/api_key_is_set.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Check if the local environment contains an expected constant defining an API key — api_key_is_set","text":"","code":"api_key_is_set()"},{"path":"https://higherx4racine.github.io/hercacstables/reference/api_key_is_set.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Check if the local environment contains an expected constant defining an API key — api_key_is_set","text":"TRUE key exists, FALSE otherwise","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/api_key_is_set.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Check if the local environment contains an expected constant defining an API key — api_key_is_set","text":"","code":"api_key_is_set() #> [1] FALSE"},{"path":"https://higherx4racine.github.io/hercacstables/reference/api_key_setup.html","id":null,"dir":"Reference","previous_headings":"","what":"Guide a new user at setting up a Census API key — api_key_setup","title":"Guide a new user at setting up a Census API key — api_key_setup","text":"works interactive mode. checks key already exists environment. key corresponds Sys.getenv(\"CENSUS_API_KEY\") order compatible tidycensus package. key exist prompts either go Census website (open browser window ) enter API key (typing pasting). sets value current environment saves .Renviron file user's HOME directory.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/api_key_setup.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Guide a new user at setting up a Census API key — api_key_setup","text":"","code":"api_key_setup()"},{"path":"https://higherx4racine.github.io/hercacstables/reference/api_key_setup.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Guide a new user at setting up a Census API key — api_key_setup","text":"numeric status: 0 success, 1 quitting, 2 key exists.","code":""},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/api_key_setup.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Guide a new user at setting up a Census API key — api_key_setup","text":"","code":"api_key_setup() #> [1] 0"},{"path":"https://higherx4racine.github.io/hercacstables/reference/api_key_value.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the current value of the local Census API key — api_key_value","title":"Get the current value of the local Census API key — api_key_value","text":"corresponds Sys.getenv(\"CENSUS_API_KEY\") order compatible tidycensus package.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/api_key_value.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the current value of the local Census API key — api_key_value","text":"","code":"api_key_value()"},{"path":"https://higherx4racine.github.io/hercacstables/reference/api_key_value.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the current value of the local Census API key — api_key_value","text":"hexadecimal API token, empty string","code":""},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/api_key_value.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get the current value of the local Census API key — api_key_value","text":"","code":"api_key_value() #> [1] \"\""},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_api_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Create an API call to send to api.census.gov — build_api_url","title":"Create an API call to send to api.census.gov — build_api_url","text":"Create API call send api.census.gov","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_api_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create an API call to send to api.census.gov — build_api_url","text":"","code":"build_api_url(   variables,   for_geo,   for_items,   survey_type,   table_or_survey_code,   year,   ...,   use_key = TRUE )"},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_api_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create an API call to send to api.census.gov — build_api_url","text":"variables <chr[]> vector variable names, like \"B01001_001E\" for_geo <chr> geographical level data describe, e.g. \"tract\" for_items <chr[]> one instances for_geo desired, e.g. \"*\" \"000200\", passed build_for_geographies() survey_type e.g. \"acs\" \"dec\" table_or_survey_code e.g. \"acs5\" \"pl\" year integer year, e.g. 2021L ... <dynamic dots> items pass query use_key <lgl?> optional, query include Census API key system environment. Defaults TRUE","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_api_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create an API call to send to api.census.gov — build_api_url","text":"one URL, string","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_api_url.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create an API call to send to api.census.gov — build_api_url","text":"","code":"hercacstables:::build_api_url(paste0(\"B25003_00\", 1:3, \"E\"),                               \"tract\",                               \"*\",                               \"acs\",                               \"acs5\",                               2020L,                               state = 55L,                               county = 101L,                               use_key = FALSE) #> [1] \"https://api.census.gov/data/2020/acs/acs5?get=B25003_001E%2CB25003_002E%2CB25003_003E&for=tract%3A%2A&in=state%3A55%20county%3A101\"  hercacstables:::build_api_url(paste0(\"P1_00\", c(1, 3, 4), \"N\"),                               \"tract\",                               \"*\",                               \"dec\",                               \"pl\",                               2020L,                               state = 55L,                               county = 101L,                               use_key = FALSE) #> [1] \"https://api.census.gov/data/2020/dec/pl?get=P1_001N%2CP1_003N%2CP1_004N&for=tract%3A%2A&in=state%3A55%20county%3A101\""},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_api_variable.html","id":null,"dir":"Reference","previous_headings":"","what":"Vectorized Creation of Census ACS Variables — build_api_variable","title":"Vectorized Creation of Census ACS Variables — build_api_variable","text":"detail group variables format \"B000OO*_000E\", \"B\" \"E\" literal \"*\" race code.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_api_variable.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Vectorized Creation of Census ACS Variables — build_api_variable","text":"","code":"build_api_variable(   group_code,   item_number,   race_code = \"\",   separator = \"_\",   suffix = \"E\" )"},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_api_variable.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Vectorized Creation of Census ACS Variables — build_api_variable","text":"group_code group code, like \"B18101\" item_number integer 0 999 race_code optional, either empty string one [..] separator optional, usually \"_\" ACS variables. suffix optional, usually \"E\" ACS variables, sometimes \"N\" decennial data.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_api_variable.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Vectorized Creation of Census ACS Variables — build_api_variable","text":"vector strings, variable name","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_api_variable.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Vectorized Creation of Census ACS Variables — build_api_variable","text":"","code":"groups <- c(\"B19013\", \"B18101\", \"B18101\") races <- c(\"\", \"\", \"I\") numbers <- 1 build_api_variable(groups, numbers, races) #> [1] \"B19013_001E\"  \"B18101_001E\"  \"B18101I_001E\""},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_for_geographies.html","id":null,"dir":"Reference","previous_headings":"","what":"Use the for geography to specify the level that you are querying data for. — build_for_geographies","title":"Use the for geography to specify the level that you are querying data for. — build_for_geographies","text":"Use geography specify level querying data .","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_for_geographies.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Use the for geography to specify the level that you are querying data for. — build_for_geographies","text":"","code":"build_for_geographies(for_geo, ...)"},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_for_geographies.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Use the for geography to specify the level that you are querying data for. — build_for_geographies","text":"for_geo <chr> geographical level data describe, e.g. \"tract\" ... <dynamic-dots> specific items search , items leave empty.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_for_geographies.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Use the for geography to specify the level that you are querying data for. — build_for_geographies","text":"list one element named \"key:value\" string","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_for_geographies.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Use the for geography to specify the level that you are querying data for. — build_for_geographies","text":"","code":"hercacstables:::build_for_geographies(\"block\") #> $`for` #> [1] \"block:*\" #>  hercacstables:::build_for_geographies(\"tract\", \"000400\", \"000500\") #> $`for` #> [1] \"tract:000400,000500\" #>"},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_in_geographies.html","id":null,"dir":"Reference","previous_headings":"","what":"Create the part of a Census API query that describes containing geographies — build_in_geographies","title":"Create the part of a Census API query that describes containing geographies — build_in_geographies","text":"Create part Census API query describes containing geographies","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_in_geographies.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create the part of a Census API query that describes containing geographies — build_in_geographies","text":"","code":"build_in_geographies(...)"},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_in_geographies.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create the part of a Census API query that describes containing geographies — build_in_geographies","text":"... <dynamic-dots> key-value pairs like \"state='03'\"","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_in_geographies.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create the part of a Census API query that describes containing geographies — build_in_geographies","text":"string ampersand-separated =geo:code pairs","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_in_geographies.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Create the part of a Census API query that describes containing geographies — build_in_geographies","text":"","code":"hercacstables:::build_in_geographies(state=55, county = 101, barf=NULL) #> $`in` #> [1] \"state:55 county:101\" #>"},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_info_url.html","id":null,"dir":"Reference","previous_headings":"","what":"Get the URL for JSON glossary about one table of ACS data — build_info_url","title":"Get the URL for JSON glossary about one table of ACS data — build_info_url","text":"complete URL, including protocol file extension, downloading glossary geographies, groups variables, specific variables.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_info_url.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get the URL for JSON glossary about one table of ACS data — build_info_url","text":"","code":"build_info_url(.info_type, .year, .year_span)"},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_info_url.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get the URL for JSON glossary about one table of ACS data — build_info_url","text":".info_type One \"geography\", \"groups\", \"variables\". .year integer year 2004 current year, inclusive. .year_span Either 1, 3, 5, depending upon desired time resolution.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_info_url.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get the URL for JSON glossary about one table of ACS data — build_info_url","text":"string contains URL.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_info_url.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Get the URL for JSON glossary about one table of ACS data — build_info_url","text":"","code":"hercacstables:::build_info_url(\"groups\", 2021L, 5L) #> [1] \"https://api.census.gov/data/2021/acs/acs5/groups.json\""},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_query_parameters.html","id":null,"dir":"Reference","previous_headings":"","what":"Create the query part of a call to the Census's data API — build_query_parameters","title":"Create the query part of a call to the Census's data API — build_query_parameters","text":"Create query part call Census's data API","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_query_parameters.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Create the query part of a call to the Census's data API — build_query_parameters","text":"","code":"build_query_parameters(   variables,   for_geo,   for_items = NULL,   in_geos = NULL,   use_key = FALSE )"},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_query_parameters.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Create the query part of a call to the Census's data API — build_query_parameters","text":"variables <chr[]> vector variable names, like \"B01001_001E\" for_geo <chr> geographical level data describe, e.g. \"tract\" for_items <chr[]> one instances for_geo desired, e.g. \"*\" \"000200\", passed build_for_geographies() in_geos <lst> list key-value pairs pass build_in_geographies() use_key <lgl?> optional, query include Census API key system environment. Defaults TRUE","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/build_query_parameters.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Create the query part of a call to the Census's data API — build_query_parameters","text":"list key-value pairs can converted URL query.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_data.html","id":null,"dir":"Reference","previous_headings":"","what":"Download a set of data from the US Census API — fetch_data","title":"Download a set of data from the US Census API — fetch_data","text":"Download set data US Census API","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_data.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download a set of data from the US Census API — fetch_data","text":"","code":"fetch_data(   variables,   year,   for_geo,   for_items,   survey_type,   table_or_survey_code,   ...,   use_key = TRUE )"},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_data.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download a set of data from the US Census API — fetch_data","text":"variables <chr[]> vector variable names, like \"B01001_001E\" year integer year, e.g. 2021L for_geo <chr> geographical level data describe, e.g. \"tract\" for_items <chr[]> one instances for_geo desired, e.g. \"*\" \"000200\", passed build_for_geographies() survey_type e.g. \"acs\" \"dec\" table_or_survey_code e.g. \"acs5\" \"pl\" ... <dynamic dots> items pass query use_key <lgl?> optional, query include Census API key system environment. Defaults TRUE","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_data.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download a set of data from the US Census API — fetch_data","text":"tibble \"Group\", \"Index\", \"Value\", \"Year\" fields, well one field geography.","code":""},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_decennial_pops_by_race.html","id":null,"dir":"Reference","previous_headings":"","what":"Get decennial census estimates of per-block populations by race/ethnicity — fetch_decennial_pops_by_race","title":"Get decennial census estimates of per-block populations by race/ethnicity — fetch_decennial_pops_by_race","text":"function retrieves data tables split people race Hispanic/Latin\\@ ethnicity.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_decennial_pops_by_race.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Get decennial census estimates of per-block populations by race/ethnicity — fetch_decennial_pops_by_race","text":"","code":"fetch_decennial_pops_by_race(...)"},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_decennial_pops_by_race.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Get decennial census estimates of per-block populations by race/ethnicity — fetch_decennial_pops_by_race","text":"... Arguments passed build_api_url for_items <chr[]> one instances for_geo desired, e.g. \"*\" \"000200\", passed build_for_geographies() use_key <lgl?> optional, query include Census API key system environment. Defaults TRUE for_geo <chr> geographical level data describe, e.g. \"tract\"","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_decennial_pops_by_race.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Get decennial census estimates of per-block populations by race/ethnicity — fetch_decennial_pops_by_race","text":"tibble least four columns: Vintage decennial year, currently 2000, 2010, 2020 Race/Ethnicity OMB text descriptions Race/Ethnicities ... additional columns identify geographic unit Population number people block year race/ethnicity","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_json_as_list.html","id":null,"dir":"Reference","previous_headings":"","what":"Make a call to the Census API and convert the JSON response to an R list. — fetch_json_as_list","title":"Make a call to the Census API and convert the JSON response to an R list. — fetch_json_as_list","text":"Make call Census API convert JSON response R list.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_json_as_list.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Make a call to the Census API and convert the JSON response to an R list. — fetch_json_as_list","text":"","code":"fetch_json_as_list(   variables,   year,   for_geo,   for_items,   survey_type,   table_or_survey_code,   ...,   use_key = TRUE )"},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_json_as_list.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Make a call to the Census API and convert the JSON response to an R list. — fetch_json_as_list","text":"variables <chr[]> vector variable names, like \"B01001_001E\" year integer year, e.g. 2021L for_geo <chr> geographical level data describe, e.g. \"tract\" for_items <chr[]> one instances for_geo desired, e.g. \"*\" \"000200\", passed build_for_geographies() survey_type e.g. \"acs\" \"dec\" table_or_survey_code e.g. \"acs5\" \"pl\" ... <dynamic dots> items pass query use_key <lgl?> optional, query include Census API key system environment. Defaults TRUE","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_json_as_list.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Make a call to the Census API and convert the JSON response to an R list. — fetch_json_as_list","text":"list items read json","code":""},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_metadata_table.html","id":null,"dir":"Reference","previous_headings":"","what":"Fetch glossary about a specific ACS data set from the Census API. — fetch_metadata_table","title":"Fetch glossary about a specific ACS data set from the Census API. — fetch_metadata_table","text":"function downloads large JSON object parses tibble.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_metadata_table.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Fetch glossary about a specific ACS data set from the Census API. — fetch_metadata_table","text":"","code":"fetch_metadata_table(.info_type, .year, .year_span)"},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_metadata_table.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Fetch glossary about a specific ACS data set from the Census API. — fetch_metadata_table","text":".info_type One \"geography\", \"groups\", \"variables\". .year integer year 2004 current year, inclusive. .year_span Either 1, 3, 5, depending upon desired time resolution.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/fetch_metadata_table.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Fetch glossary about a specific ACS data set from the Census API. — fetch_metadata_table","text":"tibble.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/hercacstables-package.html","id":null,"dir":"Reference","previous_headings":"","what":"hercacstables: Work with American Community Survey Tables through the US Census API — hercacstables-package","title":"hercacstables: Work with American Community Survey Tables through the US Census API — hercacstables-package","text":"American Community Survey (ACS) US Census's website returns data weirdly idiosyncratic way. many subtotals table. Grouping variables organized tree-like, rather tabular fashion. package intended make easy access use ACS data R.","code":""},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/hercacstables-package.html","id":"author","dir":"Reference","previous_headings":"","what":"Author","title":"hercacstables: Work with American Community Survey Tables through the US Census API — hercacstables-package","text":"Maintainer: Ben Taft ben.taft@career2cradle.org contributors: Higher Expectations Racine County [copyright holder, funder]","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/hercacstables.html","id":null,"dir":"Reference","previous_headings":"","what":"Tools for parsing ACS data tables — hercacstables","title":"Tools for parsing ACS data tables — hercacstables","text":"Tools parsing ACS data tables","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/hoist_table_glossary.html","id":null,"dir":"Reference","previous_headings":"","what":"Hoist details about a Census data group from a list of strings to separate columns — hoist_table_glossary","title":"Hoist details about a Census data group from a list of strings to separate columns — hoist_table_glossary","text":"Hoist details Census data group list strings separate columns","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/hoist_table_glossary.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Hoist details about a Census data group from a list of strings to separate columns — hoist_table_glossary","text":"","code":"hoist_table_glossary(.glossary, .group, .fields)"},{"path":"https://higherx4racine.github.io/hercacstables/reference/hoist_table_glossary.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Hoist details about a Census data group from a list of strings to separate columns — hoist_table_glossary","text":".glossary <data-frame> table glossary Census API variables, e.g. METADATA_FOR_ACS_VARIABLES .group <chr> code group, e.g. \"B01001\" .fields <chr[]> names new columns, e.g. c(\"Sex\", \"Age\")","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/hoist_table_glossary.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Hoist details about a Census data group from a list of strings to separate columns — hoist_table_glossary","text":"new data frame columns","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/hoist_table_glossary.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Hoist details about a Census data group from a list of strings to separate columns — hoist_table_glossary","text":"","code":"hoist_table_glossary(METADATA_FOR_ACS_VARIABLES, \"B06002\", c(\"Median age\", \"Place of birth\")) #> # A tibble: 10 × 6 #>    Dataset Group  Index Variable    `Median age` `Place of birth`                #>    <chr>   <chr>  <int> <chr>       <chr>        <chr>                           #>  1 ACS1    B06002     1 B06002_001E Median age   \"\"                              #>  2 ACS1    B06002     2 B06002_002E Median age   \"Born in state of residence\"    #>  3 ACS1    B06002     3 B06002_003E Median age   \"Born in other state of the Un… #>  4 ACS1    B06002     4 B06002_004E Median age   \"Native; born outside the Unit… #>  5 ACS1    B06002     5 B06002_005E Median age   \"Foreign born\"                  #>  6 ACS5    B06002     1 B06002_001E Median age   \"\"                              #>  7 ACS5    B06002     2 B06002_002E Median age   \"Born in state of residence\"    #>  8 ACS5    B06002     3 B06002_003E Median age   \"Born in other state of the Un… #>  9 ACS5    B06002     4 B06002_004E Median age   \"Native; born outside the Unit… #> 10 ACS5    B06002     5 B06002_005E Median age   \"Foreign born\""},{"path":"https://higherx4racine.github.io/hercacstables/reference/json_list_to_frame.html","id":null,"dir":"Reference","previous_headings":"","what":"Convert a list of json objects from the census into a data frame — json_list_to_frame","title":"Convert a list of json objects from the census into a data frame — json_list_to_frame","text":"Convert list json objects census data frame","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/json_list_to_frame.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Convert a list of json objects from the census into a data frame — json_list_to_frame","text":"","code":"json_list_to_frame(.json_list)"},{"path":"https://higherx4racine.github.io/hercacstables/reference/json_list_to_frame.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Convert a list of json objects from the census into a data frame — json_list_to_frame","text":".json_list list objects","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/json_list_to_frame.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Convert a list of json objects from the census into a data frame — json_list_to_frame","text":"tibble::tibble() column names taken list","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/latest_acs_metadata.html","id":null,"dir":"Reference","previous_headings":"","what":"Download glossary about the most recent versions of the 1- and 5-year ACS — latest_acs_metadata","title":"Download glossary about the most recent versions of the 1- and 5-year ACS — latest_acs_metadata","text":"Download glossary recent versions 1- 5-year ACS","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/latest_acs_metadata.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Download glossary about the most recent versions of the 1- and 5-year ACS — latest_acs_metadata","text":"","code":"latest_acs_metadata(information_type)"},{"path":"https://higherx4racine.github.io/hercacstables/reference/latest_acs_metadata.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Download glossary about the most recent versions of the 1- and 5-year ACS — latest_acs_metadata","text":"information_type <chr> \"geographies\", \"groups\", \"variables\"","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/latest_acs_metadata.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Download glossary about the most recent versions of the 1- and 5-year ACS — latest_acs_metadata","text":"tibble dimensions depend upon information_type","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/most_recent_vintage.html","id":null,"dir":"Reference","previous_headings":"","what":"Query the Census API for the most recent release year of a dataset. — most_recent_vintage","title":"Query the Census API for the most recent release year of a dataset. — most_recent_vintage","text":"Query Census API recent release year dataset.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/most_recent_vintage.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Query the Census API for the most recent release year of a dataset. — most_recent_vintage","text":"","code":"most_recent_vintage(survey_type, table_or_survey_code)"},{"path":"https://higherx4racine.github.io/hercacstables/reference/most_recent_vintage.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Query the Census API for the most recent release year of a dataset. — most_recent_vintage","text":"survey_type e.g. \"acs\" \"dec\" table_or_survey_code e.g. \"acs5\" \"pl\"","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/most_recent_vintage.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Query the Census API for the most recent release year of a dataset. — most_recent_vintage","text":"integer, probably least 2024","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/pivot_and_separate.html","id":null,"dir":"Reference","previous_headings":"","what":"Take a wide-formatted response from the Census API and convert it to long — pivot_and_separate","title":"Take a wide-formatted response from the Census API and convert it to long — pivot_and_separate","text":"Take wide-formatted response Census API convert long","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/pivot_and_separate.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Take a wide-formatted response from the Census API and convert it to long — pivot_and_separate","text":"","code":"pivot_and_separate(.frame, ...)"},{"path":"https://higherx4racine.github.io/hercacstables/reference/pivot_and_separate.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Take a wide-formatted response from the Census API and convert it to long — pivot_and_separate","text":".frame data frame census columns named like B01001_001E ... <dynamic-dots> named regular expressions extracting fields column names","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/pivot_and_separate.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Take a wide-formatted response from the Census API and convert it to long — pivot_and_separate","text":"pivoted data frames columns matched regular expression converted rows described extracted fields.","code":""},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/search_in_columns.html","id":null,"dir":"Reference","previous_headings":"","what":"Search for terms in a glossary in case-insensitive ways — search_in_columns","title":"Search for terms in a glossary in case-insensitive ways — search_in_columns","text":"dynamic arguments function must named array strings. function look string column .dataframe corresponds argument's name. example, providing argument Universe = c(\"Wom[ae]n\", \"years?\") search \"Universe\" column elements include \"women\"  \"woman\" \"year\" \"years\". search case-sensitive. can also exclude patterns prefacing column name \"-\". example, argument \"-Universe\" = \"household\" exclude rows \"Universe\" column contains string \"household\".","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/search_in_columns.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Search for terms in a glossary in case-insensitive ways — search_in_columns","text":"","code":"search_in_columns(.dataframe, ...)"},{"path":"https://higherx4racine.github.io/hercacstables/reference/search_in_columns.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Search for terms in a glossary in case-insensitive ways — search_in_columns","text":".dataframe table search ... <rlang::dyn-dots> Named arrays search terms.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/search_in_columns.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Search for terms in a glossary in case-insensitive ways — search_in_columns","text":"<dfr> filtered version .dataframe","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/search_in_columns.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Search for terms in a glossary in case-insensitive ways — search_in_columns","text":"","code":"hercacstables::search_in_columns(   hercacstables::METADATA_FOR_ACS_GEOGRAPHIES,   `Wildcard Option` = \".\" ) #> # A tibble: 14 × 5 #>    `Geographic Level`        Containing Geographi…¹ `Wildcard Option` ACS1       #>    <chr>                     <chr>                  <chr>             <date>     #>  1 county                    {state}                {state}           2023-01-01 #>  2 county subdivision        {state, county}        {county}          2023-01-01 #>  3 place                     {state}                {state}           2023-01-01 #>  4 alaska native regional c… {state}                {state}           2023-01-01 #>  5 congressional district    {state}                {state}           2023-01-01 #>  6 public use microdata area {state}                {state}           2023-01-01 #>  7 school district (element… {state}                {state}           2023-01-01 #>  8 school district (seconda… {state}                {state}           2023-01-01 #>  9 school district (unified) {state}                {state}           2023-01-01 #> 10 county                    {state}; {metropolita… {state}           NA         #> 11 tract                     {state, county}        {county}          NA         #> 12 block group               {state, county, tract} {tract}           NA         #> 13 consolidated city         {state}                {state}           NA         #> 14 tribal subdivision/remai… {american indian area… {american indian… NA         #> # ℹ abbreviated name: ¹​`Containing Geographies` #> # ℹ 1 more variable: ACS5 <date> hercacstables::search_in_columns(   hercacstables::METADATA_FOR_ACS_GEOGRAPHIES,   `-Wildcard Option` = \".\" ) #> # A tibble: 32 × 5 #>    `Geographic Level`        Containing Geographi…¹ `Wildcard Option` ACS1       #>    <chr>                     <chr>                  <chr>             <date>     #>  1 us                        \"\"                     \"\"                2023-01-01 #>  2 region                    \"\"                     \"\"                2023-01-01 #>  3 division                  \"\"                     \"\"                2023-01-01 #>  4 state                     \"\"                     \"\"                2023-01-01 #>  5 american indian area/ala… \"\"                     \"\"                2023-01-01 #>  6 metropolitan statistical… \"\"                     \"\"                2023-01-01 #>  7 principal city (or part)  \"{metropolitan statis… \"\"                2023-01-01 #>  8 metropolitan division     \"{metropolitan statis… \"\"                2023-01-01 #>  9 combined statistical area \"\"                     \"\"                2023-01-01 #> 10 urban area                \"\"                     \"\"                2023-01-01 #> # ℹ 22 more rows #> # ℹ abbreviated name: ¹​`Containing Geographies` #> # ℹ 1 more variable: ACS5 <date>"},{"path":"https://higherx4racine.github.io/hercacstables/reference/subtract_parts_from_whole.html","id":null,"dir":"Reference","previous_headings":"","what":"Computes a remainder values from measures of some subgroups and one all-group — subtract_parts_from_whole","title":"Computes a remainder values from measures of some subgroups and one all-group — subtract_parts_from_whole","text":"Computes remainder values measures subgroups one -group","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/subtract_parts_from_whole.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Computes a remainder values from measures of some subgroups and one all-group — subtract_parts_from_whole","text":"","code":"subtract_parts_from_whole(   .data_frame,   grouping_column,   value_column,   whole_name,   part_names,   remainder_name )"},{"path":"https://higherx4racine.github.io/hercacstables/reference/subtract_parts_from_whole.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Computes a remainder values from measures of some subgroups and one all-group — subtract_parts_from_whole","text":".data_frame <dataframe> input data grouping_column <chr> name column defines grouping value_column <chr> name column holds values whole_name <chr> level grouping signifies total part_names <chr[]> levels grouping remainder_name <chr> new name difference whole parts","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/subtract_parts_from_whole.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Computes a remainder values from measures of some subgroups and one all-group — subtract_parts_from_whole","text":"new data frame number columns extra rows new group level","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/the_year_right_now.html","id":null,"dir":"Reference","previous_headings":"","what":"Today's year in the Gregorian calendar. — the_year_right_now","title":"Today's year in the Gregorian calendar. — the_year_right_now","text":"Today's year Gregorian calendar.","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/the_year_right_now.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Today's year in the Gregorian calendar. — the_year_right_now","text":"","code":"the_year_right_now()"},{"path":"https://higherx4racine.github.io/hercacstables/reference/the_year_right_now.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Today's year in the Gregorian calendar. — the_year_right_now","text":"<int> probably 2024 later","code":""},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/the_year_right_now.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Today's year in the Gregorian calendar. — the_year_right_now","text":"","code":"the_year_right_now() #> [1] 2026"},{"path":"https://higherx4racine.github.io/hercacstables/reference/unpack_group_details.html","id":null,"dir":"Reference","previous_headings":"","what":"Pull apart the lists of details for one group of ACS data — unpack_group_details","title":"Pull apart the lists of details for one group of ACS data — unpack_group_details","text":"Pull apart lists details one group ACS data","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/unpack_group_details.html","id":"ref-usage","dir":"Reference","previous_headings":"","what":"Usage","title":"Pull apart the lists of details for one group of ACS data — unpack_group_details","text":"","code":"unpack_group_details(.group)"},{"path":"https://higherx4racine.github.io/hercacstables/reference/unpack_group_details.html","id":"arguments","dir":"Reference","previous_headings":"","what":"Arguments","title":"Pull apart the lists of details for one group of ACS data — unpack_group_details","text":".group code group, like \"B25043\" \"C15010B\"","code":""},{"path":"https://higherx4racine.github.io/hercacstables/reference/unpack_group_details.html","id":"value","dir":"Reference","previous_headings":"","what":"Value","title":"Pull apart the lists of details for one group of ACS data — unpack_group_details","text":"tibble least 4 columns, like METADATA_FOR_ACS_VARIABLES, Details split multiple columns uppercase letter names.","code":""},{"path":[]},{"path":"https://higherx4racine.github.io/hercacstables/reference/unpack_group_details.html","id":"ref-examples","dir":"Reference","previous_headings":"","what":"Examples","title":"Pull apart the lists of details for one group of ACS data — unpack_group_details","text":"","code":"unpack_group_details(\"B01002B\") #> # A tibble: 6 × 6 #>   Dataset Group   Index Variable     A          B        #>   <chr>   <chr>   <int> <chr>        <chr>      <chr>    #> 1 ACS1    B01002B     1 B01002B_001E Median age \"\"       #> 2 ACS1    B01002B     2 B01002B_002E Median age \"Male\"   #> 3 ACS1    B01002B     3 B01002B_003E Median age \"Female\" #> 4 ACS5    B01002B     1 B01002B_001E Median age \"\"       #> 5 ACS5    B01002B     2 B01002B_002E Median age \"Male\"   #> 6 ACS5    B01002B     3 B01002B_003E Median age \"Female\""}]
